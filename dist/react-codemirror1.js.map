{"version":3,"sources":["webpack:///webpack/bootstrap 4cb23b705c32578ff575","webpack:///./src/client/app/index.jsx","webpack:///./~/react/react.js","webpack:///./~/react/lib/React.js","webpack:///./~/process/browser.js","webpack:///./~/object-assign/index.js","webpack:///./~/react/lib/ReactChildren.js","webpack:///./~/react/lib/PooledClass.js","webpack:///./~/react/lib/reactProdInvariant.js","webpack:///./~/fbjs/lib/invariant.js","webpack:///./~/react/lib/ReactElement.js","webpack:///./~/react/lib/ReactCurrentOwner.js","webpack:///./~/fbjs/lib/warning.js","webpack:///./~/fbjs/lib/emptyFunction.js","webpack:///./~/react/lib/canDefineProperty.js","webpack:///./~/react/lib/ReactElementSymbol.js","webpack:///./~/react/lib/traverseAllChildren.js","webpack:///./~/react/lib/getIteratorFn.js","webpack:///./~/react/lib/KeyEscapeUtils.js","webpack:///./~/react/lib/ReactComponent.js","webpack:///./~/react/lib/ReactNoopUpdateQueue.js","webpack:///./~/fbjs/lib/emptyObject.js","webpack:///./~/react/lib/ReactPureComponent.js","webpack:///./~/react/lib/ReactClass.js","webpack:///./~/react/lib/ReactPropTypeLocationNames.js","webpack:///./~/react/lib/ReactDOMFactories.js","webpack:///./~/react/lib/ReactElementValidator.js","webpack:///./~/react/lib/ReactComponentTreeHook.js","webpack:///./~/react/lib/checkReactTypeSpec.js","webpack:///./~/react/lib/ReactPropTypesSecret.js","webpack:///./~/react/lib/ReactPropTypes.js","webpack:///./~/react/lib/ReactVersion.js","webpack:///./~/react/lib/onlyChild.js","webpack:///./~/react-dom/index.js","webpack:///./~/react-dom/lib/ReactDOM.js","webpack:///./~/react-dom/lib/ReactDOMComponentTree.js","webpack:///./~/react-dom/lib/reactProdInvariant.js","webpack:///./~/react-dom/lib/DOMProperty.js","webpack:///./~/react-dom/lib/ReactDOMComponentFlags.js","webpack:///./~/react-dom/lib/ReactDefaultInjection.js","webpack:///./~/react-dom/lib/ARIADOMPropertyConfig.js","webpack:///./~/react-dom/lib/BeforeInputEventPlugin.js","webpack:///./~/react-dom/lib/EventPropagators.js","webpack:///./~/react-dom/lib/EventPluginHub.js","webpack:///./~/react-dom/lib/EventPluginRegistry.js","webpack:///./~/react-dom/lib/EventPluginUtils.js","webpack:///./~/react-dom/lib/ReactErrorUtils.js","webpack:///./~/react-dom/lib/accumulateInto.js","webpack:///./~/react-dom/lib/forEachAccumulated.js","webpack:///./~/fbjs/lib/ExecutionEnvironment.js","webpack:///./~/react-dom/lib/FallbackCompositionState.js","webpack:///./~/react-dom/lib/PooledClass.js","webpack:///./~/react-dom/lib/getTextContentAccessor.js","webpack:///./~/react-dom/lib/SyntheticCompositionEvent.js","webpack:///./~/react-dom/lib/SyntheticEvent.js","webpack:///./~/react-dom/lib/SyntheticInputEvent.js","webpack:///./~/react-dom/lib/ChangeEventPlugin.js","webpack:///./~/react-dom/lib/ReactUpdates.js","webpack:///./~/react-dom/lib/CallbackQueue.js","webpack:///./~/react-dom/lib/ReactFeatureFlags.js","webpack:///./~/react-dom/lib/ReactReconciler.js","webpack:///./~/react-dom/lib/ReactRef.js","webpack:///./~/react-dom/lib/ReactOwner.js","webpack:///./~/react-dom/lib/ReactInstrumentation.js","webpack:///./~/react-dom/lib/ReactDebugTool.js","webpack:///./~/react-dom/lib/ReactInvalidSetStateWarningHook.js","webpack:///./~/react-dom/lib/ReactHostOperationHistoryHook.js","webpack:///./~/fbjs/lib/performanceNow.js","webpack:///./~/fbjs/lib/performance.js","webpack:///./~/react-dom/lib/Transaction.js","webpack:///./~/react-dom/lib/getEventTarget.js","webpack:///./~/react-dom/lib/isEventSupported.js","webpack:///./~/react-dom/lib/isTextInputElement.js","webpack:///./~/react-dom/lib/DefaultEventPluginOrder.js","webpack:///./~/react-dom/lib/EnterLeaveEventPlugin.js","webpack:///./~/react-dom/lib/SyntheticMouseEvent.js","webpack:///./~/react-dom/lib/SyntheticUIEvent.js","webpack:///./~/react-dom/lib/ViewportMetrics.js","webpack:///./~/react-dom/lib/getEventModifierState.js","webpack:///./~/react-dom/lib/HTMLDOMPropertyConfig.js","webpack:///./~/react-dom/lib/ReactComponentBrowserEnvironment.js","webpack:///./~/react-dom/lib/DOMChildrenOperations.js","webpack:///./~/react-dom/lib/DOMLazyTree.js","webpack:///./~/react-dom/lib/DOMNamespaces.js","webpack:///./~/react-dom/lib/setInnerHTML.js","webpack:///./~/react-dom/lib/createMicrosoftUnsafeLocalFunction.js","webpack:///./~/react-dom/lib/setTextContent.js","webpack:///./~/react-dom/lib/escapeTextContentForBrowser.js","webpack:///./~/react-dom/lib/Danger.js","webpack:///./~/fbjs/lib/createNodesFromMarkup.js","webpack:///./~/fbjs/lib/createArrayFromMixed.js","webpack:///./~/fbjs/lib/getMarkupWrap.js","webpack:///./~/react-dom/lib/ReactDOMIDOperations.js","webpack:///./~/react-dom/lib/ReactDOMComponent.js","webpack:///./~/react-dom/lib/AutoFocusUtils.js","webpack:///./~/fbjs/lib/focusNode.js","webpack:///./~/react-dom/lib/CSSPropertyOperations.js","webpack:///./~/react-dom/lib/CSSProperty.js","webpack:///./~/fbjs/lib/camelizeStyleName.js","webpack:///./~/fbjs/lib/camelize.js","webpack:///./~/react-dom/lib/dangerousStyleValue.js","webpack:///./~/fbjs/lib/hyphenateStyleName.js","webpack:///./~/fbjs/lib/hyphenate.js","webpack:///./~/fbjs/lib/memoizeStringOnly.js","webpack:///./~/react-dom/lib/DOMPropertyOperations.js","webpack:///./~/react-dom/lib/quoteAttributeValueForBrowser.js","webpack:///./~/react-dom/lib/ReactBrowserEventEmitter.js","webpack:///./~/react-dom/lib/ReactEventEmitterMixin.js","webpack:///./~/react-dom/lib/getVendorPrefixedEventName.js","webpack:///./~/react-dom/lib/ReactDOMInput.js","webpack:///./~/react-dom/lib/LinkedValueUtils.js","webpack:///./~/react-dom/lib/ReactPropTypesSecret.js","webpack:///./~/react-dom/lib/ReactDOMOption.js","webpack:///./~/react-dom/lib/ReactDOMSelect.js","webpack:///./~/react-dom/lib/ReactDOMTextarea.js","webpack:///./~/react-dom/lib/ReactMultiChild.js","webpack:///./~/react-dom/lib/ReactComponentEnvironment.js","webpack:///./~/react-dom/lib/ReactInstanceMap.js","webpack:///./~/react-dom/lib/ReactChildReconciler.js","webpack:///./~/react-dom/lib/instantiateReactComponent.js","webpack:///./~/react-dom/lib/ReactCompositeComponent.js","webpack:///./~/react-dom/lib/ReactNodeTypes.js","webpack:///./~/react-dom/lib/checkReactTypeSpec.js","webpack:///./~/react-dom/lib/ReactPropTypeLocationNames.js","webpack:///./~/fbjs/lib/shallowEqual.js","webpack:///./~/react-dom/lib/shouldUpdateReactComponent.js","webpack:///./~/react-dom/lib/ReactEmptyComponent.js","webpack:///./~/react-dom/lib/ReactHostComponent.js","webpack:///./~/react-dom/lib/getNextDebugID.js","webpack:///./~/react-dom/lib/KeyEscapeUtils.js","webpack:///./~/react-dom/lib/traverseAllChildren.js","webpack:///./~/react-dom/lib/ReactElementSymbol.js","webpack:///./~/react-dom/lib/getIteratorFn.js","webpack:///./~/react-dom/lib/flattenChildren.js","webpack:///./~/react-dom/lib/ReactServerRenderingTransaction.js","webpack:///./~/react-dom/lib/ReactServerUpdateQueue.js","webpack:///./~/react-dom/lib/ReactUpdateQueue.js","webpack:///./~/react-dom/lib/validateDOMNesting.js","webpack:///./~/react-dom/lib/ReactDOMEmptyComponent.js","webpack:///./~/react-dom/lib/ReactDOMTreeTraversal.js","webpack:///./~/react-dom/lib/ReactDOMTextComponent.js","webpack:///./~/react-dom/lib/ReactDefaultBatchingStrategy.js","webpack:///./~/react-dom/lib/ReactEventListener.js","webpack:///./~/fbjs/lib/EventListener.js","webpack:///./~/fbjs/lib/getUnboundedScrollPosition.js","webpack:///./~/react-dom/lib/ReactInjection.js","webpack:///./~/react-dom/lib/ReactReconcileTransaction.js","webpack:///./~/react-dom/lib/ReactInputSelection.js","webpack:///./~/react-dom/lib/ReactDOMSelection.js","webpack:///./~/react-dom/lib/getNodeForCharacterOffset.js","webpack:///./~/fbjs/lib/containsNode.js","webpack:///./~/fbjs/lib/isTextNode.js","webpack:///./~/fbjs/lib/isNode.js","webpack:///./~/fbjs/lib/getActiveElement.js","webpack:///./~/react-dom/lib/SVGDOMPropertyConfig.js","webpack:///./~/react-dom/lib/SelectEventPlugin.js","webpack:///./~/react-dom/lib/SimpleEventPlugin.js","webpack:///./~/react-dom/lib/SyntheticAnimationEvent.js","webpack:///./~/react-dom/lib/SyntheticClipboardEvent.js","webpack:///./~/react-dom/lib/SyntheticFocusEvent.js","webpack:///./~/react-dom/lib/SyntheticKeyboardEvent.js","webpack:///./~/react-dom/lib/getEventCharCode.js","webpack:///./~/react-dom/lib/getEventKey.js","webpack:///./~/react-dom/lib/SyntheticDragEvent.js","webpack:///./~/react-dom/lib/SyntheticTouchEvent.js","webpack:///./~/react-dom/lib/SyntheticTransitionEvent.js","webpack:///./~/react-dom/lib/SyntheticWheelEvent.js","webpack:///./~/react-dom/lib/ReactMount.js","webpack:///./~/react-dom/lib/ReactDOMContainerInfo.js","webpack:///./~/react-dom/lib/ReactDOMFeatureFlags.js","webpack:///./~/react-dom/lib/ReactMarkupChecksum.js","webpack:///./~/react-dom/lib/adler32.js","webpack:///./~/react-dom/lib/ReactVersion.js","webpack:///./~/react-dom/lib/findDOMNode.js","webpack:///./~/react-dom/lib/getHostComponentFromComposite.js","webpack:///./~/react-dom/lib/renderSubtreeIntoContainer.js","webpack:///./~/react-dom/lib/ReactDOMUnknownPropertyHook.js","webpack:///./~/react-dom/lib/ReactDOMNullInputValuePropHook.js","webpack:///./~/react-dom/lib/ReactDOMInvalidARIAHook.js","webpack:///./~/CodeMirror/lib/codemirror.js"],"names":["App","props","state","code","newCode","setState","options","lineNumbers","mode","updateCode","Component","render","document","getElementById","module","exports","require","_assign","ReactChildren","ReactComponent","ReactPureComponent","ReactClass","ReactDOMFactories","ReactElement","ReactPropTypes","ReactVersion","onlyChild","warning","createElement","createFactory","cloneElement","process","env","NODE_ENV","ReactElementValidator","__spread","warned","apply","arguments","React","Children","map","forEach","count","toArray","only","PureComponent","isValidElement","PropTypes","createClass","createMixin","mixin","DOM","version","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","setTimeout","e","clearTimeout","runTimeout","fun","call","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","nextTick","args","Array","i","push","Item","array","prototype","title","browser","argv","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","name","cwd","chdir","dir","umask","getOwnPropertySymbols","Object","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","toObject","val","undefined","TypeError","shouldUseNative","assign","test1","String","getOwnPropertyNames","test2","fromCharCode","order2","n","join","test3","split","letter","keys","err","target","source","from","to","symbols","s","key","PooledClass","emptyFunction","traverseAllChildren","twoArgumentPooler","fourArgumentPooler","userProvidedKeyEscapeRegex","escapeUserProvidedKey","text","replace","ForEachBookKeeping","forEachFunction","forEachContext","func","context","destructor","addPoolingTo","forEachSingleChild","bookKeeping","child","forEachChildren","children","forEachFunc","traverseContext","getPooled","release","MapBookKeeping","mapResult","keyPrefix","mapFunction","mapContext","result","mapSingleChildIntoContext","childKey","mappedChild","isArray","mapIntoWithKeyPrefixInternal","thatReturnsArgument","cloneAndReplaceKey","prefix","escapedPrefix","mapChildren","forEachSingleChildDummy","countChildren","_prodInvariant","invariant","oneArgumentPooler","copyFieldsFrom","Klass","instancePool","instance","pop","a1","a2","threeArgumentPooler","a3","a4","standardReleaser","poolSize","DEFAULT_POOL_SIZE","DEFAULT_POOLER","CopyConstructor","pooler","NewKlass","reactProdInvariant","argCount","message","argIdx","encodeURIComponent","error","framesToPop","validateFormat","format","condition","a","b","c","d","f","argIndex","ReactCurrentOwner","canDefineProperty","REACT_ELEMENT_TYPE","RESERVED_PROPS","ref","__self","__source","specialPropKeyWarningShown","specialPropRefWarningShown","hasValidRef","config","getter","getOwnPropertyDescriptor","get","isReactWarning","hasValidKey","defineKeyPropWarningGetter","displayName","warnAboutAccessingKey","defineProperty","configurable","defineRefPropWarningGetter","warnAboutAccessingRef","type","self","owner","element","$$typeof","_owner","_store","enumerable","writable","value","validated","_self","_source","freeze","propName","childrenLength","childArray","defaultProps","current","factory","bind","oldElement","newKey","newElement","object","printWarning","_len","_key","console","x","indexOf","_len2","_key2","makeEmptyFunction","arg","thatReturns","thatReturnsFalse","thatReturnsTrue","thatReturnsNull","thatReturnsThis","Symbol","getIteratorFn","KeyEscapeUtils","SEPARATOR","SUBSEPARATOR","didWarnAboutMaps","getComponentKey","component","index","escape","toString","traverseAllChildrenImpl","nameSoFar","callback","nextName","subtreeCount","nextNamePrefix","iteratorFn","iterator","step","entries","ii","next","done","mapsAsChildrenAddendum","mapsAsChildrenOwnerName","getName","entry","addendum","_isReactElement","childrenString","ITERATOR_SYMBOL","FAUX_ITERATOR_SYMBOL","maybeIterable","escapeRegex","escaperLookup","escapedString","match","unescape","unescapeRegex","unescaperLookup","keySubstring","substring","ReactNoopUpdateQueue","emptyObject","updater","refs","isReactComponent","partialState","enqueueSetState","enqueueCallback","forceUpdate","enqueueForceUpdate","deprecatedAPIs","isMounted","replaceState","defineDeprecationWarning","methodName","info","fnName","warnNoop","publicInstance","callerName","constructor","enqueueReplaceState","completeState","ComponentDummy","isPureReactComponent","ReactPropTypeLocationNames","MIXINS_KEY","identity","fn","injectedMixins","ReactClassInterface","mixins","statics","propTypes","contextTypes","childContextTypes","getDefaultProps","getInitialState","getChildContext","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount","updateComponent","RESERVED_SPEC_KEYS","Constructor","mixSpecIntoComponent","validateTypeDef","createMergedResultFunction","mixStaticSpecIntoComponent","autobind","typeDef","location","validateMethodOverride","isAlreadyDefined","specPolicy","ReactClassMixin","spec","typeofSpec","isMixinValid","proto","autoBindPairs","__reactAutoBindPairs","property","isReactClassMethod","isFunction","shouldAutoBind","createChainedFunction","isReserved","isInherited","mergeIntoWithNoDuplicateKeys","one","two","mergedResult","chainedFunction","bindAutoBindMethod","method","boundMethod","__reactBoundContext","__reactBoundMethod","__reactBoundArguments","componentName","_bind","newThis","reboundMethod","bindAutoBindMethods","pairs","autoBindKey","newState","ReactClassComponent","initialState","_isMockFunction","isReactClassApproved","componentShouldUpdate","componentWillRecieveProps","injection","injectMixin","prop","childContext","createDOMFactory","abbr","address","area","article","aside","audio","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","mark","menu","menuitem","meta","meter","nav","noscript","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","samp","script","section","select","small","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","video","wbr","circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","tspan","ReactComponentTreeHook","checkReactTypeSpec","getDeclarationErrorAddendum","ownerHasKeyUseWarning","getCurrentComponentErrorInfo","parentType","parentName","validateExplicitKey","memoizer","uniqueKey","currentComponentErrorInfo","childOwner","getCurrentStackAddendum","validateChildKeys","node","validatePropTypes","componentClass","validType","validatedFactory","isNative","funcToString","Function","reIsNative","RegExp","test","canUseCollections","Map","Set","setItem","getItem","removeItem","getItemIDs","addRoot","removeRoot","getRootIDs","itemMap","rootIDSet","id","item","set","add","itemByKey","rootByKey","getKeyFromID","getIDFromKey","parseInt","substr","unmountedIDs","purgeDeep","childIDs","describeComponentFrame","ownerName","fileName","lineNumber","getDisplayName","describeID","getElement","ownerID","getOwnerID","onSetChildren","nextChildIDs","nextChildID","nextChild","parentID","onBeforeMountComponent","updateCount","onBeforeUpdateComponent","onMountComponent","isRoot","onUpdateComponent","onUnmountComponent","purgeUnmountedComponents","_preventPurging","topElement","currentOwner","_debugID","getStackAddendumByID","getParentID","getChildIDs","getSource","getText","getUpdateCount","getRegisteredIDs","ReactPropTypesSecret","loggedTypeFailures","typeSpecs","values","debugID","typeSpecName","ex","componentStackInfo","ANONYMOUS","createPrimitiveTypeChecker","bool","number","string","symbol","any","createAnyTypeChecker","arrayOf","createArrayOfTypeChecker","createElementTypeChecker","instanceOf","createInstanceTypeChecker","createNodeChecker","objectOf","createObjectOfTypeChecker","oneOf","createEnumTypeChecker","oneOfType","createUnionTypeChecker","shape","createShapeTypeChecker","is","y","PropTypeError","stack","createChainableTypeChecker","validate","manualPropTypeCallCache","checkType","isRequired","propFullName","secret","cacheKey","locationName","chainedCheckType","expectedType","propValue","propType","getPropType","preciseType","getPreciseType","typeChecker","expectedClass","expectedClassName","actualClassName","getClassName","expectedValues","valuesString","JSON","stringify","arrayOfTypeCheckers","checker","isNode","shapeTypes","every","isSymbol","Date","ReactDOMComponentTree","ReactDefaultInjection","ReactMount","ReactReconciler","ReactUpdates","findDOMNode","getHostComponentFromComposite","renderSubtreeIntoContainer","inject","ReactDOM","unmountComponentAtNode","unstable_batchedUpdates","batchedUpdates","unstable_renderSubtreeIntoContainer","__REACT_DEVTOOLS_GLOBAL_HOOK__","ComponentTree","getClosestInstanceFromNode","getNodeFromInstance","inst","_renderedComponent","Mount","Reconciler","ExecutionEnvironment","canUseDOM","window","top","navigator","userAgent","showFileUrlMessage","protocol","debug","testFunc","testFn","ieCompatibilityMode","documentMode","expectedFeatures","now","trim","ReactInstrumentation","ReactDOMUnknownPropertyHook","ReactDOMNullInputValuePropHook","ReactDOMInvalidARIAHook","debugTool","addHook","DOMProperty","ReactDOMComponentFlags","ATTR_NAME","ID_ATTRIBUTE_NAME","Flags","internalInstanceKey","Math","random","slice","shouldPrecacheNode","nodeID","nodeType","getAttribute","nodeValue","getRenderedHostOrTextFromComponent","rendered","precacheNode","hostInst","_hostNode","uncacheNode","precacheChildNodes","_flags","hasCachedChildNodes","_renderedChildren","childNode","firstChild","outer","childInst","childID","_domID","nextSibling","parents","parentNode","closest","getInstanceFromNode","_hostParent","checkMask","bitmask","DOMPropertyInjection","MUST_USE_PROPERTY","HAS_BOOLEAN_VALUE","HAS_NUMERIC_VALUE","HAS_POSITIVE_NUMERIC_VALUE","HAS_OVERLOADED_BOOLEAN_VALUE","injectDOMPropertyConfig","domPropertyConfig","Injection","Properties","DOMAttributeNamespaces","DOMAttributeNames","DOMPropertyNames","DOMMutationMethods","isCustomAttribute","_isCustomAttributeFunctions","properties","lowerCased","toLowerCase","propConfig","propertyInfo","attributeName","attributeNamespace","propertyName","mutationMethod","mustUseProperty","hasBooleanValue","hasNumericValue","hasPositiveNumericValue","hasOverloadedBooleanValue","getPossibleStandardName","ATTRIBUTE_NAME_START_CHAR","ROOT_ATTRIBUTE_NAME","ATTRIBUTE_NAME_CHAR","autofocus","isCustomAttributeFn","ARIADOMPropertyConfig","BeforeInputEventPlugin","ChangeEventPlugin","DefaultEventPluginOrder","EnterLeaveEventPlugin","HTMLDOMPropertyConfig","ReactComponentBrowserEnvironment","ReactDOMComponent","ReactDOMEmptyComponent","ReactDOMTreeTraversal","ReactDOMTextComponent","ReactDefaultBatchingStrategy","ReactEventListener","ReactInjection","ReactReconcileTransaction","SVGDOMPropertyConfig","SelectEventPlugin","SimpleEventPlugin","alreadyInjected","EventEmitter","injectReactEventListener","EventPluginHub","injectEventPluginOrder","EventPluginUtils","injectComponentTree","injectTreeTraversal","injectEventPluginsByName","HostComponent","injectGenericComponentClass","injectTextComponentClass","EmptyComponent","injectEmptyComponentFactory","instantiate","Updates","injectReconcileTransaction","injectBatchingStrategy","injectEnvironment","EventPropagators","FallbackCompositionState","SyntheticCompositionEvent","SyntheticInputEvent","END_KEYCODES","START_KEYCODE","canUseCompositionEvent","canUseTextInputEvent","isPresto","useFallbackCompositionData","opera","SPACEBAR_CODE","SPACEBAR_CHAR","eventTypes","beforeInput","phasedRegistrationNames","bubbled","captured","dependencies","compositionEnd","compositionStart","compositionUpdate","hasSpaceKeypress","isKeypressCommand","nativeEvent","ctrlKey","altKey","metaKey","getCompositionEventType","topLevelType","isFallbackCompositionStart","keyCode","isFallbackCompositionEnd","getDataFromCustomEvent","detail","currentComposition","extractCompositionEvent","targetInst","nativeEventTarget","eventType","fallbackData","getData","event","customData","accumulateTwoPhaseDispatches","getNativeBeforeInputChars","which","chars","getFallbackBeforeInputChars","extractBeforeInputEvent","extractEvents","accumulateInto","forEachAccumulated","getListener","listenerAtPhase","propagationPhase","registrationName","dispatchConfig","accumulateDirectionalDispatches","phase","listener","_dispatchListeners","_dispatchInstances","accumulateTwoPhaseDispatchesSingle","traverseTwoPhase","_targetInst","accumulateTwoPhaseDispatchesSingleSkipTarget","parentInst","getParentInstance","accumulateDispatches","ignoredDirection","accumulateDirectDispatchesSingle","events","accumulateTwoPhaseDispatchesSkipTarget","accumulateEnterLeaveDispatches","leave","enter","traverseEnterLeave","accumulateDirectDispatches","EventPluginRegistry","ReactErrorUtils","listenerBank","eventQueue","executeDispatchesAndRelease","simulated","executeDispatchesInOrder","isPersistent","executeDispatchesAndReleaseSimulated","executeDispatchesAndReleaseTopLevel","getDictionaryKey","_rootNodeID","isInteractive","tag","shouldPreventMouseEvent","disabled","putListener","bankForRegistrationName","PluginModule","registrationNameModules","didPutListener","_currentElement","deleteListener","willDeleteListener","deleteAllListeners","plugins","possiblePlugin","extractedEvents","enqueueEvents","processEventQueue","processingEventQueue","rethrowCaughtError","__purge","__getListenerBank","eventPluginOrder","namesToPlugins","recomputePluginOrdering","pluginName","pluginModule","pluginIndex","publishedEvents","eventName","publishEventForPlugin","eventNameDispatchConfigs","phaseName","phasedRegistrationName","publishRegistrationName","registrationNameDependencies","lowerCasedName","possibleRegistrationNames","ondblclick","injectedEventPluginOrder","injectedNamesToPlugins","isOrderingDirty","getPluginModuleForEvent","_resetEventPlugins","TreeTraversal","Injected","isAncestor","getLowestCommonAncestor","isEndish","isMoveish","isStartish","validateEventDispatches","dispatchListeners","dispatchInstances","listenersIsArr","listenersLen","instancesIsArr","instancesLen","executeDispatch","currentTarget","invokeGuardedCallbackWithCatch","invokeGuardedCallback","isPropagationStopped","executeDispatchesInOrderStopAtTrueImpl","executeDispatchesInOrderStopAtTrue","ret","executeDirectDispatch","dispatchListener","dispatchInstance","res","hasDispatches","argFrom","argTo","caughtError","dispatchEvent","createEvent","fakeNode","boundFunc","evtType","addEventListener","evt","initEvent","removeEventListener","arr","cb","scope","canUseWorkers","Worker","canUseEventListeners","attachEvent","canUseViewport","screen","isInWorker","getTextContentAccessor","root","_root","_startText","_fallbackText","start","startValue","startLength","end","endValue","endLength","minEnd","sliceTail","contentKey","documentElement","SyntheticEvent","CompositionEventInterface","dispatchMarker","augmentClass","didWarnForAddedNewProperty","isProxySupported","Proxy","shouldBeReleasedProperties","EventInterface","eventPhase","bubbles","cancelable","timeStamp","defaultPrevented","isTrusted","preventDefault","stopPropagation","Interface","normalize","returnValue","isDefaultPrevented","cancelBubble","persist","getPooledWarningPropertyDefinition","construct","create","that","Class","Super","E","getVal","action","warn","warningCondition","InputEventInterface","getEventTarget","isEventSupported","isTextInputElement","change","activeElement","activeElementInst","activeElementValue","activeElementValueProp","shouldUseChangeEvent","elem","nodeName","doesChangeEventBubble","manualDispatchChangeEvent","runEventInBatch","startWatchingForChangeEventIE8","stopWatchingForChangeEventIE8","detachEvent","getTargetInstForChangeEvent","handleEventsForChangeEventIE8","isInputEventSupported","newValueProp","startWatchingForValueChange","handlePropertyChange","stopWatchingForValueChange","srcElement","getTargetInstForInputEvent","handleEventsForInputEventIE","getTargetInstForInputEventIE","shouldUseClickEvent","getTargetInstForClickEvent","targetNode","getTargetInstFunc","handleEventFunc","CallbackQueue","ReactFeatureFlags","Transaction","dirtyComponents","updateBatchNumber","asapCallbackQueue","asapEnqueued","batchingStrategy","ensureInjected","NESTED_UPDATES","initialize","dirtyComponentsLength","close","splice","flushBatchedUpdates","UPDATE_QUEUEING","callbackQueue","reset","notifyAll","TRANSACTION_WRAPPERS","ReactUpdatesFlushTransaction","reinitializeTransaction","reconcileTransaction","getTransactionWrappers","perform","mountOrderComparator","c1","c2","_mountOrder","runBatchedUpdates","transaction","sort","callbacks","_pendingCallbacks","markerName","logTopLevelRenders","namedComponent","isReactTopLevelWrapper","performUpdateIfNecessary","timeEnd","j","enqueue","getPublicInstance","enqueueUpdate","isBatchingUpdates","_updateBatchNumber","asap","ReactUpdatesInjection","ReconcileTransaction","_batchingStrategy","_classCallCheck","_callbacks","_contexts","_arg","contexts","checkpoint","rollback","ReactRef","attachRefs","mountComponent","internalInstance","hostParent","hostContainerInfo","parentDebugID","markup","getReactMountReady","getHostNode","unmountComponent","safely","onBeforeUnmountComponent","detachRefs","receiveComponent","nextElement","prevElement","_context","refsChanged","shouldUpdateRefs","ReactOwner","attachRef","addComponentAsRefTo","detachRef","removeComponentAsRefFrom","prevRef","prevOwner","nextRef","nextOwner","isValidOwner","ownerPublicInstance","ReactDebugTool","ReactInvalidSetStateWarningHook","ReactHostOperationHistoryHook","performanceNow","hooks","didHookThrowForEvent","callHook","arg1","arg2","arg3","arg4","arg5","emitEvent","hook","isProfiling","flushHistory","lifeCycleTimerStack","currentFlushNesting","currentFlushMeasurements","currentFlushStartTime","currentTimerDebugID","currentTimerStartTime","currentTimerNestedFlushDuration","currentTimerType","lifeCycleTimerHasWarned","clearHistory","getTreeSnapshot","registeredIDs","reduce","tree","resetMeasurements","previousStartTime","previousMeasurements","previousOperations","getHistory","duration","measurements","operations","treeSnapshot","checkDebugID","allowRoot","beginLifeCycleTimer","timerType","endLifeCycleTimer","instanceID","pauseCurrentLifeCycleTimer","currentTimer","startTime","nestedFlushStartTime","resumeCurrentLifeCycleTimer","_lifeCycleTimerStack$","nestedFlushDuration","lastMarkTimeStamp","canUsePerformanceMeasure","performance","clearMarks","measure","clearMeasures","shouldMark","isHostElement","markBegin","markType","markName","markEnd","measurementName","removeHook","beginProfiling","endProfiling","getFlushHistory","onBeginFlush","onEndFlush","onBeginLifeCycleTimer","onEndLifeCycleTimer","onBeginProcessingChildContext","onEndProcessingChildContext","onHostOperation","operation","onSetState","childDebugIDs","onTestEvent","addDevtool","removeDevtool","url","href","processingChildContext","warnInvalidSetState","history","_preventClearing","msPerformance","webkitPerformance","OBSERVED_ERROR","TransactionImpl","transactionWrappers","wrapperInitData","_isInTransaction","isInTransaction","errorThrown","initializeAll","closeAll","startIndex","wrapper","initData","correspondingUseElement","useHasFeature","implementation","hasFeature","eventNameSuffix","capture","isSupported","setAttribute","supportedInputTypes","SyntheticMouseEvent","mouseEnter","mouseLeave","relatedTarget","fromElement","win","doc","ownerDocument","defaultView","parentWindow","related","toElement","fromNode","toNode","SyntheticUIEvent","ViewportMetrics","getEventModifierState","MouseEventInterface","screenX","screenY","clientX","clientY","shiftKey","getModifierState","buttons","pageX","currentScrollLeft","pageY","currentScrollTop","UIEventInterface","view","refreshScrollValues","scrollPosition","modifierKeyToProp","modifierStateGetter","keyArg","syntheticEvent","keyProp","accept","acceptCharset","accessKey","allowFullScreen","allowTransparency","alt","as","async","autoComplete","autoPlay","cellPadding","cellSpacing","charSet","challenge","checked","classID","className","cols","colSpan","content","contentEditable","contextMenu","controls","coords","crossOrigin","dateTime","defer","download","draggable","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","height","hidden","high","hrefLang","htmlFor","httpEquiv","icon","inputMode","integrity","keyParams","keyType","kind","lang","list","loop","low","manifest","marginHeight","marginWidth","max","maxLength","media","mediaGroup","min","minLength","multiple","muted","nonce","noValidate","open","optimum","placeholder","playsInline","poster","preload","profile","radioGroup","readOnly","referrerPolicy","rel","required","reversed","role","rows","rowSpan","sandbox","scoped","scrolling","seamless","selected","size","sizes","spellCheck","src","srcDoc","srcLang","srcSet","tabIndex","useMap","width","wmode","wrap","about","datatype","inlist","resource","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","DOMChildrenOperations","ReactDOMIDOperations","processChildrenUpdates","dangerouslyProcessChildrenUpdates","replaceNodeWithMarkup","dangerouslyReplaceNodeWithMarkup","DOMLazyTree","Danger","createMicrosoftUnsafeLocalFunction","setInnerHTML","setTextContent","getNodeAfter","insertChildAt","referenceNode","insertBefore","insertLazyTreeChildAt","childTree","insertTreeBefore","moveChild","moveDelimitedText","removeChild","closingComment","removeDelimitedText","openingComment","nextNode","startNode","replaceDelimitedText","stringText","nodeAfterComment","createTextNode","payload","oldChild","prevInstance","nextInstance","processUpdates","updates","parentNodeDebugID","k","update","afterNode","toIndex","fromIndex","DOMNamespaces","ELEMENT_NODE_TYPE","DOCUMENT_FRAGMENT_NODE_TYPE","enableLazy","insertTreeChildren","namespaceURI","replaceChildWithTree","oldNode","newTree","replaceChild","queueChild","parentTree","appendChild","queueHTML","queueText","mathml","WHITESPACE_TEST","NONVISIBLE_TEST","reusableSVGContainer","innerHTML","svgNode","testElement","textNode","deleteData","MSApp","execUnsafeLocalFunction","arg0","escapeTextContentForBrowser","lastChild","textContent","matchHtmlRegExp","escapeHtml","str","exec","lastIndex","charCodeAt","createNodesFromMarkup","newChild","createArrayFromMixed","getMarkupWrap","dummyNode","nodeNamePattern","getNodeName","nodeNameMatch","handleScript","wrapDepth","scripts","getElementsByTagName","nodes","childNodes","obj","callee","hasArrayNature","shouldWrap","selectWrap","tableWrap","trWrap","svgWrap","markupWrap","svgElements","AutoFocusUtils","CSSPropertyOperations","DOMPropertyOperations","ReactBrowserEventEmitter","ReactDOMInput","ReactDOMOption","ReactDOMSelect","ReactDOMTextarea","ReactMultiChild","ReactServerRenderingTransaction","shallowEqual","validateDOMNesting","getNode","listenTo","CONTENT_TYPES","STYLE","HTML","dangerouslySetInnerHTML","suppressContentEditableWarning","DOC_FRAGMENT_TYPE","friendlyStringify","keyEscaped","styleMutationWarning","checkAndWarnForMutatedStyle","style1","style2","_tag","hash","assertValidProps","voidElementTags","onFocusIn","onFocusOut","enqueuePutListener","containerInfo","_hostContainerInfo","isDocumentFragment","_node","_ownerDocument","listenerToPut","inputPostMount","postMountWrapper","textareaPostMount","optionPostMount","setAndValidateContentChildDev","hasExistingContent","_contentDebugID","contentDebugID","_ancestorInfo","mediaEvents","topAbort","topCanPlay","topCanPlayThrough","topDurationChange","topEmptied","topEncrypted","topEnded","topError","topLoadedData","topLoadedMetadata","topLoadStart","topPause","topPlay","topPlaying","topProgress","topRateChange","topSeeked","topSeeking","topStalled","topSuspend","topTimeUpdate","topVolumeChange","topWaiting","trapBubbledEventsLocal","_wrapperState","listeners","trapBubbledEvent","postUpdateSelectWrapper","postUpdateWrapper","omittedCloseTags","newlineEatingTags","VALID_TAG_REGEX","validatedTagCache","validateDangerousTag","isCustomComponent","tagName","globalIdCounter","_namespaceURI","_previousStyle","_previousStyleCopy","_topLevelWrapper","Mixin","_idCounter","mountWrapper","getHostProps","parentTag","parentInfo","updatedAncestorInfo","mountImage","useCreateElement","el","createElementNS","setAttributeForRoot","_updateDOMProperties","lazyTree","_createInitialChildren","tagOpen","_createOpenTagMarkupAndPutListeners","tagContent","_createContentMarkup","autoFocus","focusDOMComponent","propKey","createMarkupForStyles","createMarkupForCustomAttribute","createMarkupForProperty","renderToStaticMarkup","createMarkupForRoot","createMarkupForID","__html","contentToUse","childrenToUse","mountImages","mountChildren","charAt","lastProps","nextProps","_updateDOMChildren","updateWrapper","styleName","styleUpdates","lastStyle","deleteValueForAttribute","deleteValueForProperty","nextProp","lastProp","setValueForAttribute","setValueForProperty","setValueForStyles","lastContent","nextContent","lastHtml","nextHtml","lastChildren","nextChildren","lastHasContentOrHtml","nextHasContentOrHtml","updateChildren","updateTextContent","updateMarkup","remove","unmountChildren","focusNode","focus","CSSProperty","camelizeStyleName","dangerousStyleValue","hyphenateStyleName","memoizeStringOnly","processStyleName","hasShorthandPropertyBug","styleFloatAccessor","tempStyle","font","cssFloat","badVendoredStyleNamePattern","badStyleValueWithSemicolonPattern","warnedStyleNames","warnedStyleValues","warnedForNaNValue","warnHyphenatedStyleName","checkRenderMessage","warnBadVendoredStyleName","toUpperCase","warnStyleValueWithSemicolon","warnStyleValueIsNaN","warnValidStyle","isNaN","styles","serialized","styleValue","expansion","shorthandPropertyExpansions","individualStyleName","isUnitlessNumber","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridColumn","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","prefixKey","prefixes","background","backgroundAttachment","backgroundColor","backgroundImage","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundPosition","border","borderWidth","borderStyle","borderColor","borderBottom","borderBottomWidth","borderBottomStyle","borderBottomColor","borderLeft","borderLeftWidth","borderLeftStyle","borderLeftColor","borderRight","borderRightWidth","borderRightStyle","borderRightColor","borderTop","borderTopWidth","borderTopStyle","borderTopColor","fontStyle","fontVariant","fontSize","fontFamily","outline","outlineWidth","outlineStyle","outlineColor","camelize","msPattern","_hyphenPattern","_","character","styleWarnings","isEmpty","isNonNumeric","warnings","hyphenate","_uppercasePattern","cache","quoteAttributeValueForBrowser","VALID_ATTRIBUTE_NAME_REGEX","illegalAttributeNameCache","validatedAttributeNameCache","isAttributeNameSafe","shouldIgnoreValue","setAttributeForID","namespace","setAttributeNS","removeAttribute","ReactEventEmitterMixin","getVendorPrefixedEventName","hasEventPageXY","alreadyListeningTo","isMonitoringScrollValue","reactTopListenersCounter","topEventMapping","topAnimationEnd","topAnimationIteration","topAnimationStart","topBlur","topChange","topClick","topCompositionEnd","topCompositionStart","topCompositionUpdate","topContextMenu","topCopy","topCut","topDoubleClick","topDrag","topDragEnd","topDragEnter","topDragExit","topDragLeave","topDragOver","topDragStart","topDrop","topFocus","topInput","topKeyDown","topKeyPress","topKeyUp","topMouseDown","topMouseMove","topMouseOut","topMouseOver","topMouseUp","topPaste","topScroll","topSelectionChange","topTextInput","topTouchCancel","topTouchEnd","topTouchMove","topTouchStart","topTransitionEnd","topWheel","topListenersIDKey","getListeningForDocument","mountAt","setHandleTopLevel","handleTopLevel","setEnabled","enabled","isEnabled","contentDocumentHandle","isListening","dependency","trapCapturedEvent","WINDOW_HANDLE","handlerBaseName","handle","supportsEventPageXY","ev","ensureScrollValueMonitoring","refresh","monitorScrollValue","runEventQueueInBatch","makePrefixMap","styleProp","vendorPrefixes","animationend","animationiteration","animationstart","transitionend","prefixedEventNames","animation","transition","prefixMap","LinkedValueUtils","didWarnValueLink","didWarnCheckedLink","didWarnValueDefaultValue","didWarnCheckedDefaultChecked","didWarnControlledToUncontrolled","didWarnUncontrolledToControlled","forceUpdateIfMounted","isControlled","usesChecked","getValue","getChecked","hostProps","defaultChecked","defaultValue","initialValue","initialChecked","onChange","checkPropTypes","valueLink","checkedLink","_handleChange","controlled","newValue","executeOnChange","rootNode","queryRoot","group","querySelectorAll","otherNode","otherInstance","hasReadOnlyValue","_assertSingleLink","inputProps","_assertValueLink","_assertCheckedLink","requestChange","didWarnInvalidOptionChildren","flattenChildren","selectValue","selectParent","getSelectValueContext","updateOptionsIfPendingUpdateAndMounted","pendingUpdate","updateOptions","Boolean","valuePropNames","checkSelectPropTypes","selectedValue","wasMultiple","didWarnValDefaultVal","ReactComponentEnvironment","ReactInstanceMap","ReactChildReconciler","makeInsertMarkup","makeMove","_mountIndex","makeRemove","makeSetMarkup","makeTextContent","processQueue","updateQueue","setChildrenForInstrumentation","getDebugID","internal","_reconcilerInstantiateChildren","nestedChildren","selfDebugID","instantiateChildren","_reconcilerUpdateChildren","prevChildren","nextNestedChildrenElements","removedNodes","nextMarkup","_updateChildren","nextIndex","nextMountIndex","lastPlacedNode","prevChild","_mountChildAtIndex","_unmountChild","renderedChildren","createChild","injected","environment","_reactInternalInstance","has","instantiateReactComponent","shouldUpdateReactComponent","instantiateChild","childInstances","keyUnique","nestedChildNodes","childInsts","nextChildInstance","nextChildMountImage","renderedChild","ReactCompositeComponent","ReactEmptyComponent","ReactHostComponent","getNextDebugID","ReactCompositeComponentWrapper","_instantiateReactComponent","isInternalComponentType","shouldHaveDebugID","createInternalComponent","getNativeNode","createInstanceForText","_mountImage","preventExtensions","ReactNodeTypes","CompositeTypes","ImpureClass","PureClass","StatelessFunctional","StatelessComponent","warnIfInvalidElement","shouldConstruct","isPureComponent","measureLifeCyclePerf","nextMountID","_compositeType","_instance","_pendingElement","_pendingStateQueue","_pendingReplaceState","_pendingForceUpdate","_renderedNodeType","_calledComponentWillUnmount","_warnedAboutRefsInRender","_this","publicProps","publicContext","_processContext","getUpdateQueue","doConstruct","_constructComponent","renderedElement","propsMutated","componentDidUnmount","unstable_handleError","performInitialMountWithErrorHandling","performInitialMount","_constructComponentWithoutOwner","_processPendingState","_renderValidatedComponent","getType","EMPTY","_processChildContext","_maskContext","maskedContext","contextName","_checkContextTypes","currentContext","nextContext","prevContext","prevParentElement","nextParentElement","prevUnmaskedContext","nextUnmaskedContext","willReceive","prevProps","nextState","shouldUpdate","_performComponentUpdate","partial","unmaskedContext","_this2","hasComponentDidUpdate","prevState","_updateRenderedComponent","prevComponentInstance","prevRenderedElement","nextRenderedElement","oldHostNode","_replaceNodeWithMarkup","_renderValidatedComponentWithoutOwnerOrContext","publicComponentInstance","HOST","COMPOSITE","objA","objB","keysA","keysB","prevEmpty","nextEmpty","prevType","nextType","emptyComponentFactory","ReactEmptyComponentInjection","genericComponentClass","textComponentClass","ReactHostComponentInjection","isTextComponent","nextDebugID","flattenSingleChildIntoContext","ReactServerUpdateQueue","noopCallbackQueue","ReactUpdateQueue","formatUnexpectedArgument","getInternalInstanceReadyForUpdate","ctor","validateCallback","enqueueCallbackInternal","enqueueElementInternal","specialTags","inScopeTags","buttonScopeTags","impliedEndTags","emptyAncestorInfo","formTag","aTagInScope","buttonTagInScope","nobrTagInScope","pTagInButtonScope","listItemTagAutoclosing","dlItemTagAutoclosing","oldInfo","ancestorInfo","isTagValidWithParent","findInvalidAncestorForTag","findOwnerStack","reverse","didWarn","childTag","childText","childInstance","invalidParent","invalidAncestor","problematic","ancestorTag","ancestorInstance","ancestorOwner","childOwners","ancestorOwners","minStackLen","deepestCommon","UNKNOWN","childOwnerNames","ancestorOwnerNames","ownerInfo","warnKey","tagDisplayName","whitespaceInfo","isTagValidInContext","domID","createComment","instA","instB","depthA","tempA","depthB","tempB","depth","common","pathFrom","pathTo","_stringText","_closingComment","_commentNodes","openingValue","closingValue","createDocumentFragment","escapedText","nextText","nextStringText","commentNodes","hostNode","RESET_BATCHED_UPDATES","FLUSH_BATCHED_UPDATES","ReactDefaultBatchingStrategyTransaction","alreadyBatchingUpdates","EventListener","getUnboundedScrollPosition","findParent","container","TopLevelCallbackBookKeeping","ancestors","handleTopLevelImpl","ancestor","_handleTopLevel","scrollValueMonitor","_enabled","listen","registerDefault","scrollable","pageXOffset","scrollLeft","pageYOffset","scrollTop","ReactInputSelection","SELECTION_RESTORATION","getSelectionInformation","restoreSelection","EVENT_SUPPRESSION","currentlyEnabled","previouslyEnabled","ON_DOM_READY_QUEUEING","reactMountReady","ReactDOMSelection","containsNode","getActiveElement","isInDocument","hasSelectionCapabilities","focusedElem","selectionRange","getSelection","priorSelectionInformation","curFocusedElem","priorFocusedElem","priorSelectionRange","setSelection","selection","selectionStart","selectionEnd","range","createRange","parentElement","moveStart","moveEnd","getOffsets","offsets","createTextRange","collapse","setOffsets","getNodeForCharacterOffset","isCollapsed","anchorNode","anchorOffset","focusOffset","getIEOffsets","selectedRange","selectedLength","fromStart","duplicate","moveToElementText","setEndPoint","startOffset","endOffset","getModernOffsets","rangeCount","currentRange","getRangeAt","startContainer","endContainer","isSelectionCollapsed","rangeLength","tempRange","cloneRange","selectNodeContents","setEnd","isTempRangeCollapsed","detectionRange","setStart","isBackward","collapsed","setIEOffsets","setModernOffsets","extend","temp","startMarker","endMarker","offset","removeAllRanges","addRange","useIEOffsets","getLeafNode","getSiblingNode","nodeStart","nodeEnd","isTextNode","outerNode","innerNode","contains","compareDocumentPosition","Node","NS","xlink","xml","ATTRS","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeType","autoReverse","azimuth","baseFrequency","baseProfile","baselineShift","bbox","begin","bias","by","calcMode","capHeight","clip","clipRule","clipPathUnits","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","exponent","externalResourcesRequired","fill","fillRule","filter","filterRes","filterUnits","floodColor","focusable","fontSizeAdjust","fontStretch","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","ideographic","imageRendering","in2","intercept","k1","k2","k3","k4","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerMid","markerStart","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","mathematical","numOctaves","operator","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","points","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","rotate","rx","ry","scale","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","stdDeviation","stemh","stemv","stitchTiles","stopColor","strikethroughPosition","strikethroughThickness","stroke","strokeLinecap","strokeLinejoin","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textRendering","textLength","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","vHanging","vIdeographic","vMathematical","vectorEffect","vertAdvY","vertOriginX","vertOriginY","viewBox","viewTarget","visibility","widths","wordSpacing","writingMode","xHeight","x1","x2","xChannelSelector","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlns","xmlnsXlink","xmlLang","xmlSpace","y1","y2","yChannelSelector","z","zoomAndPan","skipSelectionChangeEvent","lastSelection","mouseDown","hasListener","boundingTop","left","boundingLeft","constructSelectEvent","currentSelection","SyntheticAnimationEvent","SyntheticClipboardEvent","SyntheticFocusEvent","SyntheticKeyboardEvent","SyntheticDragEvent","SyntheticTouchEvent","SyntheticTransitionEvent","SyntheticWheelEvent","getEventCharCode","topLevelEventsToDispatchConfig","capitalizedEvent","onEvent","topEvent","onClickListeners","EventConstructor","AnimationEventInterface","animationName","elapsedTime","pseudoElement","ClipboardEventInterface","clipboardData","FocusEventInterface","getEventKey","KeyboardEventInterface","repeat","locale","charCode","normalizeKey","translateToKey","DragEventInterface","dataTransfer","TouchEventInterface","touches","targetTouches","changedTouches","TransitionEventInterface","WheelEventInterface","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","ReactDOMContainerInfo","ReactDOMFeatureFlags","ReactMarkupChecksum","ROOT_ATTR_NAME","DOC_NODE_TYPE","instancesByReactRootID","firstDifferenceIndex","string1","string2","minLen","getReactRootElementInContainer","internalGetID","mountComponentIntoNode","wrapperInstance","shouldReuseMarkup","wrappedElement","_mountImageIntoNode","batchedMountComponentIntoNode","componentInstance","unmountComponentFromNode","hasNonRootReactChild","rootEl","nodeIsRenderedByOtherInstance","isReactNode","isValidContainer","hasAttribute","getHostRootInstanceInContainer","prevHostInstance","getTopLevelWrapperInContainer","topLevelRootCounter","TopLevelWrapper","rootID","_instancesByReactRootID","scrollMonitor","renderCallback","_updateRootComponent","prevComponent","_renderNewRootComponent","wrapperID","parentComponent","_renderSubtreeIntoContainer","nextWrappedElement","prevWrappedElement","publicInst","updatedCallback","reactRootElement","containerHasReactMarkup","containerHasNonRootReactChild","rootElementSibling","isContainerReactRoot","rootElement","canReuseMarkup","checksum","CHECKSUM_ATTR_NAME","rootMarkup","outerHTML","normalizedMarkup","normalizer","contentDocument","write","diffIndex","difference","topLevelWrapper","useFiber","adler32","TAG_END","COMMENT_START","addChecksumToMarkup","existingChecksum","markupChecksum","MOD","l","m","componentOrElement","reactProps","warnedProperties","validateProperty","standardName","warnUnknownProperties","unknownProps","isValid","unknownPropString","handleElement","didWarnValueNull","rARIA","warnInvalidARIAProps","invalidProps","global","CodeMirror","platform","gecko","ie_upto10","ie_11up","ie","ie_version","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","mobile","mac","chromeOS","windows","presto_version","Number","flipCtrlCmd","captureRightClick","classTest","cls","rmClass","after","removeChildren","removeChildrenAndAdd","parent","elt","cssText","endNode","host","activeElt","addClass","joinClasses","selectInput","_e","copyObj","overwrite","countColumn","search","nextTab","Delayed","ms","scrollerGap","Pass","sel_dontScroll","scroll","sel_mouse","sel_move","findColumn","goal","pos","skipped","spaceStrs","spaceStr","lst","out","insertSorted","score","priority","nothing","createObj","nonASCIISingleCaseWordChar","isWordCharBasic","ch","isWordChar","helper","extendingChars","isExtendingChar","Display","place","scrollbarFiller","gutterFiller","lineDiv","selectionDiv","cursorDiv","lineMeasure","lineSpace","mover","sizer","sizerWidth","heightForcer","gutters","lineGutter","scroller","paddingRight","viewFrom","viewTo","first","reportedViewFrom","reportedViewTo","renderedView","externalMeasured","viewOffset","lastWrapHeight","lastWrapWidth","updateLineNumbers","nativeBarWidth","barHeight","barWidth","scrollbarsClipped","lineNumWidth","lineNumInnerWidth","lineNumChars","alignWidgets","cachedCharWidth","cachedTextHeight","cachedPaddingH","maxLine","maxLineLength","maxLineChanged","wheelDX","wheelDY","wheelStartX","wheelStartY","shift","selForContextMenu","activeTouch","init","getLine","chunk","lines","sz","chunkSize","getBetween","iter","getLines","updateLineHeight","diff","lineNo","cur","no","lineAtHeight","h","i$1","lh","isLine","lineNumberFor","lineNumberFormatter","firstLineNumber","Pos","cmp","copyPos","maxPos","minPos","clipLine","clipPos","last","clipToLen","linelen","clipPosArray","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","getMarkedSpanFor","spans","removeMarkedSpan","addMarkedSpan","markedSpans","attachLine","markedSpansBefore","old","startCh","isInsert","nw","startsBefore","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","stretchSpansOverChange","full","oldFirst","oldLast","sameLine","found","span$1","found$1","clearEmptySpans","newMarkers","gap","gapMarkers","i$2","i$3","clearWhenEmpty","removeReadOnlyRanges","markers","parts","mk","find","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsedSpanAtStart","collapsedSpanAtEnd","conflictingCollapsedRange","visualLine","merged","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","findMaxLine","cm","iterateBidiSections","part","level","bidiLeft","bidiRight","lineLeft","getOrder","lineRight","compareBidiLevel","linedir","bidiOther","getBidiPartAt","moveInLine","byUnit","moveVisually","bidi","moveLogically","bidiOrdering","lowTypes","arabicTypes","charType","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","outerType","BidiSpan","types","prev","type$1","prev$1","type$2","i$4","type$3","i$5","cur$1","type$4","i$6","end$1","before","replace$1","j$1","i$7","at","j$2","nstart","unshift","noHandlers","emitter","_handlers","getHandlers","signal","handlers","signalDOMEvent","override","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","e_preventDefault","e_stopPropagation","e_stop","e_target","e_button","dragAndDrop","zwspSupported","zeroWidthElement","offsetHeight","offsetWidth","badBidiRects","hasBadBidiRects","txt","r0","getBoundingClientRect","r1","right","splitLinesAuto","nl","hasSelection","te","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","abs","modes","mimeModes","defineMode","defineMIME","mime","resolveMode","getMode","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","copyState","nstate","innerMode","startState","StringStream","lastColumnPos","lastColumnValue","lineStart","eol","sol","peek","eat","ok","eatWhile","eatSpace","this$1","skipToEnd","skipTo","backUp","column","indentation","consume","caseInsensitive","cased","hideFirstChars","inner","highlightLine","forceToEnd","st","modeGen","lineClasses","runMode","o","overlay","overlays","i_end","opaque","classes","bgClass","textClass","getLineStyles","updateFrontier","getStateBefore","maxHighlightLength","stateAfter","styleClasses","frontier","precise","findStartLine","processLine","save","startAt","stream","callBlankLine","readToken","blankLine","token","takeToken","asArray","getObj","copy","tokens","extractLineClasses","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","indented","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","buildLineContent","lineView","builder","trailingSpace","splitSpaces","getOption","rest","addToken","buildToken","buildTokenBadBidi","allowFrontierUpdate","insertLineContent","maps","caches","querySelector","defaultSpecialCharPlaceholder","startStyle","endStyle","css","displayText","special","specialChars","mustWrap","txt$1","tabWidth","specialCharPlaceholder","fullStyle","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","needsContentAttribute","setUneditable","allText","nextChange","spanStyle","spanEndStyle","spanStartStyle","Infinity","foundBookmarks","endStyles","upto","tokenText","LineView","buildViewArray","nextPos","operationGroup","pushOperation","op","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","updateLineBackground","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","wrap$1","gutterWrap","gutterLeft","gutterWidth","alignable","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","widgetHeight","parentStyle","clientWidth","eventInWidget","paddingTop","offsetTop","paddingVert","paddingH","getComputedStyle","currentStyle","scrollGap","displayWidth","displayHeight","clientHeight","ensureLineHeights","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","bottom","mapFromLineView","updateExternalMeasurement","measureChar","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","maybeUpdateRectForZooming","rSpan","charWidth","rbot","mid","bot","singleCursorHeightPerLine","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","pageScrollX","pageScrollY","intoCoordSystem","includeWidgets","yOff","lOff","xOff","fromCoordSystem","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","getBidi","partPos","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","coordsCharInner","mergedPos","innerOff","wrongLine","adjust","getX","dist","fromX","fromOutside","toX","toOutside","xDiff","charSize","ceil","middle","middleX","measureText","textHeight","anchor","clientLeft","offsetLeft","compensateForHScroll","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","space","colDiff","round","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","sel","ranges","primIndex","empty","showCursorWhenSelecting","drawSelectionCursor","drawSelectionRange","cursorHeight","otherCursor","fragment","padding","leftSide","rightSide","drawForLine","fromArg","toArg","lineLen","leftPos","rightPos","tmp","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","cursorBlinkRate","setInterval","ensureFocus","onFocus","delayBlurEvent","delayingBlurEvent","onBlur","receivedFocus","alignHorizontally","comp","gutterW","align","maybeUpdateLineNumberWidth","innerW","updateGutterSpace","updateHeightsInViewport","prevBottom","box","updateWidgetHeight","visibleLines","viewport","floor","ensure","ensureFrom","ensureTo","setScrollTop","updateDisplaySimple","scrollbars","startWorker","setScrollLeft","isScroller","scrollWidth","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","axis","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelEventPixels","delta","onScrollWheel","canScrollX","canScrollY","scrollHeight","currentWheelTarget","pixels","movedX","movedY","sample","measureForScrollbars","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","checkedZeroWidth","minHeight","minWidth","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","w","bar","delay","maybeDisable","elementFromPoint","clear","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","paddingBottom","coverGutterNextToScrollbar","scrollbarModel","initScrollbars","scrollbarStyle","maybeScrollWindow","doScroll","innerHeight","scrollNode","scrollIntoView","scrollPosIntoView","margin","limit","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","screenleft","screenw","tooWide","addToScrollPos","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","cursorScrollMargin","isCursor","sPos","scrollTo","nextOpId","startOperation","viewChanged","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","hasFocus","setDocumentHeight","postUpdateDisplay","forceScroll","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","methodOp","docMethodOp","regChange","lendiff","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","highlight","highlightWorker","workTime","changedLines","oldStyles","tooLong","highlighted","oldCls","newCls","ischange","workDelay","force","visible","editorIsHidden","wrapperHeight","oldDisplayWidth","marginBottom","viewportMargin","different","toUpdate","patchDisplay","updateNumbersFrom","rm","updateNumber","updateGutters","specs","gElt","setGuttersForLineNumbers","Selection","equals","here","there","deepCopy","Range","somethingSelected","normalizeSelection","prim","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","firstLine","lastText","lastSpans","nlines","insert","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","shared","attachDoc","History","startGen","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","newChanges","extendRange","posBefore","extendSelection","extendSelections","heads","newSel","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","antiChanges","returned","v","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","splitLines","rebaseHistSelSingle","rebaseHistArray","copied","changeLine","changeType","LeafChunk","removeInner","insertInner","iterN","BranchChunk","oldHeight","remaining","leaf","maybeSpill","me","spilled","sibling","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","oldH","addLineWidget","insertAt","aboveVisible","nextMarkerId","TextMarker","withOp","visual","side","dHeight","markText","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","SharedTextMarker","cloneNode","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","lineSeparator","setValue","getRange","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","listSelections","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","replaceSelection","dup","replaceSelections","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","splitIds","iterLinkedDocs","getEditor","eachLine","lastDrop","onDrop","clearDragCursor","files","isReadOnly","FileReader","File","read","loadFile","file","allowDropFileTypes","reader","onload","readAsText","draggingText","text$1","onDragStart","setData","effectAllowed","setDragImage","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","setSize","keyNames","keyMap","basic","pcDefault","fallthrough","emacsy","macDefault","normalizeKeyName","ctrl","cmd","mod","normalizeKeyMap","keymap","keyname","lookupKey","getKeyMap","isModifierKey","keyName","noShift","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","commands","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","delWrappedLineRight","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","extraKeys","stopSeq","dispatchKey","seq","keySeq","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","onKeyDown","handled","showCrossHair","up","onKeyUp","onKeyPress","onMouseDown","supportsTouch","clickInGutter","selectingText","leftButtonDown","lastMiddleDown","onContextMenu","lastClick","lastDoubleClick","modifier","contained","dragDrop","leftButtonStartDrag","leftButtonSelect","dragEnd","e2","addNew","ourRange","ourIndex","startSel","word","findWordAt","lastPos","extendTo","startCol","posCol","oldRange","ranges$1","editorSize","counter","curCount","move","gutterEvent","prevent","mX","mY","lineBox","contextMenuInGutter","themeChanged","theme","Init","defaults","optionHandlers","defineOptions","deflt","notOnInit","defineOption","newBreaks","getInputField","spellcheck","guttersChanged","detach","attach","wrappingChanged","integer","blur","readOnlyChanged","dragDropChanged","resetPosition","getField","wasOn","funcs","dragFunctions","toggle","over","drop","inputStyles","inputStyle","pasteIncoming","cutIncoming","registerEventHandlers","finishInit","initHooks","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","moved","inp","defineInitHook","how","aggressive","indent","curSpace","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","paste","textLines","multiPaste","lineWise","changeEvent","triggerElectric","handlePaste","pasted","disableInput","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","disableBrowserMagic","field","hiddenTextarea","addEditorMethods","helpers","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelper","getHelpers","help","_global","pred","getStateAfter","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","findPosH","amount","unit","visually","hitSide","rtlMoveVisually","findPosV","goalColumn","goals","headPos","startChar","check","getScrollInfo","interpret","swapDoc","getWrapperElement","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","origDir","findNextLine","moveOnce","boundToLine","sawType","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","pollContent","readFromDOMSoon","forceCompositionEnd","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","showMultipleSelections","curAnchor","domToPos","curFocus","bad","posToDOM","rng","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","pollSelection","poll","pollInterval","previousSibling","newText","domTextBetween","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","badPos","closing","recognizeMarker","walk","cmText","markerID","lineNode","locateNodeInLineView","topNode","curNode","dist$1","TextareaInput","prevInput","pollingFast","inaccurateSelection","fastPoll","prepareCopyCut","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","minimal","slowPoll","missed","same","resetSelectionOnContextMenu","oldCSS","oldWrapperCSS","wrapperBox","oldScrollY","scrollY","detectingSelectAll","prepareSelectAllHack","extval","rehide","mouseup","fromTextArea","tabindex","realSubmit","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","cmpPos","dontDelegate","defineExtension","defineDocExtension"],"mappings":"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","file":"react-codemirror1.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4cb23b705c32578ff575","//import React, { Component } from 'react';\r\n//import logo from './logo.svg';\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n//import {CodeMirror} from 'react-codemirror';\r\n\r\n//var React = require('react');\r\n\r\nimport CodeMirror from 'CodeMirror';\r\n//import CodeMirror from 'ReactCodemirror';\r\n//import CodeMirror from '../node_modules/react-codemirror/dist/react-codemirror.js';\r\n//var CodeMirror = require('../node_modules/react-codemirror/dist/react-codemirror.js');\r\n\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {code: \"// Code\"};\r\n  }\r\n//  getInitialState() {\r\n//    return {\r\n//        code: \"// Code\",\r\n//    };\r\n//  }\r\n  updateCode(newCode) {\r\n    this.setState({\r\n        code: newCode,\r\n    });\r\n  }\r\n  render() {\r\n    var options = {\r\n        lineNumbers: true,\r\n        mode: \"javascript\"\r\n    };\r\n    return( \r\n      <CodeMirror value={this.state.code} onChange={this.updateCode} options={options} />\r\n    );\r\n  }\r\n}\r\n\r\n//class App extends Component {\r\n//  render() {\r\n//    return (\r\n//      <div className=\"App\">\r\n//        <div className=\"App-header\">\r\n//          <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n//          <h2>Welcome to React</h2>\r\n//        </div>\r\n//        <p className=\"App-intro\">\r\n//          To get started, edit <code>src/App.js</code> and save to reload.\r\n//        </p>\r\n//      </div>\r\n//    );\r\n//  }\r\n//}\r\n\r\n//export default App;\r\n\r\nReactDOM.render(<App />, document.getElementById('app'));\n\n\n// WEBPACK FOOTER //\n// ./src/client/app/index.jsx","'use strict';\n\nmodule.exports = require('./lib/React');\n\n\n\n// WEBPACK FOOTER //\n// ./~/react/react.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar ReactChildren = require('./ReactChildren');\nvar ReactComponent = require('./ReactComponent');\nvar ReactPureComponent = require('./ReactPureComponent');\nvar ReactClass = require('./ReactClass');\nvar ReactDOMFactories = require('./ReactDOMFactories');\nvar ReactElement = require('./ReactElement');\nvar ReactPropTypes = require('./ReactPropTypes');\nvar ReactVersion = require('./ReactVersion');\n\nvar onlyChild = require('./onlyChild');\nvar warning = require('fbjs/lib/warning');\n\nvar createElement = ReactElement.createElement;\nvar createFactory = ReactElement.createFactory;\nvar cloneElement = ReactElement.cloneElement;\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactElementValidator = require('./ReactElementValidator');\n  createElement = ReactElementValidator.createElement;\n  createFactory = ReactElementValidator.createFactory;\n  cloneElement = ReactElementValidator.cloneElement;\n}\n\nvar __spread = _assign;\n\nif (process.env.NODE_ENV !== 'production') {\n  var warned = false;\n  __spread = function () {\n    process.env.NODE_ENV !== 'production' ? warning(warned, 'React.__spread is deprecated and should not be used. Use ' + 'Object.assign directly or another helper function with similar ' + 'semantics. You may be seeing this warning due to your compiler. ' + 'See https://fb.me/react-spread-deprecation for more details.') : void 0;\n    warned = true;\n    return _assign.apply(null, arguments);\n  };\n}\n\nvar React = {\n\n  // Modern\n\n  Children: {\n    map: ReactChildren.map,\n    forEach: ReactChildren.forEach,\n    count: ReactChildren.count,\n    toArray: ReactChildren.toArray,\n    only: onlyChild\n  },\n\n  Component: ReactComponent,\n  PureComponent: ReactPureComponent,\n\n  createElement: createElement,\n  cloneElement: cloneElement,\n  isValidElement: ReactElement.isValidElement,\n\n  // Classic\n\n  PropTypes: ReactPropTypes,\n  createClass: ReactClass.createClass,\n  createFactory: createFactory,\n  createMixin: function (mixin) {\n    // Currently a noop. Will be used to validate and trace mixins.\n    return mixin;\n  },\n\n  // This looks DOM specific but these are actually isomorphic helpers\n  // since they are just generating DOM strings.\n  DOM: ReactDOMFactories,\n\n  version: ReactVersion,\n\n  // Deprecated hook for JSX spread, don't use this for anything.\n  __spread: __spread\n};\n\nmodule.exports = React;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/React.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n// WEBPACK FOOTER //\n// ./~/process/browser.js","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/object-assign/index.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar PooledClass = require('./PooledClass');\nvar ReactElement = require('./ReactElement');\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar traverseAllChildren = require('./traverseAllChildren');\n\nvar twoArgumentPooler = PooledClass.twoArgumentPooler;\nvar fourArgumentPooler = PooledClass.fourArgumentPooler;\n\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction escapeUserProvidedKey(text) {\n  return ('' + text).replace(userProvidedKeyEscapeRegex, '$&/');\n}\n\n/**\n * PooledClass representing the bookkeeping associated with performing a child\n * traversal. Allows avoiding binding callbacks.\n *\n * @constructor ForEachBookKeeping\n * @param {!function} forEachFunction Function to perform traversal with.\n * @param {?*} forEachContext Context to perform context with.\n */\nfunction ForEachBookKeeping(forEachFunction, forEachContext) {\n  this.func = forEachFunction;\n  this.context = forEachContext;\n  this.count = 0;\n}\nForEachBookKeeping.prototype.destructor = function () {\n  this.func = null;\n  this.context = null;\n  this.count = 0;\n};\nPooledClass.addPoolingTo(ForEachBookKeeping, twoArgumentPooler);\n\nfunction forEachSingleChild(bookKeeping, child, name) {\n  var func = bookKeeping.func,\n      context = bookKeeping.context;\n\n  func.call(context, child, bookKeeping.count++);\n}\n\n/**\n * Iterates through children that are typically specified as `props.children`.\n *\n * See https://facebook.github.io/react/docs/top-level-api.html#react.children.foreach\n *\n * The provided forEachFunc(child, index) will be called for each\n * leaf child.\n *\n * @param {?*} children Children tree container.\n * @param {function(*, int)} forEachFunc\n * @param {*} forEachContext Context for forEachContext.\n */\nfunction forEachChildren(children, forEachFunc, forEachContext) {\n  if (children == null) {\n    return children;\n  }\n  var traverseContext = ForEachBookKeeping.getPooled(forEachFunc, forEachContext);\n  traverseAllChildren(children, forEachSingleChild, traverseContext);\n  ForEachBookKeeping.release(traverseContext);\n}\n\n/**\n * PooledClass representing the bookkeeping associated with performing a child\n * mapping. Allows avoiding binding callbacks.\n *\n * @constructor MapBookKeeping\n * @param {!*} mapResult Object containing the ordered map of results.\n * @param {!function} mapFunction Function to perform mapping with.\n * @param {?*} mapContext Context to perform mapping with.\n */\nfunction MapBookKeeping(mapResult, keyPrefix, mapFunction, mapContext) {\n  this.result = mapResult;\n  this.keyPrefix = keyPrefix;\n  this.func = mapFunction;\n  this.context = mapContext;\n  this.count = 0;\n}\nMapBookKeeping.prototype.destructor = function () {\n  this.result = null;\n  this.keyPrefix = null;\n  this.func = null;\n  this.context = null;\n  this.count = 0;\n};\nPooledClass.addPoolingTo(MapBookKeeping, fourArgumentPooler);\n\nfunction mapSingleChildIntoContext(bookKeeping, child, childKey) {\n  var result = bookKeeping.result,\n      keyPrefix = bookKeeping.keyPrefix,\n      func = bookKeeping.func,\n      context = bookKeeping.context;\n\n\n  var mappedChild = func.call(context, child, bookKeeping.count++);\n  if (Array.isArray(mappedChild)) {\n    mapIntoWithKeyPrefixInternal(mappedChild, result, childKey, emptyFunction.thatReturnsArgument);\n  } else if (mappedChild != null) {\n    if (ReactElement.isValidElement(mappedChild)) {\n      mappedChild = ReactElement.cloneAndReplaceKey(mappedChild,\n      // Keep both the (mapped) and old keys if they differ, just as\n      // traverseAllChildren used to do for objects as children\n      keyPrefix + (mappedChild.key && (!child || child.key !== mappedChild.key) ? escapeUserProvidedKey(mappedChild.key) + '/' : '') + childKey);\n    }\n    result.push(mappedChild);\n  }\n}\n\nfunction mapIntoWithKeyPrefixInternal(children, array, prefix, func, context) {\n  var escapedPrefix = '';\n  if (prefix != null) {\n    escapedPrefix = escapeUserProvidedKey(prefix) + '/';\n  }\n  var traverseContext = MapBookKeeping.getPooled(array, escapedPrefix, func, context);\n  traverseAllChildren(children, mapSingleChildIntoContext, traverseContext);\n  MapBookKeeping.release(traverseContext);\n}\n\n/**\n * Maps children that are typically specified as `props.children`.\n *\n * See https://facebook.github.io/react/docs/top-level-api.html#react.children.map\n *\n * The provided mapFunction(child, key, index) will be called for each\n * leaf child.\n *\n * @param {?*} children Children tree container.\n * @param {function(*, int)} func The map function.\n * @param {*} context Context for mapFunction.\n * @return {object} Object containing the ordered map of results.\n */\nfunction mapChildren(children, func, context) {\n  if (children == null) {\n    return children;\n  }\n  var result = [];\n  mapIntoWithKeyPrefixInternal(children, result, null, func, context);\n  return result;\n}\n\nfunction forEachSingleChildDummy(traverseContext, child, name) {\n  return null;\n}\n\n/**\n * Count the number of children that are typically specified as\n * `props.children`.\n *\n * See https://facebook.github.io/react/docs/top-level-api.html#react.children.count\n *\n * @param {?*} children Children tree container.\n * @return {number} The number of children.\n */\nfunction countChildren(children, context) {\n  return traverseAllChildren(children, forEachSingleChildDummy, null);\n}\n\n/**\n * Flatten a children object (typically specified as `props.children`) and\n * return an array with appropriately re-keyed children.\n *\n * See https://facebook.github.io/react/docs/top-level-api.html#react.children.toarray\n */\nfunction toArray(children) {\n  var result = [];\n  mapIntoWithKeyPrefixInternal(children, result, null, emptyFunction.thatReturnsArgument);\n  return result;\n}\n\nvar ReactChildren = {\n  forEach: forEachChildren,\n  map: mapChildren,\n  mapIntoWithKeyPrefixInternal: mapIntoWithKeyPrefixInternal,\n  count: countChildren,\n  toArray: toArray\n};\n\nmodule.exports = ReactChildren;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/ReactChildren.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * Static poolers. Several custom versions for each potential number of\n * arguments. A completely generic pooler is easy to implement, but would\n * require accessing the `arguments` object. In each of these, `this` refers to\n * the Class itself, not an instance. If any others are needed, simply add them\n * here, or in their own files.\n */\nvar oneArgumentPooler = function (copyFieldsFrom) {\n  var Klass = this;\n  if (Klass.instancePool.length) {\n    var instance = Klass.instancePool.pop();\n    Klass.call(instance, copyFieldsFrom);\n    return instance;\n  } else {\n    return new Klass(copyFieldsFrom);\n  }\n};\n\nvar twoArgumentPooler = function (a1, a2) {\n  var Klass = this;\n  if (Klass.instancePool.length) {\n    var instance = Klass.instancePool.pop();\n    Klass.call(instance, a1, a2);\n    return instance;\n  } else {\n    return new Klass(a1, a2);\n  }\n};\n\nvar threeArgumentPooler = function (a1, a2, a3) {\n  var Klass = this;\n  if (Klass.instancePool.length) {\n    var instance = Klass.instancePool.pop();\n    Klass.call(instance, a1, a2, a3);\n    return instance;\n  } else {\n    return new Klass(a1, a2, a3);\n  }\n};\n\nvar fourArgumentPooler = function (a1, a2, a3, a4) {\n  var Klass = this;\n  if (Klass.instancePool.length) {\n    var instance = Klass.instancePool.pop();\n    Klass.call(instance, a1, a2, a3, a4);\n    return instance;\n  } else {\n    return new Klass(a1, a2, a3, a4);\n  }\n};\n\nvar standardReleaser = function (instance) {\n  var Klass = this;\n  !(instance instanceof Klass) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Trying to release an instance into a pool of a different type.') : _prodInvariant('25') : void 0;\n  instance.destructor();\n  if (Klass.instancePool.length < Klass.poolSize) {\n    Klass.instancePool.push(instance);\n  }\n};\n\nvar DEFAULT_POOL_SIZE = 10;\nvar DEFAULT_POOLER = oneArgumentPooler;\n\n/**\n * Augments `CopyConstructor` to be a poolable class, augmenting only the class\n * itself (statically) not adding any prototypical fields. Any CopyConstructor\n * you give this may have a `poolSize` property, and will look for a\n * prototypical `destructor` on instances.\n *\n * @param {Function} CopyConstructor Constructor that can be used to reset.\n * @param {Function} pooler Customizable pooler.\n */\nvar addPoolingTo = function (CopyConstructor, pooler) {\n  // Casting as any so that flow ignores the actual implementation and trusts\n  // it to match the type we declared\n  var NewKlass = CopyConstructor;\n  NewKlass.instancePool = [];\n  NewKlass.getPooled = pooler || DEFAULT_POOLER;\n  if (!NewKlass.poolSize) {\n    NewKlass.poolSize = DEFAULT_POOL_SIZE;\n  }\n  NewKlass.release = standardReleaser;\n  return NewKlass;\n};\n\nvar PooledClass = {\n  addPoolingTo: addPoolingTo,\n  oneArgumentPooler: oneArgumentPooler,\n  twoArgumentPooler: twoArgumentPooler,\n  threeArgumentPooler: threeArgumentPooler,\n  fourArgumentPooler: fourArgumentPooler\n};\n\nmodule.exports = PooledClass;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/PooledClass.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n'use strict';\n\n/**\n * WARNING: DO NOT manually require this module.\n * This is a replacement for `invariant(...)` used by the error code system\n * and will _only_ be required by the corresponding babel pass.\n * It always throws.\n */\n\nfunction reactProdInvariant(code) {\n  var argCount = arguments.length - 1;\n\n  var message = 'Minified React error #' + code + '; visit ' + 'http://facebook.github.io/react/docs/error-decoder.html?invariant=' + code;\n\n  for (var argIdx = 0; argIdx < argCount; argIdx++) {\n    message += '&args[]=' + encodeURIComponent(arguments[argIdx + 1]);\n  }\n\n  message += ' for the full message or use the non-minified dev environment' + ' for full errors and additional helpful warnings.';\n\n  var error = new Error(message);\n  error.name = 'Invariant Violation';\n  error.framesToPop = 1; // we don't care about reactProdInvariant's own frame\n\n  throw error;\n}\n\nmodule.exports = reactProdInvariant;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/reactProdInvariant.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nmodule.exports = invariant;\n\n\n// WEBPACK FOOTER //\n// ./~/fbjs/lib/invariant.js","/**\n * Copyright 2014-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar ReactCurrentOwner = require('./ReactCurrentOwner');\n\nvar warning = require('fbjs/lib/warning');\nvar canDefineProperty = require('./canDefineProperty');\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar REACT_ELEMENT_TYPE = require('./ReactElementSymbol');\n\nvar RESERVED_PROPS = {\n  key: true,\n  ref: true,\n  __self: true,\n  __source: true\n};\n\nvar specialPropKeyWarningShown, specialPropRefWarningShown;\n\nfunction hasValidRef(config) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n  return config.key !== undefined;\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  var warnAboutAccessingKey = function () {\n    if (!specialPropKeyWarningShown) {\n      specialPropKeyWarningShown = true;\n      process.env.NODE_ENV !== 'production' ? warning(false, '%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://fb.me/react-special-props)', displayName) : void 0;\n    }\n  };\n  warnAboutAccessingKey.isReactWarning = true;\n  Object.defineProperty(props, 'key', {\n    get: warnAboutAccessingKey,\n    configurable: true\n  });\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  var warnAboutAccessingRef = function () {\n    if (!specialPropRefWarningShown) {\n      specialPropRefWarningShown = true;\n      process.env.NODE_ENV !== 'production' ? warning(false, '%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://fb.me/react-special-props)', displayName) : void 0;\n    }\n  };\n  warnAboutAccessingRef.isReactWarning = true;\n  Object.defineProperty(props, 'ref', {\n    get: warnAboutAccessingRef,\n    configurable: true\n  });\n}\n\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, no instanceof check\n * will work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} key\n * @param {string|object} ref\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @param {*} owner\n * @param {*} props\n * @internal\n */\nvar ReactElement = function (type, key, ref, self, source, owner, props) {\n  var element = {\n    // This tag allow us to uniquely identify this as a React Element\n    $$typeof: REACT_ELEMENT_TYPE,\n\n    // Built-in properties that belong on the element\n    type: type,\n    key: key,\n    ref: ref,\n    props: props,\n\n    // Record the component responsible for creating this element.\n    _owner: owner\n  };\n\n  if (process.env.NODE_ENV !== 'production') {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {};\n\n    // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n    if (canDefineProperty) {\n      Object.defineProperty(element._store, 'validated', {\n        configurable: false,\n        enumerable: false,\n        writable: true,\n        value: false\n      });\n      // self and source are DEV only properties.\n      Object.defineProperty(element, '_self', {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: self\n      });\n      // Two elements created in two different places should be considered\n      // equal for testing purposes and therefore we hide it from enumeration.\n      Object.defineProperty(element, '_source', {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: source\n      });\n    } else {\n      element._store.validated = false;\n      element._self = self;\n      element._source = source;\n    }\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n};\n\n/**\n * Create and return a new ReactElement of the given type.\n * See https://facebook.github.io/react/docs/top-level-api.html#react.createelement\n */\nReactElement.createElement = function (type, config, children) {\n  var propName;\n\n  // Reserved names are extracted\n  var props = {};\n\n  var key = null;\n  var ref = null;\n  var self = null;\n  var source = null;\n\n  if (config != null) {\n    if (hasValidRef(config)) {\n      ref = config.ref;\n    }\n    if (hasValidKey(config)) {\n      key = '' + config.key;\n    }\n\n    self = config.__self === undefined ? null : config.__self;\n    source = config.__source === undefined ? null : config.__source;\n    // Remaining properties are added to a new props object\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        props[propName] = config[propName];\n      }\n    }\n  }\n\n  // Children can be more than one argument, and those are transferred onto\n  // the newly allocated props object.\n  var childrenLength = arguments.length - 2;\n  if (childrenLength === 1) {\n    props.children = children;\n  } else if (childrenLength > 1) {\n    var childArray = Array(childrenLength);\n    for (var i = 0; i < childrenLength; i++) {\n      childArray[i] = arguments[i + 2];\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      if (Object.freeze) {\n        Object.freeze(childArray);\n      }\n    }\n    props.children = childArray;\n  }\n\n  // Resolve default props\n  if (type && type.defaultProps) {\n    var defaultProps = type.defaultProps;\n    for (propName in defaultProps) {\n      if (props[propName] === undefined) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    if (key || ref) {\n      if (typeof props.$$typeof === 'undefined' || props.$$typeof !== REACT_ELEMENT_TYPE) {\n        var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n        if (key) {\n          defineKeyPropWarningGetter(props, displayName);\n        }\n        if (ref) {\n          defineRefPropWarningGetter(props, displayName);\n        }\n      }\n    }\n  }\n  return ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n};\n\n/**\n * Return a function that produces ReactElements of a given type.\n * See https://facebook.github.io/react/docs/top-level-api.html#react.createfactory\n */\nReactElement.createFactory = function (type) {\n  var factory = ReactElement.createElement.bind(null, type);\n  // Expose the type on the factory and the prototype so that it can be\n  // easily accessed on elements. E.g. `<Foo />.type === Foo`.\n  // This should not be named `constructor` since this may not be the function\n  // that created the element, and it may not even be a constructor.\n  // Legacy hook TODO: Warn if this is accessed\n  factory.type = type;\n  return factory;\n};\n\nReactElement.cloneAndReplaceKey = function (oldElement, newKey) {\n  var newElement = ReactElement(oldElement.type, newKey, oldElement.ref, oldElement._self, oldElement._source, oldElement._owner, oldElement.props);\n\n  return newElement;\n};\n\n/**\n * Clone and return a new ReactElement using element as the starting point.\n * See https://facebook.github.io/react/docs/top-level-api.html#react.cloneelement\n */\nReactElement.cloneElement = function (element, config, children) {\n  var propName;\n\n  // Original props are copied\n  var props = _assign({}, element.props);\n\n  // Reserved names are extracted\n  var key = element.key;\n  var ref = element.ref;\n  // Self is preserved since the owner is preserved.\n  var self = element._self;\n  // Source is preserved since cloneElement is unlikely to be targeted by a\n  // transpiler, and the original source is probably a better indicator of the\n  // true owner.\n  var source = element._source;\n\n  // Owner will be preserved, unless ref is overridden\n  var owner = element._owner;\n\n  if (config != null) {\n    if (hasValidRef(config)) {\n      // Silently steal the ref from the parent.\n      ref = config.ref;\n      owner = ReactCurrentOwner.current;\n    }\n    if (hasValidKey(config)) {\n      key = '' + config.key;\n    }\n\n    // Remaining properties override existing props\n    var defaultProps;\n    if (element.type && element.type.defaultProps) {\n      defaultProps = element.type.defaultProps;\n    }\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        if (config[propName] === undefined && defaultProps !== undefined) {\n          // Resolve default props\n          props[propName] = defaultProps[propName];\n        } else {\n          props[propName] = config[propName];\n        }\n      }\n    }\n  }\n\n  // Children can be more than one argument, and those are transferred onto\n  // the newly allocated props object.\n  var childrenLength = arguments.length - 2;\n  if (childrenLength === 1) {\n    props.children = children;\n  } else if (childrenLength > 1) {\n    var childArray = Array(childrenLength);\n    for (var i = 0; i < childrenLength; i++) {\n      childArray[i] = arguments[i + 2];\n    }\n    props.children = childArray;\n  }\n\n  return ReactElement(element.type, key, ref, self, source, owner, props);\n};\n\n/**\n * Verifies the object is a ReactElement.\n * See https://facebook.github.io/react/docs/top-level-api.html#react.isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a valid component.\n * @final\n */\nReactElement.isValidElement = function (object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n};\n\nmodule.exports = ReactElement;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/ReactElement.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\n/**\n * Keeps track of the current owner.\n *\n * The current owner is the component who should own any components that are\n * currently being constructed.\n */\nvar ReactCurrentOwner = {\n\n  /**\n   * @internal\n   * @type {ReactComponent}\n   */\n  current: null\n\n};\n\nmodule.exports = ReactCurrentOwner;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/ReactCurrentOwner.js","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar emptyFunction = require('./emptyFunction');\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = emptyFunction;\n\nif (process.env.NODE_ENV !== 'production') {\n  (function () {\n    var printWarning = function printWarning(format) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var argIndex = 0;\n      var message = 'Warning: ' + format.replace(/%s/g, function () {\n        return args[argIndex++];\n      });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // --- Welcome to debugging React ---\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch (x) {}\n    };\n\n    warning = function warning(condition, format) {\n      if (format === undefined) {\n        throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n      }\n\n      if (format.indexOf('Failed Composite propType: ') === 0) {\n        return; // Ignore CompositeComponent proptype check.\n      }\n\n      if (!condition) {\n        for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n          args[_key2 - 2] = arguments[_key2];\n        }\n\n        printWarning.apply(undefined, [format].concat(args));\n      }\n    };\n  })();\n}\n\nmodule.exports = warning;\n\n\n// WEBPACK FOOTER //\n// ./~/fbjs/lib/warning.js","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;\n\n\n// WEBPACK FOOTER //\n// ./~/fbjs/lib/emptyFunction.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar canDefineProperty = false;\nif (process.env.NODE_ENV !== 'production') {\n  try {\n    // $FlowFixMe https://github.com/facebook/flow/issues/285\n    Object.defineProperty({}, 'x', { get: function () {} });\n    canDefineProperty = true;\n  } catch (x) {\n    // IE will fail on defineProperty\n  }\n}\n\nmodule.exports = canDefineProperty;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/canDefineProperty.js","/**\n * Copyright 2014-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\n// The Symbol used to tag the ReactElement type. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\n\nvar REACT_ELEMENT_TYPE = typeof Symbol === 'function' && Symbol['for'] && Symbol['for']('react.element') || 0xeac7;\n\nmodule.exports = REACT_ELEMENT_TYPE;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/ReactElementSymbol.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar ReactCurrentOwner = require('./ReactCurrentOwner');\nvar REACT_ELEMENT_TYPE = require('./ReactElementSymbol');\n\nvar getIteratorFn = require('./getIteratorFn');\nvar invariant = require('fbjs/lib/invariant');\nvar KeyEscapeUtils = require('./KeyEscapeUtils');\nvar warning = require('fbjs/lib/warning');\n\nvar SEPARATOR = '.';\nvar SUBSEPARATOR = ':';\n\n/**\n * This is inlined from ReactElement since this file is shared between\n * isomorphic and renderers. We could extract this to a\n *\n */\n\n/**\n * TODO: Test that a single child and an array with one item have the same key\n * pattern.\n */\n\nvar didWarnAboutMaps = false;\n\n/**\n * Generate a key string that identifies a component within a set.\n *\n * @param {*} component A component that could contain a manual key.\n * @param {number} index Index that is used if a manual key is not provided.\n * @return {string}\n */\nfunction getComponentKey(component, index) {\n  // Do some typechecking here since we call this blindly. We want to ensure\n  // that we don't block potential future ES APIs.\n  if (component && typeof component === 'object' && component.key != null) {\n    // Explicit key\n    return KeyEscapeUtils.escape(component.key);\n  }\n  // Implicit key determined by the index in the set\n  return index.toString(36);\n}\n\n/**\n * @param {?*} children Children tree container.\n * @param {!string} nameSoFar Name of the key path so far.\n * @param {!function} callback Callback to invoke with each child found.\n * @param {?*} traverseContext Used to pass information throughout the traversal\n * process.\n * @return {!number} The number of children in this subtree.\n */\nfunction traverseAllChildrenImpl(children, nameSoFar, callback, traverseContext) {\n  var type = typeof children;\n\n  if (type === 'undefined' || type === 'boolean') {\n    // All of the above are perceived as null.\n    children = null;\n  }\n\n  if (children === null || type === 'string' || type === 'number' ||\n  // The following is inlined from ReactElement. This means we can optimize\n  // some checks. React Fiber also inlines this logic for similar purposes.\n  type === 'object' && children.$$typeof === REACT_ELEMENT_TYPE) {\n    callback(traverseContext, children,\n    // If it's the only child, treat the name as if it was wrapped in an array\n    // so that it's consistent if the number of children grows.\n    nameSoFar === '' ? SEPARATOR + getComponentKey(children, 0) : nameSoFar);\n    return 1;\n  }\n\n  var child;\n  var nextName;\n  var subtreeCount = 0; // Count of children found in the current subtree.\n  var nextNamePrefix = nameSoFar === '' ? SEPARATOR : nameSoFar + SUBSEPARATOR;\n\n  if (Array.isArray(children)) {\n    for (var i = 0; i < children.length; i++) {\n      child = children[i];\n      nextName = nextNamePrefix + getComponentKey(child, i);\n      subtreeCount += traverseAllChildrenImpl(child, nextName, callback, traverseContext);\n    }\n  } else {\n    var iteratorFn = getIteratorFn(children);\n    if (iteratorFn) {\n      var iterator = iteratorFn.call(children);\n      var step;\n      if (iteratorFn !== children.entries) {\n        var ii = 0;\n        while (!(step = iterator.next()).done) {\n          child = step.value;\n          nextName = nextNamePrefix + getComponentKey(child, ii++);\n          subtreeCount += traverseAllChildrenImpl(child, nextName, callback, traverseContext);\n        }\n      } else {\n        if (process.env.NODE_ENV !== 'production') {\n          var mapsAsChildrenAddendum = '';\n          if (ReactCurrentOwner.current) {\n            var mapsAsChildrenOwnerName = ReactCurrentOwner.current.getName();\n            if (mapsAsChildrenOwnerName) {\n              mapsAsChildrenAddendum = ' Check the render method of `' + mapsAsChildrenOwnerName + '`.';\n            }\n          }\n          process.env.NODE_ENV !== 'production' ? warning(didWarnAboutMaps, 'Using Maps as children is not yet fully supported. It is an ' + 'experimental feature that might be removed. Convert it to a ' + 'sequence / iterable of keyed ReactElements instead.%s', mapsAsChildrenAddendum) : void 0;\n          didWarnAboutMaps = true;\n        }\n        // Iterator will provide entry [k,v] tuples rather than values.\n        while (!(step = iterator.next()).done) {\n          var entry = step.value;\n          if (entry) {\n            child = entry[1];\n            nextName = nextNamePrefix + KeyEscapeUtils.escape(entry[0]) + SUBSEPARATOR + getComponentKey(child, 0);\n            subtreeCount += traverseAllChildrenImpl(child, nextName, callback, traverseContext);\n          }\n        }\n      }\n    } else if (type === 'object') {\n      var addendum = '';\n      if (process.env.NODE_ENV !== 'production') {\n        addendum = ' If you meant to render a collection of children, use an array ' + 'instead or wrap the object using createFragment(object) from the ' + 'React add-ons.';\n        if (children._isReactElement) {\n          addendum = ' It looks like you\\'re using an element created by a different ' + 'version of React. Make sure to use only one copy of React.';\n        }\n        if (ReactCurrentOwner.current) {\n          var name = ReactCurrentOwner.current.getName();\n          if (name) {\n            addendum += ' Check the render method of `' + name + '`.';\n          }\n        }\n      }\n      var childrenString = String(children);\n      !false ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Objects are not valid as a React child (found: %s).%s', childrenString === '[object Object]' ? 'object with keys {' + Object.keys(children).join(', ') + '}' : childrenString, addendum) : _prodInvariant('31', childrenString === '[object Object]' ? 'object with keys {' + Object.keys(children).join(', ') + '}' : childrenString, addendum) : void 0;\n    }\n  }\n\n  return subtreeCount;\n}\n\n/**\n * Traverses children that are typically specified as `props.children`, but\n * might also be specified through attributes:\n *\n * - `traverseAllChildren(this.props.children, ...)`\n * - `traverseAllChildren(this.props.leftPanelChildren, ...)`\n *\n * The `traverseContext` is an optional argument that is passed through the\n * entire traversal. It can be used to store accumulations or anything else that\n * the callback might find relevant.\n *\n * @param {?*} children Children tree object.\n * @param {!function} callback To invoke upon traversing each child.\n * @param {?*} traverseContext Context for traversal.\n * @return {!number} The number of children in this subtree.\n */\nfunction traverseAllChildren(children, callback, traverseContext) {\n  if (children == null) {\n    return 0;\n  }\n\n  return traverseAllChildrenImpl(children, '', callback, traverseContext);\n}\n\nmodule.exports = traverseAllChildren;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/traverseAllChildren.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\n/* global Symbol */\n\nvar ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n/**\n * Returns the iterator method function contained on the iterable object.\n *\n * Be sure to invoke the function with the iterable as context:\n *\n *     var iteratorFn = getIteratorFn(myIterable);\n *     if (iteratorFn) {\n *       var iterator = iteratorFn.call(myIterable);\n *       ...\n *     }\n *\n * @param {?object} maybeIterable\n * @return {?function}\n */\nfunction getIteratorFn(maybeIterable) {\n  var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n  if (typeof iteratorFn === 'function') {\n    return iteratorFn;\n  }\n}\n\nmodule.exports = getIteratorFn;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/getIteratorFn.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\n/**\n * Escape and wrap key so it is safe to use as a reactid\n *\n * @param {string} key to be escaped.\n * @return {string} the escaped key.\n */\n\nfunction escape(key) {\n  var escapeRegex = /[=:]/g;\n  var escaperLookup = {\n    '=': '=0',\n    ':': '=2'\n  };\n  var escapedString = ('' + key).replace(escapeRegex, function (match) {\n    return escaperLookup[match];\n  });\n\n  return '$' + escapedString;\n}\n\n/**\n * Unescape and unwrap key for human-readable display\n *\n * @param {string} key to unescape.\n * @return {string} the unescaped key.\n */\nfunction unescape(key) {\n  var unescapeRegex = /(=0|=2)/g;\n  var unescaperLookup = {\n    '=0': '=',\n    '=2': ':'\n  };\n  var keySubstring = key[0] === '.' && key[1] === '$' ? key.substring(2) : key.substring(1);\n\n  return ('' + keySubstring).replace(unescapeRegex, function (match) {\n    return unescaperLookup[match];\n  });\n}\n\nvar KeyEscapeUtils = {\n  escape: escape,\n  unescape: unescape\n};\n\nmodule.exports = KeyEscapeUtils;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/KeyEscapeUtils.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar ReactNoopUpdateQueue = require('./ReactNoopUpdateQueue');\n\nvar canDefineProperty = require('./canDefineProperty');\nvar emptyObject = require('fbjs/lib/emptyObject');\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\n/**\n * Base class helpers for the updating state of a component.\n */\nfunction ReactComponent(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  // We initialize the default updater but the real one gets injected by the\n  // renderer.\n  this.updater = updater || ReactNoopUpdateQueue;\n}\n\nReactComponent.prototype.isReactComponent = {};\n\n/**\n * Sets a subset of the state. Always use this to mutate\n * state. You should treat `this.state` as immutable.\n *\n * There is no guarantee that `this.state` will be immediately updated, so\n * accessing `this.state` after calling this method may return the old value.\n *\n * There is no guarantee that calls to `setState` will run synchronously,\n * as they may eventually be batched together.  You can provide an optional\n * callback that will be executed when the call to setState is actually\n * completed.\n *\n * When a function is provided to setState, it will be called at some point in\n * the future (not synchronously). It will be called with the up to date\n * component arguments (state, props, context). These values can be different\n * from this.* because your function may be called after receiveProps but before\n * shouldComponentUpdate, and this new state, props, and context will not yet be\n * assigned to this.\n *\n * @param {object|function} partialState Next partial state or function to\n *        produce next partial state to be merged with current state.\n * @param {?function} callback Called after state is updated.\n * @final\n * @protected\n */\nReactComponent.prototype.setState = function (partialState, callback) {\n  !(typeof partialState === 'object' || typeof partialState === 'function' || partialState == null) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'setState(...): takes an object of state variables to update or a function which returns an object of state variables.') : _prodInvariant('85') : void 0;\n  this.updater.enqueueSetState(this, partialState);\n  if (callback) {\n    this.updater.enqueueCallback(this, callback, 'setState');\n  }\n};\n\n/**\n * Forces an update. This should only be invoked when it is known with\n * certainty that we are **not** in a DOM transaction.\n *\n * You may want to call this when you know that some deeper aspect of the\n * component's state has changed but `setState` was not called.\n *\n * This will not invoke `shouldComponentUpdate`, but it will invoke\n * `componentWillUpdate` and `componentDidUpdate`.\n *\n * @param {?function} callback Called after update is complete.\n * @final\n * @protected\n */\nReactComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this);\n  if (callback) {\n    this.updater.enqueueCallback(this, callback, 'forceUpdate');\n  }\n};\n\n/**\n * Deprecated APIs. These APIs used to exist on classic React classes but since\n * we would like to deprecate them, we're not going to move them over to this\n * modern base class. Instead, we define a getter that warns if it's accessed.\n */\nif (process.env.NODE_ENV !== 'production') {\n  var deprecatedAPIs = {\n    isMounted: ['isMounted', 'Instead, make sure to clean up subscriptions and pending requests in ' + 'componentWillUnmount to prevent memory leaks.'],\n    replaceState: ['replaceState', 'Refactor your code to use setState instead (see ' + 'https://github.com/facebook/react/issues/3236).']\n  };\n  var defineDeprecationWarning = function (methodName, info) {\n    if (canDefineProperty) {\n      Object.defineProperty(ReactComponent.prototype, methodName, {\n        get: function () {\n          process.env.NODE_ENV !== 'production' ? warning(false, '%s(...) is deprecated in plain JavaScript React classes. %s', info[0], info[1]) : void 0;\n          return undefined;\n        }\n      });\n    }\n  };\n  for (var fnName in deprecatedAPIs) {\n    if (deprecatedAPIs.hasOwnProperty(fnName)) {\n      defineDeprecationWarning(fnName, deprecatedAPIs[fnName]);\n    }\n  }\n}\n\nmodule.exports = ReactComponent;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/ReactComponent.js","/**\n * Copyright 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar warning = require('fbjs/lib/warning');\n\nfunction warnNoop(publicInstance, callerName) {\n  if (process.env.NODE_ENV !== 'production') {\n    var constructor = publicInstance.constructor;\n    process.env.NODE_ENV !== 'production' ? warning(false, '%s(...): Can only update a mounted or mounting component. ' + 'This usually means you called %s() on an unmounted component. ' + 'This is a no-op. Please check the code for the %s component.', callerName, callerName, constructor && (constructor.displayName || constructor.name) || 'ReactClass') : void 0;\n  }\n}\n\n/**\n * This is the abstract API for an update queue.\n */\nvar ReactNoopUpdateQueue = {\n\n  /**\n   * Checks whether or not this composite component is mounted.\n   * @param {ReactClass} publicInstance The instance we want to test.\n   * @return {boolean} True if mounted, false otherwise.\n   * @protected\n   * @final\n   */\n  isMounted: function (publicInstance) {\n    return false;\n  },\n\n  /**\n   * Enqueue a callback that will be executed after all the pending updates\n   * have processed.\n   *\n   * @param {ReactClass} publicInstance The instance to use as `this` context.\n   * @param {?function} callback Called after state is updated.\n   * @internal\n   */\n  enqueueCallback: function (publicInstance, callback) {},\n\n  /**\n   * Forces an update. This should only be invoked when it is known with\n   * certainty that we are **not** in a DOM transaction.\n   *\n   * You may want to call this when you know that some deeper aspect of the\n   * component's state has changed but `setState` was not called.\n   *\n   * This will not invoke `shouldComponentUpdate`, but it will invoke\n   * `componentWillUpdate` and `componentDidUpdate`.\n   *\n   * @param {ReactClass} publicInstance The instance that should rerender.\n   * @internal\n   */\n  enqueueForceUpdate: function (publicInstance) {\n    warnNoop(publicInstance, 'forceUpdate');\n  },\n\n  /**\n   * Replaces all of the state. Always use this or `setState` to mutate state.\n   * You should treat `this.state` as immutable.\n   *\n   * There is no guarantee that `this.state` will be immediately updated, so\n   * accessing `this.state` after calling this method may return the old value.\n   *\n   * @param {ReactClass} publicInstance The instance that should rerender.\n   * @param {object} completeState Next state.\n   * @internal\n   */\n  enqueueReplaceState: function (publicInstance, completeState) {\n    warnNoop(publicInstance, 'replaceState');\n  },\n\n  /**\n   * Sets a subset of the state. This only exists because _pendingState is\n   * internal. This provides a merging strategy that is not available to deep\n   * properties which is confusing. TODO: Expose pendingState or don't use it\n   * during the merge.\n   *\n   * @param {ReactClass} publicInstance The instance that should rerender.\n   * @param {object} partialState Next partial state to be merged with state.\n   * @internal\n   */\n  enqueueSetState: function (publicInstance, partialState) {\n    warnNoop(publicInstance, 'setState');\n  }\n};\n\nmodule.exports = ReactNoopUpdateQueue;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/ReactNoopUpdateQueue.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar emptyObject = {};\n\nif (process.env.NODE_ENV !== 'production') {\n  Object.freeze(emptyObject);\n}\n\nmodule.exports = emptyObject;\n\n\n// WEBPACK FOOTER //\n// ./~/fbjs/lib/emptyObject.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar ReactComponent = require('./ReactComponent');\nvar ReactNoopUpdateQueue = require('./ReactNoopUpdateQueue');\n\nvar emptyObject = require('fbjs/lib/emptyObject');\n\n/**\n * Base class helpers for the updating state of a component.\n */\nfunction ReactPureComponent(props, context, updater) {\n  // Duplicated from ReactComponent.\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  // We initialize the default updater but the real one gets injected by the\n  // renderer.\n  this.updater = updater || ReactNoopUpdateQueue;\n}\n\nfunction ComponentDummy() {}\nComponentDummy.prototype = ReactComponent.prototype;\nReactPureComponent.prototype = new ComponentDummy();\nReactPureComponent.prototype.constructor = ReactPureComponent;\n// Avoid an extra prototype jump for these methods.\n_assign(ReactPureComponent.prototype, ReactComponent.prototype);\nReactPureComponent.prototype.isPureReactComponent = true;\n\nmodule.exports = ReactPureComponent;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/ReactPureComponent.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant'),\n    _assign = require('object-assign');\n\nvar ReactComponent = require('./ReactComponent');\nvar ReactElement = require('./ReactElement');\nvar ReactPropTypeLocationNames = require('./ReactPropTypeLocationNames');\nvar ReactNoopUpdateQueue = require('./ReactNoopUpdateQueue');\n\nvar emptyObject = require('fbjs/lib/emptyObject');\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\nvar MIXINS_KEY = 'mixins';\n\n// Helper function to allow the creation of anonymous functions which do not\n// have .name set to the name of the variable being assigned to.\nfunction identity(fn) {\n  return fn;\n}\n\n/**\n * Policies that describe methods in `ReactClassInterface`.\n */\n\n\nvar injectedMixins = [];\n\n/**\n * Composite components are higher-level components that compose other composite\n * or host components.\n *\n * To create a new type of `ReactClass`, pass a specification of\n * your new class to `React.createClass`. The only requirement of your class\n * specification is that you implement a `render` method.\n *\n *   var MyComponent = React.createClass({\n *     render: function() {\n *       return <div>Hello World</div>;\n *     }\n *   });\n *\n * The class specification supports a specific protocol of methods that have\n * special meaning (e.g. `render`). See `ReactClassInterface` for\n * more the comprehensive protocol. Any other properties and methods in the\n * class specification will be available on the prototype.\n *\n * @interface ReactClassInterface\n * @internal\n */\nvar ReactClassInterface = {\n\n  /**\n   * An array of Mixin objects to include when defining your component.\n   *\n   * @type {array}\n   * @optional\n   */\n  mixins: 'DEFINE_MANY',\n\n  /**\n   * An object containing properties and methods that should be defined on\n   * the component's constructor instead of its prototype (static methods).\n   *\n   * @type {object}\n   * @optional\n   */\n  statics: 'DEFINE_MANY',\n\n  /**\n   * Definition of prop types for this component.\n   *\n   * @type {object}\n   * @optional\n   */\n  propTypes: 'DEFINE_MANY',\n\n  /**\n   * Definition of context types for this component.\n   *\n   * @type {object}\n   * @optional\n   */\n  contextTypes: 'DEFINE_MANY',\n\n  /**\n   * Definition of context types this component sets for its children.\n   *\n   * @type {object}\n   * @optional\n   */\n  childContextTypes: 'DEFINE_MANY',\n\n  // ==== Definition methods ====\n\n  /**\n   * Invoked when the component is mounted. Values in the mapping will be set on\n   * `this.props` if that prop is not specified (i.e. using an `in` check).\n   *\n   * This method is invoked before `getInitialState` and therefore cannot rely\n   * on `this.state` or use `this.setState`.\n   *\n   * @return {object}\n   * @optional\n   */\n  getDefaultProps: 'DEFINE_MANY_MERGED',\n\n  /**\n   * Invoked once before the component is mounted. The return value will be used\n   * as the initial value of `this.state`.\n   *\n   *   getInitialState: function() {\n   *     return {\n   *       isOn: false,\n   *       fooBaz: new BazFoo()\n   *     }\n   *   }\n   *\n   * @return {object}\n   * @optional\n   */\n  getInitialState: 'DEFINE_MANY_MERGED',\n\n  /**\n   * @return {object}\n   * @optional\n   */\n  getChildContext: 'DEFINE_MANY_MERGED',\n\n  /**\n   * Uses props from `this.props` and state from `this.state` to render the\n   * structure of the component.\n   *\n   * No guarantees are made about when or how often this method is invoked, so\n   * it must not have side effects.\n   *\n   *   render: function() {\n   *     var name = this.props.name;\n   *     return <div>Hello, {name}!</div>;\n   *   }\n   *\n   * @return {ReactComponent}\n   * @nosideeffects\n   * @required\n   */\n  render: 'DEFINE_ONCE',\n\n  // ==== Delegate methods ====\n\n  /**\n   * Invoked when the component is initially created and about to be mounted.\n   * This may have side effects, but any external subscriptions or data created\n   * by this method must be cleaned up in `componentWillUnmount`.\n   *\n   * @optional\n   */\n  componentWillMount: 'DEFINE_MANY',\n\n  /**\n   * Invoked when the component has been mounted and has a DOM representation.\n   * However, there is no guarantee that the DOM node is in the document.\n   *\n   * Use this as an opportunity to operate on the DOM when the component has\n   * been mounted (initialized and rendered) for the first time.\n   *\n   * @param {DOMElement} rootNode DOM element representing the component.\n   * @optional\n   */\n  componentDidMount: 'DEFINE_MANY',\n\n  /**\n   * Invoked before the component receives new props.\n   *\n   * Use this as an opportunity to react to a prop transition by updating the\n   * state using `this.setState`. Current props are accessed via `this.props`.\n   *\n   *   componentWillReceiveProps: function(nextProps, nextContext) {\n   *     this.setState({\n   *       likesIncreasing: nextProps.likeCount > this.props.likeCount\n   *     });\n   *   }\n   *\n   * NOTE: There is no equivalent `componentWillReceiveState`. An incoming prop\n   * transition may cause a state change, but the opposite is not true. If you\n   * need it, you are probably looking for `componentWillUpdate`.\n   *\n   * @param {object} nextProps\n   * @optional\n   */\n  componentWillReceiveProps: 'DEFINE_MANY',\n\n  /**\n   * Invoked while deciding if the component should be updated as a result of\n   * receiving new props, state and/or context.\n   *\n   * Use this as an opportunity to `return false` when you're certain that the\n   * transition to the new props/state/context will not require a component\n   * update.\n   *\n   *   shouldComponentUpdate: function(nextProps, nextState, nextContext) {\n   *     return !equal(nextProps, this.props) ||\n   *       !equal(nextState, this.state) ||\n   *       !equal(nextContext, this.context);\n   *   }\n   *\n   * @param {object} nextProps\n   * @param {?object} nextState\n   * @param {?object} nextContext\n   * @return {boolean} True if the component should update.\n   * @optional\n   */\n  shouldComponentUpdate: 'DEFINE_ONCE',\n\n  /**\n   * Invoked when the component is about to update due to a transition from\n   * `this.props`, `this.state` and `this.context` to `nextProps`, `nextState`\n   * and `nextContext`.\n   *\n   * Use this as an opportunity to perform preparation before an update occurs.\n   *\n   * NOTE: You **cannot** use `this.setState()` in this method.\n   *\n   * @param {object} nextProps\n   * @param {?object} nextState\n   * @param {?object} nextContext\n   * @param {ReactReconcileTransaction} transaction\n   * @optional\n   */\n  componentWillUpdate: 'DEFINE_MANY',\n\n  /**\n   * Invoked when the component's DOM representation has been updated.\n   *\n   * Use this as an opportunity to operate on the DOM when the component has\n   * been updated.\n   *\n   * @param {object} prevProps\n   * @param {?object} prevState\n   * @param {?object} prevContext\n   * @param {DOMElement} rootNode DOM element representing the component.\n   * @optional\n   */\n  componentDidUpdate: 'DEFINE_MANY',\n\n  /**\n   * Invoked when the component is about to be removed from its parent and have\n   * its DOM representation destroyed.\n   *\n   * Use this as an opportunity to deallocate any external resources.\n   *\n   * NOTE: There is no `componentDidUnmount` since your component will have been\n   * destroyed by that point.\n   *\n   * @optional\n   */\n  componentWillUnmount: 'DEFINE_MANY',\n\n  // ==== Advanced methods ====\n\n  /**\n   * Updates the component's currently mounted DOM representation.\n   *\n   * By default, this implements React's rendering and reconciliation algorithm.\n   * Sophisticated clients may wish to override this.\n   *\n   * @param {ReactReconcileTransaction} transaction\n   * @internal\n   * @overridable\n   */\n  updateComponent: 'OVERRIDE_BASE'\n\n};\n\n/**\n * Mapping from class specification keys to special processing functions.\n *\n * Although these are declared like instance properties in the specification\n * when defining classes using `React.createClass`, they are actually static\n * and are accessible on the constructor instead of the prototype. Despite\n * being static, they must be defined outside of the \"statics\" key under\n * which all other static methods are defined.\n */\nvar RESERVED_SPEC_KEYS = {\n  displayName: function (Constructor, displayName) {\n    Constructor.displayName = displayName;\n  },\n  mixins: function (Constructor, mixins) {\n    if (mixins) {\n      for (var i = 0; i < mixins.length; i++) {\n        mixSpecIntoComponent(Constructor, mixins[i]);\n      }\n    }\n  },\n  childContextTypes: function (Constructor, childContextTypes) {\n    if (process.env.NODE_ENV !== 'production') {\n      validateTypeDef(Constructor, childContextTypes, 'childContext');\n    }\n    Constructor.childContextTypes = _assign({}, Constructor.childContextTypes, childContextTypes);\n  },\n  contextTypes: function (Constructor, contextTypes) {\n    if (process.env.NODE_ENV !== 'production') {\n      validateTypeDef(Constructor, contextTypes, 'context');\n    }\n    Constructor.contextTypes = _assign({}, Constructor.contextTypes, contextTypes);\n  },\n  /**\n   * Special case getDefaultProps which should move into statics but requires\n   * automatic merging.\n   */\n  getDefaultProps: function (Constructor, getDefaultProps) {\n    if (Constructor.getDefaultProps) {\n      Constructor.getDefaultProps = createMergedResultFunction(Constructor.getDefaultProps, getDefaultProps);\n    } else {\n      Constructor.getDefaultProps = getDefaultProps;\n    }\n  },\n  propTypes: function (Constructor, propTypes) {\n    if (process.env.NODE_ENV !== 'production') {\n      validateTypeDef(Constructor, propTypes, 'prop');\n    }\n    Constructor.propTypes = _assign({}, Constructor.propTypes, propTypes);\n  },\n  statics: function (Constructor, statics) {\n    mixStaticSpecIntoComponent(Constructor, statics);\n  },\n  autobind: function () {} };\n\nfunction validateTypeDef(Constructor, typeDef, location) {\n  for (var propName in typeDef) {\n    if (typeDef.hasOwnProperty(propName)) {\n      // use a warning instead of an invariant so components\n      // don't show up in prod but only in __DEV__\n      process.env.NODE_ENV !== 'production' ? warning(typeof typeDef[propName] === 'function', '%s: %s type `%s` is invalid; it must be a function, usually from ' + 'React.PropTypes.', Constructor.displayName || 'ReactClass', ReactPropTypeLocationNames[location], propName) : void 0;\n    }\n  }\n}\n\nfunction validateMethodOverride(isAlreadyDefined, name) {\n  var specPolicy = ReactClassInterface.hasOwnProperty(name) ? ReactClassInterface[name] : null;\n\n  // Disallow overriding of base class methods unless explicitly allowed.\n  if (ReactClassMixin.hasOwnProperty(name)) {\n    !(specPolicy === 'OVERRIDE_BASE') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.', name) : _prodInvariant('73', name) : void 0;\n  }\n\n  // Disallow defining methods more than once unless explicitly allowed.\n  if (isAlreadyDefined) {\n    !(specPolicy === 'DEFINE_MANY' || specPolicy === 'DEFINE_MANY_MERGED') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.', name) : _prodInvariant('74', name) : void 0;\n  }\n}\n\n/**\n * Mixin helper which handles policy validation and reserved\n * specification keys when building React classes.\n */\nfunction mixSpecIntoComponent(Constructor, spec) {\n  if (!spec) {\n    if (process.env.NODE_ENV !== 'production') {\n      var typeofSpec = typeof spec;\n      var isMixinValid = typeofSpec === 'object' && spec !== null;\n\n      process.env.NODE_ENV !== 'production' ? warning(isMixinValid, '%s: You\\'re attempting to include a mixin that is either null ' + 'or not an object. Check the mixins included by the component, ' + 'as well as any mixins they include themselves. ' + 'Expected object but got %s.', Constructor.displayName || 'ReactClass', spec === null ? null : typeofSpec) : void 0;\n    }\n\n    return;\n  }\n\n  !(typeof spec !== 'function') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactClass: You\\'re attempting to use a component class or function as a mixin. Instead, just use a regular object.') : _prodInvariant('75') : void 0;\n  !!ReactElement.isValidElement(spec) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactClass: You\\'re attempting to use a component as a mixin. Instead, just use a regular object.') : _prodInvariant('76') : void 0;\n\n  var proto = Constructor.prototype;\n  var autoBindPairs = proto.__reactAutoBindPairs;\n\n  // By handling mixins before any other properties, we ensure the same\n  // chaining order is applied to methods with DEFINE_MANY policy, whether\n  // mixins are listed before or after these methods in the spec.\n  if (spec.hasOwnProperty(MIXINS_KEY)) {\n    RESERVED_SPEC_KEYS.mixins(Constructor, spec.mixins);\n  }\n\n  for (var name in spec) {\n    if (!spec.hasOwnProperty(name)) {\n      continue;\n    }\n\n    if (name === MIXINS_KEY) {\n      // We have already handled mixins in a special case above.\n      continue;\n    }\n\n    var property = spec[name];\n    var isAlreadyDefined = proto.hasOwnProperty(name);\n    validateMethodOverride(isAlreadyDefined, name);\n\n    if (RESERVED_SPEC_KEYS.hasOwnProperty(name)) {\n      RESERVED_SPEC_KEYS[name](Constructor, property);\n    } else {\n      // Setup methods on prototype:\n      // The following member methods should not be automatically bound:\n      // 1. Expected ReactClass methods (in the \"interface\").\n      // 2. Overridden methods (that were mixed in).\n      var isReactClassMethod = ReactClassInterface.hasOwnProperty(name);\n      var isFunction = typeof property === 'function';\n      var shouldAutoBind = isFunction && !isReactClassMethod && !isAlreadyDefined && spec.autobind !== false;\n\n      if (shouldAutoBind) {\n        autoBindPairs.push(name, property);\n        proto[name] = property;\n      } else {\n        if (isAlreadyDefined) {\n          var specPolicy = ReactClassInterface[name];\n\n          // These cases should already be caught by validateMethodOverride.\n          !(isReactClassMethod && (specPolicy === 'DEFINE_MANY_MERGED' || specPolicy === 'DEFINE_MANY')) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.', specPolicy, name) : _prodInvariant('77', specPolicy, name) : void 0;\n\n          // For methods which are defined more than once, call the existing\n          // methods before calling the new property, merging if appropriate.\n          if (specPolicy === 'DEFINE_MANY_MERGED') {\n            proto[name] = createMergedResultFunction(proto[name], property);\n          } else if (specPolicy === 'DEFINE_MANY') {\n            proto[name] = createChainedFunction(proto[name], property);\n          }\n        } else {\n          proto[name] = property;\n          if (process.env.NODE_ENV !== 'production') {\n            // Add verbose displayName to the function, which helps when looking\n            // at profiling tools.\n            if (typeof property === 'function' && spec.displayName) {\n              proto[name].displayName = spec.displayName + '_' + name;\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nfunction mixStaticSpecIntoComponent(Constructor, statics) {\n  if (!statics) {\n    return;\n  }\n  for (var name in statics) {\n    var property = statics[name];\n    if (!statics.hasOwnProperty(name)) {\n      continue;\n    }\n\n    var isReserved = name in RESERVED_SPEC_KEYS;\n    !!isReserved ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\\'t be on the \"statics\" key. Define it as an instance property instead; it will still be accessible on the constructor.', name) : _prodInvariant('78', name) : void 0;\n\n    var isInherited = name in Constructor;\n    !!isInherited ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.', name) : _prodInvariant('79', name) : void 0;\n    Constructor[name] = property;\n  }\n}\n\n/**\n * Merge two objects, but throw if both contain the same key.\n *\n * @param {object} one The first object, which is mutated.\n * @param {object} two The second object\n * @return {object} one after it has been mutated to contain everything in two.\n */\nfunction mergeIntoWithNoDuplicateKeys(one, two) {\n  !(one && two && typeof one === 'object' && typeof two === 'object') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.') : _prodInvariant('80') : void 0;\n\n  for (var key in two) {\n    if (two.hasOwnProperty(key)) {\n      !(one[key] === undefined) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.', key) : _prodInvariant('81', key) : void 0;\n      one[key] = two[key];\n    }\n  }\n  return one;\n}\n\n/**\n * Creates a function that invokes two functions and merges their return values.\n *\n * @param {function} one Function to invoke first.\n * @param {function} two Function to invoke second.\n * @return {function} Function that invokes the two argument functions.\n * @private\n */\nfunction createMergedResultFunction(one, two) {\n  return function mergedResult() {\n    var a = one.apply(this, arguments);\n    var b = two.apply(this, arguments);\n    if (a == null) {\n      return b;\n    } else if (b == null) {\n      return a;\n    }\n    var c = {};\n    mergeIntoWithNoDuplicateKeys(c, a);\n    mergeIntoWithNoDuplicateKeys(c, b);\n    return c;\n  };\n}\n\n/**\n * Creates a function that invokes two functions and ignores their return vales.\n *\n * @param {function} one Function to invoke first.\n * @param {function} two Function to invoke second.\n * @return {function} Function that invokes the two argument functions.\n * @private\n */\nfunction createChainedFunction(one, two) {\n  return function chainedFunction() {\n    one.apply(this, arguments);\n    two.apply(this, arguments);\n  };\n}\n\n/**\n * Binds a method to the component.\n *\n * @param {object} component Component whose method is going to be bound.\n * @param {function} method Method to be bound.\n * @return {function} The bound method.\n */\nfunction bindAutoBindMethod(component, method) {\n  var boundMethod = method.bind(component);\n  if (process.env.NODE_ENV !== 'production') {\n    boundMethod.__reactBoundContext = component;\n    boundMethod.__reactBoundMethod = method;\n    boundMethod.__reactBoundArguments = null;\n    var componentName = component.constructor.displayName;\n    var _bind = boundMethod.bind;\n    boundMethod.bind = function (newThis) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      // User is trying to bind() an autobound method; we effectively will\n      // ignore the value of \"this\" that the user is trying to use, so\n      // let's warn.\n      if (newThis !== component && newThis !== null) {\n        process.env.NODE_ENV !== 'production' ? warning(false, 'bind(): React component methods may only be bound to the ' + 'component instance. See %s', componentName) : void 0;\n      } else if (!args.length) {\n        process.env.NODE_ENV !== 'production' ? warning(false, 'bind(): You are binding a component method to the component. ' + 'React does this for you automatically in a high-performance ' + 'way, so you can safely remove this call. See %s', componentName) : void 0;\n        return boundMethod;\n      }\n      var reboundMethod = _bind.apply(boundMethod, arguments);\n      reboundMethod.__reactBoundContext = component;\n      reboundMethod.__reactBoundMethod = method;\n      reboundMethod.__reactBoundArguments = args;\n      return reboundMethod;\n    };\n  }\n  return boundMethod;\n}\n\n/**\n * Binds all auto-bound methods in a component.\n *\n * @param {object} component Component whose method is going to be bound.\n */\nfunction bindAutoBindMethods(component) {\n  var pairs = component.__reactAutoBindPairs;\n  for (var i = 0; i < pairs.length; i += 2) {\n    var autoBindKey = pairs[i];\n    var method = pairs[i + 1];\n    component[autoBindKey] = bindAutoBindMethod(component, method);\n  }\n}\n\n/**\n * Add more to the ReactClass base class. These are all legacy features and\n * therefore not already part of the modern ReactComponent.\n */\nvar ReactClassMixin = {\n\n  /**\n   * TODO: This will be deprecated because state should always keep a consistent\n   * type signature and the only use case for this, is to avoid that.\n   */\n  replaceState: function (newState, callback) {\n    this.updater.enqueueReplaceState(this, newState);\n    if (callback) {\n      this.updater.enqueueCallback(this, callback, 'replaceState');\n    }\n  },\n\n  /**\n   * Checks whether or not this composite component is mounted.\n   * @return {boolean} True if mounted, false otherwise.\n   * @protected\n   * @final\n   */\n  isMounted: function () {\n    return this.updater.isMounted(this);\n  }\n};\n\nvar ReactClassComponent = function () {};\n_assign(ReactClassComponent.prototype, ReactComponent.prototype, ReactClassMixin);\n\n/**\n * Module for creating composite components.\n *\n * @class ReactClass\n */\nvar ReactClass = {\n\n  /**\n   * Creates a composite component class given a class specification.\n   * See https://facebook.github.io/react/docs/top-level-api.html#react.createclass\n   *\n   * @param {object} spec Class specification (which must define `render`).\n   * @return {function} Component constructor function.\n   * @public\n   */\n  createClass: function (spec) {\n    // To keep our warnings more understandable, we'll use a little hack here to\n    // ensure that Constructor.name !== 'Constructor'. This makes sure we don't\n    // unnecessarily identify a class without displayName as 'Constructor'.\n    var Constructor = identity(function (props, context, updater) {\n      // This constructor gets overridden by mocks. The argument is used\n      // by mocks to assert on what gets mounted.\n\n      if (process.env.NODE_ENV !== 'production') {\n        process.env.NODE_ENV !== 'production' ? warning(this instanceof Constructor, 'Something is calling a React component directly. Use a factory or ' + 'JSX instead. See: https://fb.me/react-legacyfactory') : void 0;\n      }\n\n      // Wire up auto-binding\n      if (this.__reactAutoBindPairs.length) {\n        bindAutoBindMethods(this);\n      }\n\n      this.props = props;\n      this.context = context;\n      this.refs = emptyObject;\n      this.updater = updater || ReactNoopUpdateQueue;\n\n      this.state = null;\n\n      // ReactClasses doesn't have constructors. Instead, they use the\n      // getInitialState and componentWillMount methods for initialization.\n\n      var initialState = this.getInitialState ? this.getInitialState() : null;\n      if (process.env.NODE_ENV !== 'production') {\n        // We allow auto-mocks to proceed as if they're returning null.\n        if (initialState === undefined && this.getInitialState._isMockFunction) {\n          // This is probably bad practice. Consider warning here and\n          // deprecating this convenience.\n          initialState = null;\n        }\n      }\n      !(typeof initialState === 'object' && !Array.isArray(initialState)) ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s.getInitialState(): must return an object or null', Constructor.displayName || 'ReactCompositeComponent') : _prodInvariant('82', Constructor.displayName || 'ReactCompositeComponent') : void 0;\n\n      this.state = initialState;\n    });\n    Constructor.prototype = new ReactClassComponent();\n    Constructor.prototype.constructor = Constructor;\n    Constructor.prototype.__reactAutoBindPairs = [];\n\n    injectedMixins.forEach(mixSpecIntoComponent.bind(null, Constructor));\n\n    mixSpecIntoComponent(Constructor, spec);\n\n    // Initialize the defaultProps property after all mixins have been merged.\n    if (Constructor.getDefaultProps) {\n      Constructor.defaultProps = Constructor.getDefaultProps();\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      // This is a tag to indicate that the use of these method names is ok,\n      // since it's used with createClass. If it's not, then it's likely a\n      // mistake so we'll warn you to use the static property, property\n      // initializer or constructor respectively.\n      if (Constructor.getDefaultProps) {\n        Constructor.getDefaultProps.isReactClassApproved = {};\n      }\n      if (Constructor.prototype.getInitialState) {\n        Constructor.prototype.getInitialState.isReactClassApproved = {};\n      }\n    }\n\n    !Constructor.prototype.render ? process.env.NODE_ENV !== 'production' ? invariant(false, 'createClass(...): Class specification must implement a `render` method.') : _prodInvariant('83') : void 0;\n\n    if (process.env.NODE_ENV !== 'production') {\n      process.env.NODE_ENV !== 'production' ? warning(!Constructor.prototype.componentShouldUpdate, '%s has a method called ' + 'componentShouldUpdate(). Did you mean shouldComponentUpdate()? ' + 'The name is phrased as a question because the function is ' + 'expected to return a value.', spec.displayName || 'A component') : void 0;\n      process.env.NODE_ENV !== 'production' ? warning(!Constructor.prototype.componentWillRecieveProps, '%s has a method called ' + 'componentWillRecieveProps(). Did you mean componentWillReceiveProps()?', spec.displayName || 'A component') : void 0;\n    }\n\n    // Reduce time spent doing lookups by setting these on the prototype.\n    for (var methodName in ReactClassInterface) {\n      if (!Constructor.prototype[methodName]) {\n        Constructor.prototype[methodName] = null;\n      }\n    }\n\n    return Constructor;\n  },\n\n  injection: {\n    injectMixin: function (mixin) {\n      injectedMixins.push(mixin);\n    }\n  }\n\n};\n\nmodule.exports = ReactClass;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/ReactClass.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar ReactPropTypeLocationNames = {};\n\nif (process.env.NODE_ENV !== 'production') {\n  ReactPropTypeLocationNames = {\n    prop: 'prop',\n    context: 'context',\n    childContext: 'child context'\n  };\n}\n\nmodule.exports = ReactPropTypeLocationNames;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/ReactPropTypeLocationNames.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar ReactElement = require('./ReactElement');\n\n/**\n * Create a factory that creates HTML tag elements.\n *\n * @private\n */\nvar createDOMFactory = ReactElement.createFactory;\nif (process.env.NODE_ENV !== 'production') {\n  var ReactElementValidator = require('./ReactElementValidator');\n  createDOMFactory = ReactElementValidator.createFactory;\n}\n\n/**\n * Creates a mapping from supported HTML tags to `ReactDOMComponent` classes.\n * This is also accessible via `React.DOM`.\n *\n * @public\n */\nvar ReactDOMFactories = {\n  a: createDOMFactory('a'),\n  abbr: createDOMFactory('abbr'),\n  address: createDOMFactory('address'),\n  area: createDOMFactory('area'),\n  article: createDOMFactory('article'),\n  aside: createDOMFactory('aside'),\n  audio: createDOMFactory('audio'),\n  b: createDOMFactory('b'),\n  base: createDOMFactory('base'),\n  bdi: createDOMFactory('bdi'),\n  bdo: createDOMFactory('bdo'),\n  big: createDOMFactory('big'),\n  blockquote: createDOMFactory('blockquote'),\n  body: createDOMFactory('body'),\n  br: createDOMFactory('br'),\n  button: createDOMFactory('button'),\n  canvas: createDOMFactory('canvas'),\n  caption: createDOMFactory('caption'),\n  cite: createDOMFactory('cite'),\n  code: createDOMFactory('code'),\n  col: createDOMFactory('col'),\n  colgroup: createDOMFactory('colgroup'),\n  data: createDOMFactory('data'),\n  datalist: createDOMFactory('datalist'),\n  dd: createDOMFactory('dd'),\n  del: createDOMFactory('del'),\n  details: createDOMFactory('details'),\n  dfn: createDOMFactory('dfn'),\n  dialog: createDOMFactory('dialog'),\n  div: createDOMFactory('div'),\n  dl: createDOMFactory('dl'),\n  dt: createDOMFactory('dt'),\n  em: createDOMFactory('em'),\n  embed: createDOMFactory('embed'),\n  fieldset: createDOMFactory('fieldset'),\n  figcaption: createDOMFactory('figcaption'),\n  figure: createDOMFactory('figure'),\n  footer: createDOMFactory('footer'),\n  form: createDOMFactory('form'),\n  h1: createDOMFactory('h1'),\n  h2: createDOMFactory('h2'),\n  h3: createDOMFactory('h3'),\n  h4: createDOMFactory('h4'),\n  h5: createDOMFactory('h5'),\n  h6: createDOMFactory('h6'),\n  head: createDOMFactory('head'),\n  header: createDOMFactory('header'),\n  hgroup: createDOMFactory('hgroup'),\n  hr: createDOMFactory('hr'),\n  html: createDOMFactory('html'),\n  i: createDOMFactory('i'),\n  iframe: createDOMFactory('iframe'),\n  img: createDOMFactory('img'),\n  input: createDOMFactory('input'),\n  ins: createDOMFactory('ins'),\n  kbd: createDOMFactory('kbd'),\n  keygen: createDOMFactory('keygen'),\n  label: createDOMFactory('label'),\n  legend: createDOMFactory('legend'),\n  li: createDOMFactory('li'),\n  link: createDOMFactory('link'),\n  main: createDOMFactory('main'),\n  map: createDOMFactory('map'),\n  mark: createDOMFactory('mark'),\n  menu: createDOMFactory('menu'),\n  menuitem: createDOMFactory('menuitem'),\n  meta: createDOMFactory('meta'),\n  meter: createDOMFactory('meter'),\n  nav: createDOMFactory('nav'),\n  noscript: createDOMFactory('noscript'),\n  object: createDOMFactory('object'),\n  ol: createDOMFactory('ol'),\n  optgroup: createDOMFactory('optgroup'),\n  option: createDOMFactory('option'),\n  output: createDOMFactory('output'),\n  p: createDOMFactory('p'),\n  param: createDOMFactory('param'),\n  picture: createDOMFactory('picture'),\n  pre: createDOMFactory('pre'),\n  progress: createDOMFactory('progress'),\n  q: createDOMFactory('q'),\n  rp: createDOMFactory('rp'),\n  rt: createDOMFactory('rt'),\n  ruby: createDOMFactory('ruby'),\n  s: createDOMFactory('s'),\n  samp: createDOMFactory('samp'),\n  script: createDOMFactory('script'),\n  section: createDOMFactory('section'),\n  select: createDOMFactory('select'),\n  small: createDOMFactory('small'),\n  source: createDOMFactory('source'),\n  span: createDOMFactory('span'),\n  strong: createDOMFactory('strong'),\n  style: createDOMFactory('style'),\n  sub: createDOMFactory('sub'),\n  summary: createDOMFactory('summary'),\n  sup: createDOMFactory('sup'),\n  table: createDOMFactory('table'),\n  tbody: createDOMFactory('tbody'),\n  td: createDOMFactory('td'),\n  textarea: createDOMFactory('textarea'),\n  tfoot: createDOMFactory('tfoot'),\n  th: createDOMFactory('th'),\n  thead: createDOMFactory('thead'),\n  time: createDOMFactory('time'),\n  title: createDOMFactory('title'),\n  tr: createDOMFactory('tr'),\n  track: createDOMFactory('track'),\n  u: createDOMFactory('u'),\n  ul: createDOMFactory('ul'),\n  'var': createDOMFactory('var'),\n  video: createDOMFactory('video'),\n  wbr: createDOMFactory('wbr'),\n\n  // SVG\n  circle: createDOMFactory('circle'),\n  clipPath: createDOMFactory('clipPath'),\n  defs: createDOMFactory('defs'),\n  ellipse: createDOMFactory('ellipse'),\n  g: createDOMFactory('g'),\n  image: createDOMFactory('image'),\n  line: createDOMFactory('line'),\n  linearGradient: createDOMFactory('linearGradient'),\n  mask: createDOMFactory('mask'),\n  path: createDOMFactory('path'),\n  pattern: createDOMFactory('pattern'),\n  polygon: createDOMFactory('polygon'),\n  polyline: createDOMFactory('polyline'),\n  radialGradient: createDOMFactory('radialGradient'),\n  rect: createDOMFactory('rect'),\n  stop: createDOMFactory('stop'),\n  svg: createDOMFactory('svg'),\n  text: createDOMFactory('text'),\n  tspan: createDOMFactory('tspan')\n};\n\nmodule.exports = ReactDOMFactories;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/ReactDOMFactories.js","/**\n * Copyright 2014-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n/**\n * ReactElementValidator provides a wrapper around a element factory\n * which validates the props passed to the element. This is intended to be\n * used only in DEV and could be replaced by a static type checker for languages\n * that support it.\n */\n\n'use strict';\n\nvar ReactCurrentOwner = require('./ReactCurrentOwner');\nvar ReactComponentTreeHook = require('./ReactComponentTreeHook');\nvar ReactElement = require('./ReactElement');\n\nvar checkReactTypeSpec = require('./checkReactTypeSpec');\n\nvar canDefineProperty = require('./canDefineProperty');\nvar getIteratorFn = require('./getIteratorFn');\nvar warning = require('fbjs/lib/warning');\n\nfunction getDeclarationErrorAddendum() {\n  if (ReactCurrentOwner.current) {\n    var name = ReactCurrentOwner.current.getName();\n    if (name) {\n      return ' Check the render method of `' + name + '`.';\n    }\n  }\n  return '';\n}\n\n/**\n * Warn if there's no key explicitly set on dynamic arrays of children or\n * object keys are not valid. This allows us to keep track of children between\n * updates.\n */\nvar ownerHasKeyUseWarning = {};\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  var info = getDeclarationErrorAddendum();\n\n  if (!info) {\n    var parentName = typeof parentType === 'string' ? parentType : parentType.displayName || parentType.name;\n    if (parentName) {\n      info = ' Check the top-level render call using <' + parentName + '>.';\n    }\n  }\n  return info;\n}\n\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\nfunction validateExplicitKey(element, parentType) {\n  if (!element._store || element._store.validated || element.key != null) {\n    return;\n  }\n  element._store.validated = true;\n\n  var memoizer = ownerHasKeyUseWarning.uniqueKey || (ownerHasKeyUseWarning.uniqueKey = {});\n\n  var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n  if (memoizer[currentComponentErrorInfo]) {\n    return;\n  }\n  memoizer[currentComponentErrorInfo] = true;\n\n  // Usually the current owner is the offender, but if it accepts children as a\n  // property, it may be the creator of the child that's responsible for\n  // assigning it a key.\n  var childOwner = '';\n  if (element && element._owner && element._owner !== ReactCurrentOwner.current) {\n    // Give the component that originally created this child.\n    childOwner = ' It was passed a child from ' + element._owner.getName() + '.';\n  }\n\n  process.env.NODE_ENV !== 'production' ? warning(false, 'Each child in an array or iterator should have a unique \"key\" prop.' + '%s%s See https://fb.me/react-warning-keys for more information.%s', currentComponentErrorInfo, childOwner, ReactComponentTreeHook.getCurrentStackAddendum(element)) : void 0;\n}\n\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\nfunction validateChildKeys(node, parentType) {\n  if (typeof node !== 'object') {\n    return;\n  }\n  if (Array.isArray(node)) {\n    for (var i = 0; i < node.length; i++) {\n      var child = node[i];\n      if (ReactElement.isValidElement(child)) {\n        validateExplicitKey(child, parentType);\n      }\n    }\n  } else if (ReactElement.isValidElement(node)) {\n    // This element was passed in a valid location.\n    if (node._store) {\n      node._store.validated = true;\n    }\n  } else if (node) {\n    var iteratorFn = getIteratorFn(node);\n    // Entry iterators provide implicit keys.\n    if (iteratorFn) {\n      if (iteratorFn !== node.entries) {\n        var iterator = iteratorFn.call(node);\n        var step;\n        while (!(step = iterator.next()).done) {\n          if (ReactElement.isValidElement(step.value)) {\n            validateExplicitKey(step.value, parentType);\n          }\n        }\n      }\n    }\n  }\n}\n\n/**\n * Given an element, validate that its props follow the propTypes definition,\n * provided by the type.\n *\n * @param {ReactElement} element\n */\nfunction validatePropTypes(element) {\n  var componentClass = element.type;\n  if (typeof componentClass !== 'function') {\n    return;\n  }\n  var name = componentClass.displayName || componentClass.name;\n  if (componentClass.propTypes) {\n    checkReactTypeSpec(componentClass.propTypes, element.props, 'prop', name, element, null);\n  }\n  if (typeof componentClass.getDefaultProps === 'function') {\n    process.env.NODE_ENV !== 'production' ? warning(componentClass.getDefaultProps.isReactClassApproved, 'getDefaultProps is only used on classic React.createClass ' + 'definitions. Use a static property named `defaultProps` instead.') : void 0;\n  }\n}\n\nvar ReactElementValidator = {\n\n  createElement: function (type, props, children) {\n    var validType = typeof type === 'string' || typeof type === 'function';\n    // We warn in this case but don't throw. We expect the element creation to\n    // succeed and there will likely be errors in render.\n    if (!validType) {\n      if (typeof type !== 'function' && typeof type !== 'string') {\n        var info = '';\n        if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n          info += ' You likely forgot to export your component from the file ' + 'it\\'s defined in.';\n        }\n        info += getDeclarationErrorAddendum();\n        process.env.NODE_ENV !== 'production' ? warning(false, 'React.createElement: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', type == null ? type : typeof type, info) : void 0;\n      }\n    }\n\n    var element = ReactElement.createElement.apply(this, arguments);\n\n    // The result can be nullish if a mock or a custom function is used.\n    // TODO: Drop this when these are no longer allowed as the type argument.\n    if (element == null) {\n      return element;\n    }\n\n    // Skip key warning if the type isn't valid since our key validation logic\n    // doesn't expect a non-string/function type and can throw confusing errors.\n    // We don't want exception behavior to differ between dev and prod.\n    // (Rendering will throw with a helpful message and as soon as the type is\n    // fixed, the key warnings will appear.)\n    if (validType) {\n      for (var i = 2; i < arguments.length; i++) {\n        validateChildKeys(arguments[i], type);\n      }\n    }\n\n    validatePropTypes(element);\n\n    return element;\n  },\n\n  createFactory: function (type) {\n    var validatedFactory = ReactElementValidator.createElement.bind(null, type);\n    // Legacy hook TODO: Warn if this is accessed\n    validatedFactory.type = type;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (canDefineProperty) {\n        Object.defineProperty(validatedFactory, 'type', {\n          enumerable: false,\n          get: function () {\n            process.env.NODE_ENV !== 'production' ? warning(false, 'Factory.type is deprecated. Access the class directly ' + 'before passing it to createFactory.') : void 0;\n            Object.defineProperty(this, 'type', {\n              value: type\n            });\n            return type;\n          }\n        });\n      }\n    }\n\n    return validatedFactory;\n  },\n\n  cloneElement: function (element, props, children) {\n    var newElement = ReactElement.cloneElement.apply(this, arguments);\n    for (var i = 2; i < arguments.length; i++) {\n      validateChildKeys(arguments[i], newElement.type);\n    }\n    validatePropTypes(newElement);\n    return newElement;\n  }\n\n};\n\nmodule.exports = ReactElementValidator;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/ReactElementValidator.js","/**\n * Copyright 2016-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar ReactCurrentOwner = require('./ReactCurrentOwner');\n\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\nfunction isNative(fn) {\n  // Based on isNative() from Lodash\n  var funcToString = Function.prototype.toString;\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n  var reIsNative = RegExp('^' + funcToString\n  // Take an example native function source for comparison\n  .call(hasOwnProperty)\n  // Strip regex characters so we can use it for regex\n  .replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n  // Remove hasOwnProperty from the template to make it generic\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$');\n  try {\n    var source = funcToString.call(fn);\n    return reIsNative.test(source);\n  } catch (err) {\n    return false;\n  }\n}\n\nvar canUseCollections =\n// Array.from\ntypeof Array.from === 'function' &&\n// Map\ntypeof Map === 'function' && isNative(Map) &&\n// Map.prototype.keys\nMap.prototype != null && typeof Map.prototype.keys === 'function' && isNative(Map.prototype.keys) &&\n// Set\ntypeof Set === 'function' && isNative(Set) &&\n// Set.prototype.keys\nSet.prototype != null && typeof Set.prototype.keys === 'function' && isNative(Set.prototype.keys);\n\nvar setItem;\nvar getItem;\nvar removeItem;\nvar getItemIDs;\nvar addRoot;\nvar removeRoot;\nvar getRootIDs;\n\nif (canUseCollections) {\n  var itemMap = new Map();\n  var rootIDSet = new Set();\n\n  setItem = function (id, item) {\n    itemMap.set(id, item);\n  };\n  getItem = function (id) {\n    return itemMap.get(id);\n  };\n  removeItem = function (id) {\n    itemMap['delete'](id);\n  };\n  getItemIDs = function () {\n    return Array.from(itemMap.keys());\n  };\n\n  addRoot = function (id) {\n    rootIDSet.add(id);\n  };\n  removeRoot = function (id) {\n    rootIDSet['delete'](id);\n  };\n  getRootIDs = function () {\n    return Array.from(rootIDSet.keys());\n  };\n} else {\n  var itemByKey = {};\n  var rootByKey = {};\n\n  // Use non-numeric keys to prevent V8 performance issues:\n  // https://github.com/facebook/react/pull/7232\n  var getKeyFromID = function (id) {\n    return '.' + id;\n  };\n  var getIDFromKey = function (key) {\n    return parseInt(key.substr(1), 10);\n  };\n\n  setItem = function (id, item) {\n    var key = getKeyFromID(id);\n    itemByKey[key] = item;\n  };\n  getItem = function (id) {\n    var key = getKeyFromID(id);\n    return itemByKey[key];\n  };\n  removeItem = function (id) {\n    var key = getKeyFromID(id);\n    delete itemByKey[key];\n  };\n  getItemIDs = function () {\n    return Object.keys(itemByKey).map(getIDFromKey);\n  };\n\n  addRoot = function (id) {\n    var key = getKeyFromID(id);\n    rootByKey[key] = true;\n  };\n  removeRoot = function (id) {\n    var key = getKeyFromID(id);\n    delete rootByKey[key];\n  };\n  getRootIDs = function () {\n    return Object.keys(rootByKey).map(getIDFromKey);\n  };\n}\n\nvar unmountedIDs = [];\n\nfunction purgeDeep(id) {\n  var item = getItem(id);\n  if (item) {\n    var childIDs = item.childIDs;\n\n    removeItem(id);\n    childIDs.forEach(purgeDeep);\n  }\n}\n\nfunction describeComponentFrame(name, source, ownerName) {\n  return '\\n    in ' + (name || 'Unknown') + (source ? ' (at ' + source.fileName.replace(/^.*[\\\\\\/]/, '') + ':' + source.lineNumber + ')' : ownerName ? ' (created by ' + ownerName + ')' : '');\n}\n\nfunction getDisplayName(element) {\n  if (element == null) {\n    return '#empty';\n  } else if (typeof element === 'string' || typeof element === 'number') {\n    return '#text';\n  } else if (typeof element.type === 'string') {\n    return element.type;\n  } else {\n    return element.type.displayName || element.type.name || 'Unknown';\n  }\n}\n\nfunction describeID(id) {\n  var name = ReactComponentTreeHook.getDisplayName(id);\n  var element = ReactComponentTreeHook.getElement(id);\n  var ownerID = ReactComponentTreeHook.getOwnerID(id);\n  var ownerName;\n  if (ownerID) {\n    ownerName = ReactComponentTreeHook.getDisplayName(ownerID);\n  }\n  process.env.NODE_ENV !== 'production' ? warning(element, 'ReactComponentTreeHook: Missing React element for debugID %s when ' + 'building stack', id) : void 0;\n  return describeComponentFrame(name, element && element._source, ownerName);\n}\n\nvar ReactComponentTreeHook = {\n  onSetChildren: function (id, nextChildIDs) {\n    var item = getItem(id);\n    !item ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Item must have been set') : _prodInvariant('144') : void 0;\n    item.childIDs = nextChildIDs;\n\n    for (var i = 0; i < nextChildIDs.length; i++) {\n      var nextChildID = nextChildIDs[i];\n      var nextChild = getItem(nextChildID);\n      !nextChild ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Expected hook events to fire for the child before its parent includes it in onSetChildren().') : _prodInvariant('140') : void 0;\n      !(nextChild.childIDs != null || typeof nextChild.element !== 'object' || nextChild.element == null) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Expected onSetChildren() to fire for a container child before its parent includes it in onSetChildren().') : _prodInvariant('141') : void 0;\n      !nextChild.isMounted ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Expected onMountComponent() to fire for the child before its parent includes it in onSetChildren().') : _prodInvariant('71') : void 0;\n      if (nextChild.parentID == null) {\n        nextChild.parentID = id;\n        // TODO: This shouldn't be necessary but mounting a new root during in\n        // componentWillMount currently causes not-yet-mounted components to\n        // be purged from our tree data so their parent id is missing.\n      }\n      !(nextChild.parentID === id) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Expected onBeforeMountComponent() parent and onSetChildren() to be consistent (%s has parents %s and %s).', nextChildID, nextChild.parentID, id) : _prodInvariant('142', nextChildID, nextChild.parentID, id) : void 0;\n    }\n  },\n  onBeforeMountComponent: function (id, element, parentID) {\n    var item = {\n      element: element,\n      parentID: parentID,\n      text: null,\n      childIDs: [],\n      isMounted: false,\n      updateCount: 0\n    };\n    setItem(id, item);\n  },\n  onBeforeUpdateComponent: function (id, element) {\n    var item = getItem(id);\n    if (!item || !item.isMounted) {\n      // We may end up here as a result of setState() in componentWillUnmount().\n      // In this case, ignore the element.\n      return;\n    }\n    item.element = element;\n  },\n  onMountComponent: function (id) {\n    var item = getItem(id);\n    !item ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Item must have been set') : _prodInvariant('144') : void 0;\n    item.isMounted = true;\n    var isRoot = item.parentID === 0;\n    if (isRoot) {\n      addRoot(id);\n    }\n  },\n  onUpdateComponent: function (id) {\n    var item = getItem(id);\n    if (!item || !item.isMounted) {\n      // We may end up here as a result of setState() in componentWillUnmount().\n      // In this case, ignore the element.\n      return;\n    }\n    item.updateCount++;\n  },\n  onUnmountComponent: function (id) {\n    var item = getItem(id);\n    if (item) {\n      // We need to check if it exists.\n      // `item` might not exist if it is inside an error boundary, and a sibling\n      // error boundary child threw while mounting. Then this instance never\n      // got a chance to mount, but it still gets an unmounting event during\n      // the error boundary cleanup.\n      item.isMounted = false;\n      var isRoot = item.parentID === 0;\n      if (isRoot) {\n        removeRoot(id);\n      }\n    }\n    unmountedIDs.push(id);\n  },\n  purgeUnmountedComponents: function () {\n    if (ReactComponentTreeHook._preventPurging) {\n      // Should only be used for testing.\n      return;\n    }\n\n    for (var i = 0; i < unmountedIDs.length; i++) {\n      var id = unmountedIDs[i];\n      purgeDeep(id);\n    }\n    unmountedIDs.length = 0;\n  },\n  isMounted: function (id) {\n    var item = getItem(id);\n    return item ? item.isMounted : false;\n  },\n  getCurrentStackAddendum: function (topElement) {\n    var info = '';\n    if (topElement) {\n      var name = getDisplayName(topElement);\n      var owner = topElement._owner;\n      info += describeComponentFrame(name, topElement._source, owner && owner.getName());\n    }\n\n    var currentOwner = ReactCurrentOwner.current;\n    var id = currentOwner && currentOwner._debugID;\n\n    info += ReactComponentTreeHook.getStackAddendumByID(id);\n    return info;\n  },\n  getStackAddendumByID: function (id) {\n    var info = '';\n    while (id) {\n      info += describeID(id);\n      id = ReactComponentTreeHook.getParentID(id);\n    }\n    return info;\n  },\n  getChildIDs: function (id) {\n    var item = getItem(id);\n    return item ? item.childIDs : [];\n  },\n  getDisplayName: function (id) {\n    var element = ReactComponentTreeHook.getElement(id);\n    if (!element) {\n      return null;\n    }\n    return getDisplayName(element);\n  },\n  getElement: function (id) {\n    var item = getItem(id);\n    return item ? item.element : null;\n  },\n  getOwnerID: function (id) {\n    var element = ReactComponentTreeHook.getElement(id);\n    if (!element || !element._owner) {\n      return null;\n    }\n    return element._owner._debugID;\n  },\n  getParentID: function (id) {\n    var item = getItem(id);\n    return item ? item.parentID : null;\n  },\n  getSource: function (id) {\n    var item = getItem(id);\n    var element = item ? item.element : null;\n    var source = element != null ? element._source : null;\n    return source;\n  },\n  getText: function (id) {\n    var element = ReactComponentTreeHook.getElement(id);\n    if (typeof element === 'string') {\n      return element;\n    } else if (typeof element === 'number') {\n      return '' + element;\n    } else {\n      return null;\n    }\n  },\n  getUpdateCount: function (id) {\n    var item = getItem(id);\n    return item ? item.updateCount : 0;\n  },\n\n\n  getRootIDs: getRootIDs,\n  getRegisteredIDs: getItemIDs\n};\n\nmodule.exports = ReactComponentTreeHook;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/ReactComponentTreeHook.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar ReactPropTypeLocationNames = require('./ReactPropTypeLocationNames');\nvar ReactPropTypesSecret = require('./ReactPropTypesSecret');\n\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\nvar ReactComponentTreeHook;\n\nif (typeof process !== 'undefined' && process.env && process.env.NODE_ENV === 'test') {\n  // Temporary hack.\n  // Inline requires don't work well with Jest:\n  // https://github.com/facebook/react/issues/7240\n  // Remove the inline requires when we don't need them anymore:\n  // https://github.com/facebook/react/pull/7178\n  ReactComponentTreeHook = require('./ReactComponentTreeHook');\n}\n\nvar loggedTypeFailures = {};\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?object} element The React element that is being type-checked\n * @param {?number} debugID The React component instance that is being type-checked\n * @private\n */\nfunction checkReactTypeSpec(typeSpecs, values, location, componentName, element, debugID) {\n  for (var typeSpecName in typeSpecs) {\n    if (typeSpecs.hasOwnProperty(typeSpecName)) {\n      var error;\n      // Prop type validation may throw. In case they do, we don't want to\n      // fail the render phase where it didn't fail before. So we log it.\n      // After these have been cleaned up, we'll let them throw.\n      try {\n        // This is intentionally an invariant that gets caught. It's the same\n        // behavior as without this statement except with a better message.\n        !(typeof typeSpecs[typeSpecName] === 'function') ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.', componentName || 'React class', ReactPropTypeLocationNames[location], typeSpecName) : _prodInvariant('84', componentName || 'React class', ReactPropTypeLocationNames[location], typeSpecName) : void 0;\n        error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n      } catch (ex) {\n        error = ex;\n      }\n      process.env.NODE_ENV !== 'production' ? warning(!error || error instanceof Error, '%s: type specification of %s `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', ReactPropTypeLocationNames[location], typeSpecName, typeof error) : void 0;\n      if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n        // Only monitor this failure once because there tends to be a lot of the\n        // same error.\n        loggedTypeFailures[error.message] = true;\n\n        var componentStackInfo = '';\n\n        if (process.env.NODE_ENV !== 'production') {\n          if (!ReactComponentTreeHook) {\n            ReactComponentTreeHook = require('./ReactComponentTreeHook');\n          }\n          if (debugID !== null) {\n            componentStackInfo = ReactComponentTreeHook.getStackAddendumByID(debugID);\n          } else if (element !== null) {\n            componentStackInfo = ReactComponentTreeHook.getCurrentStackAddendum(element);\n          }\n        }\n\n        process.env.NODE_ENV !== 'production' ? warning(false, 'Failed %s type: %s%s', location, error.message, componentStackInfo) : void 0;\n      }\n    }\n  }\n}\n\nmodule.exports = checkReactTypeSpec;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/checkReactTypeSpec.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/ReactPropTypesSecret.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar ReactElement = require('./ReactElement');\nvar ReactPropTypeLocationNames = require('./ReactPropTypeLocationNames');\nvar ReactPropTypesSecret = require('./ReactPropTypesSecret');\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar getIteratorFn = require('./getIteratorFn');\nvar warning = require('fbjs/lib/warning');\n\n/**\n * Collection of methods that allow declaration and validation of props that are\n * supplied to React components. Example usage:\n *\n *   var Props = require('ReactPropTypes');\n *   var MyArticle = React.createClass({\n *     propTypes: {\n *       // An optional string prop named \"description\".\n *       description: Props.string,\n *\n *       // A required enum prop named \"category\".\n *       category: Props.oneOf(['News','Photos']).isRequired,\n *\n *       // A prop named \"dialog\" that requires an instance of Dialog.\n *       dialog: Props.instanceOf(Dialog).isRequired\n *     },\n *     render: function() { ... }\n *   });\n *\n * A more formal specification of how these methods are used:\n *\n *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n *   decl := ReactPropTypes.{type}(.isRequired)?\n *\n * Each and every declaration produces a function with the same signature. This\n * allows the creation of custom validation functions. For example:\n *\n *  var MyLink = React.createClass({\n *    propTypes: {\n *      // An optional string or URI prop named \"href\".\n *      href: function(props, propName, componentName) {\n *        var propValue = props[propName];\n *        if (propValue != null && typeof propValue !== 'string' &&\n *            !(propValue instanceof URI)) {\n *          return new Error(\n *            'Expected a string or an URI for ' + propName + ' in ' +\n *            componentName\n *          );\n *        }\n *      }\n *    },\n *    render: function() {...}\n *  });\n *\n * @internal\n */\n\nvar ANONYMOUS = '<<anonymous>>';\n\nvar ReactPropTypes = {\n  array: createPrimitiveTypeChecker('array'),\n  bool: createPrimitiveTypeChecker('boolean'),\n  func: createPrimitiveTypeChecker('function'),\n  number: createPrimitiveTypeChecker('number'),\n  object: createPrimitiveTypeChecker('object'),\n  string: createPrimitiveTypeChecker('string'),\n  symbol: createPrimitiveTypeChecker('symbol'),\n\n  any: createAnyTypeChecker(),\n  arrayOf: createArrayOfTypeChecker,\n  element: createElementTypeChecker(),\n  instanceOf: createInstanceTypeChecker,\n  node: createNodeChecker(),\n  objectOf: createObjectOfTypeChecker,\n  oneOf: createEnumTypeChecker,\n  oneOfType: createUnionTypeChecker,\n  shape: createShapeTypeChecker\n};\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\n/*eslint-disable no-self-compare*/\nfunction is(x, y) {\n  // SameValue algorithm\n  if (x === y) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    // Step 6.a: NaN == NaN\n    return x !== x && y !== y;\n  }\n}\n/*eslint-enable no-self-compare*/\n\n/**\n * We use an Error-like object for backward compatibility as people may call\n * PropTypes directly and inspect their output. However we don't use real\n * Errors anymore. We don't inspect their stack anyway, and creating them\n * is prohibitively expensive if they are created too often, such as what\n * happens in oneOfType() for any type before the one that matched.\n */\nfunction PropTypeError(message) {\n  this.message = message;\n  this.stack = '';\n}\n// Make `instanceof Error` still work for returned errors.\nPropTypeError.prototype = Error.prototype;\n\nfunction createChainableTypeChecker(validate) {\n  if (process.env.NODE_ENV !== 'production') {\n    var manualPropTypeCallCache = {};\n  }\n  function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n    componentName = componentName || ANONYMOUS;\n    propFullName = propFullName || propName;\n    if (process.env.NODE_ENV !== 'production') {\n      if (secret !== ReactPropTypesSecret && typeof console !== 'undefined') {\n        var cacheKey = componentName + ':' + propName;\n        if (!manualPropTypeCallCache[cacheKey]) {\n          process.env.NODE_ENV !== 'production' ? warning(false, 'You are manually calling a React.PropTypes validation ' + 'function for the `%s` prop on `%s`. This is deprecated ' + 'and will not work in production with the next major version. ' + 'You may be seeing this warning due to a third-party PropTypes ' + 'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.', propFullName, componentName) : void 0;\n          manualPropTypeCallCache[cacheKey] = true;\n        }\n      }\n    }\n    if (props[propName] == null) {\n      var locationName = ReactPropTypeLocationNames[location];\n      if (isRequired) {\n        if (props[propName] === null) {\n          return new PropTypeError('The ' + locationName + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n        }\n        return new PropTypeError('The ' + locationName + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n      }\n      return null;\n    } else {\n      return validate(props, propName, componentName, location, propFullName);\n    }\n  }\n\n  var chainedCheckType = checkType.bind(null, false);\n  chainedCheckType.isRequired = checkType.bind(null, true);\n\n  return chainedCheckType;\n}\n\nfunction createPrimitiveTypeChecker(expectedType) {\n  function validate(props, propName, componentName, location, propFullName, secret) {\n    var propValue = props[propName];\n    var propType = getPropType(propValue);\n    if (propType !== expectedType) {\n      var locationName = ReactPropTypeLocationNames[location];\n      // `propValue` being instance of, say, date/regexp, pass the 'object'\n      // check, but we can offer a more precise error message here rather than\n      // 'of type `object`'.\n      var preciseType = getPreciseType(propValue);\n\n      return new PropTypeError('Invalid ' + locationName + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n    }\n    return null;\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createAnyTypeChecker() {\n  return createChainableTypeChecker(emptyFunction.thatReturns(null));\n}\n\nfunction createArrayOfTypeChecker(typeChecker) {\n  function validate(props, propName, componentName, location, propFullName) {\n    if (typeof typeChecker !== 'function') {\n      return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n    }\n    var propValue = props[propName];\n    if (!Array.isArray(propValue)) {\n      var locationName = ReactPropTypeLocationNames[location];\n      var propType = getPropType(propValue);\n      return new PropTypeError('Invalid ' + locationName + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n    }\n    for (var i = 0; i < propValue.length; i++) {\n      var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n      if (error instanceof Error) {\n        return error;\n      }\n    }\n    return null;\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createElementTypeChecker() {\n  function validate(props, propName, componentName, location, propFullName) {\n    var propValue = props[propName];\n    if (!ReactElement.isValidElement(propValue)) {\n      var locationName = ReactPropTypeLocationNames[location];\n      var propType = getPropType(propValue);\n      return new PropTypeError('Invalid ' + locationName + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n    }\n    return null;\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createInstanceTypeChecker(expectedClass) {\n  function validate(props, propName, componentName, location, propFullName) {\n    if (!(props[propName] instanceof expectedClass)) {\n      var locationName = ReactPropTypeLocationNames[location];\n      var expectedClassName = expectedClass.name || ANONYMOUS;\n      var actualClassName = getClassName(props[propName]);\n      return new PropTypeError('Invalid ' + locationName + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n    }\n    return null;\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createEnumTypeChecker(expectedValues) {\n  if (!Array.isArray(expectedValues)) {\n    process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid argument supplied to oneOf, expected an instance of array.') : void 0;\n    return emptyFunction.thatReturnsNull;\n  }\n\n  function validate(props, propName, componentName, location, propFullName) {\n    var propValue = props[propName];\n    for (var i = 0; i < expectedValues.length; i++) {\n      if (is(propValue, expectedValues[i])) {\n        return null;\n      }\n    }\n\n    var locationName = ReactPropTypeLocationNames[location];\n    var valuesString = JSON.stringify(expectedValues);\n    return new PropTypeError('Invalid ' + locationName + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createObjectOfTypeChecker(typeChecker) {\n  function validate(props, propName, componentName, location, propFullName) {\n    if (typeof typeChecker !== 'function') {\n      return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n    }\n    var propValue = props[propName];\n    var propType = getPropType(propValue);\n    if (propType !== 'object') {\n      var locationName = ReactPropTypeLocationNames[location];\n      return new PropTypeError('Invalid ' + locationName + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n    }\n    for (var key in propValue) {\n      if (propValue.hasOwnProperty(key)) {\n        var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n    }\n    return null;\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createUnionTypeChecker(arrayOfTypeCheckers) {\n  if (!Array.isArray(arrayOfTypeCheckers)) {\n    process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n    return emptyFunction.thatReturnsNull;\n  }\n\n  function validate(props, propName, componentName, location, propFullName) {\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n        return null;\n      }\n    }\n\n    var locationName = ReactPropTypeLocationNames[location];\n    return new PropTypeError('Invalid ' + locationName + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createNodeChecker() {\n  function validate(props, propName, componentName, location, propFullName) {\n    if (!isNode(props[propName])) {\n      var locationName = ReactPropTypeLocationNames[location];\n      return new PropTypeError('Invalid ' + locationName + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n    }\n    return null;\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createShapeTypeChecker(shapeTypes) {\n  function validate(props, propName, componentName, location, propFullName) {\n    var propValue = props[propName];\n    var propType = getPropType(propValue);\n    if (propType !== 'object') {\n      var locationName = ReactPropTypeLocationNames[location];\n      return new PropTypeError('Invalid ' + locationName + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n    }\n    for (var key in shapeTypes) {\n      var checker = shapeTypes[key];\n      if (!checker) {\n        continue;\n      }\n      var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n      if (error) {\n        return error;\n      }\n    }\n    return null;\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction isNode(propValue) {\n  switch (typeof propValue) {\n    case 'number':\n    case 'string':\n    case 'undefined':\n      return true;\n    case 'boolean':\n      return !propValue;\n    case 'object':\n      if (Array.isArray(propValue)) {\n        return propValue.every(isNode);\n      }\n      if (propValue === null || ReactElement.isValidElement(propValue)) {\n        return true;\n      }\n\n      var iteratorFn = getIteratorFn(propValue);\n      if (iteratorFn) {\n        var iterator = iteratorFn.call(propValue);\n        var step;\n        if (iteratorFn !== propValue.entries) {\n          while (!(step = iterator.next()).done) {\n            if (!isNode(step.value)) {\n              return false;\n            }\n          }\n        } else {\n          // Iterator will provide entry [k,v] tuples rather than values.\n          while (!(step = iterator.next()).done) {\n            var entry = step.value;\n            if (entry) {\n              if (!isNode(entry[1])) {\n                return false;\n              }\n            }\n          }\n        }\n      } else {\n        return false;\n      }\n\n      return true;\n    default:\n      return false;\n  }\n}\n\nfunction isSymbol(propType, propValue) {\n  // Native Symbol.\n  if (propType === 'symbol') {\n    return true;\n  }\n\n  // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n  if (propValue['@@toStringTag'] === 'Symbol') {\n    return true;\n  }\n\n  // Fallback for non-spec compliant Symbols which are polyfilled.\n  if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n    return true;\n  }\n\n  return false;\n}\n\n// Equivalent of `typeof` but with special handling for array and regexp.\nfunction getPropType(propValue) {\n  var propType = typeof propValue;\n  if (Array.isArray(propValue)) {\n    return 'array';\n  }\n  if (propValue instanceof RegExp) {\n    // Old webkits (at least until Android 4.0) return 'function' rather than\n    // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n    // passes PropTypes.object.\n    return 'object';\n  }\n  if (isSymbol(propType, propValue)) {\n    return 'symbol';\n  }\n  return propType;\n}\n\n// This handles more types than `getPropType`. Only used for error messages.\n// See `createPrimitiveTypeChecker`.\nfunction getPreciseType(propValue) {\n  var propType = getPropType(propValue);\n  if (propType === 'object') {\n    if (propValue instanceof Date) {\n      return 'date';\n    } else if (propValue instanceof RegExp) {\n      return 'regexp';\n    }\n  }\n  return propType;\n}\n\n// Returns class name of the object, if any.\nfunction getClassName(propValue) {\n  if (!propValue.constructor || !propValue.constructor.name) {\n    return ANONYMOUS;\n  }\n  return propValue.constructor.name;\n}\n\nmodule.exports = ReactPropTypes;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/ReactPropTypes.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nmodule.exports = '15.4.2';\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/ReactVersion.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar ReactElement = require('./ReactElement');\n\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * Returns the first child in a collection of children and verifies that there\n * is only one child in the collection.\n *\n * See https://facebook.github.io/react/docs/top-level-api.html#react.children.only\n *\n * The current implementation of this function assumes that a single child gets\n * passed without a wrapper, but the purpose of this helper function is to\n * abstract away the particular structure of children.\n *\n * @param {?object} children Child collection structure.\n * @return {ReactElement} The first and only `ReactElement` contained in the\n * structure.\n */\nfunction onlyChild(children) {\n  !ReactElement.isValidElement(children) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'React.Children.only expected to receive a single React element child.') : _prodInvariant('143') : void 0;\n  return children;\n}\n\nmodule.exports = onlyChild;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/onlyChild.js","'use strict';\n\nmodule.exports = require('./lib/ReactDOM');\n\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/index.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n/* globals __REACT_DEVTOOLS_GLOBAL_HOOK__*/\n\n'use strict';\n\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\nvar ReactDefaultInjection = require('./ReactDefaultInjection');\nvar ReactMount = require('./ReactMount');\nvar ReactReconciler = require('./ReactReconciler');\nvar ReactUpdates = require('./ReactUpdates');\nvar ReactVersion = require('./ReactVersion');\n\nvar findDOMNode = require('./findDOMNode');\nvar getHostComponentFromComposite = require('./getHostComponentFromComposite');\nvar renderSubtreeIntoContainer = require('./renderSubtreeIntoContainer');\nvar warning = require('fbjs/lib/warning');\n\nReactDefaultInjection.inject();\n\nvar ReactDOM = {\n  findDOMNode: findDOMNode,\n  render: ReactMount.render,\n  unmountComponentAtNode: ReactMount.unmountComponentAtNode,\n  version: ReactVersion,\n\n  /* eslint-disable camelcase */\n  unstable_batchedUpdates: ReactUpdates.batchedUpdates,\n  unstable_renderSubtreeIntoContainer: renderSubtreeIntoContainer\n};\n\n// Inject the runtime into a devtools global hook regardless of browser.\n// Allows for debugging when the hook is injected on the page.\nif (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' && typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject === 'function') {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.inject({\n    ComponentTree: {\n      getClosestInstanceFromNode: ReactDOMComponentTree.getClosestInstanceFromNode,\n      getNodeFromInstance: function (inst) {\n        // inst is an internal instance (but could be a composite)\n        if (inst._renderedComponent) {\n          inst = getHostComponentFromComposite(inst);\n        }\n        if (inst) {\n          return ReactDOMComponentTree.getNodeFromInstance(inst);\n        } else {\n          return null;\n        }\n      }\n    },\n    Mount: ReactMount,\n    Reconciler: ReactReconciler\n  });\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  var ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment');\n  if (ExecutionEnvironment.canUseDOM && window.top === window.self) {\n\n    // First check if devtools is not installed\n    if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined') {\n      // If we're in Chrome or Firefox, provide a download link if not installed.\n      if (navigator.userAgent.indexOf('Chrome') > -1 && navigator.userAgent.indexOf('Edge') === -1 || navigator.userAgent.indexOf('Firefox') > -1) {\n        // Firefox does not have the issue with devtools loaded over file://\n        var showFileUrlMessage = window.location.protocol.indexOf('http') === -1 && navigator.userAgent.indexOf('Firefox') === -1;\n        console.debug('Download the React DevTools ' + (showFileUrlMessage ? 'and use an HTTP server (instead of a file: URL) ' : '') + 'for a better development experience: ' + 'https://fb.me/react-devtools');\n      }\n    }\n\n    var testFunc = function testFn() {};\n    process.env.NODE_ENV !== 'production' ? warning((testFunc.name || testFunc.toString()).indexOf('testFn') !== -1, 'It looks like you\\'re using a minified copy of the development build ' + 'of React. When deploying React apps to production, make sure to use ' + 'the production build which skips development warnings and is faster. ' + 'See https://fb.me/react-minification for more details.') : void 0;\n\n    // If we're in IE8, check to see if we are in compatibility mode and provide\n    // information on preventing compatibility mode\n    var ieCompatibilityMode = document.documentMode && document.documentMode < 8;\n\n    process.env.NODE_ENV !== 'production' ? warning(!ieCompatibilityMode, 'Internet Explorer is running in compatibility mode; please add the ' + 'following tag to your HTML to prevent this from happening: ' + '<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />') : void 0;\n\n    var expectedFeatures = [\n    // shims\n    Array.isArray, Array.prototype.every, Array.prototype.forEach, Array.prototype.indexOf, Array.prototype.map, Date.now, Function.prototype.bind, Object.keys, String.prototype.trim];\n\n    for (var i = 0; i < expectedFeatures.length; i++) {\n      if (!expectedFeatures[i]) {\n        process.env.NODE_ENV !== 'production' ? warning(false, 'One or more ES5 shims expected by React are not available: ' + 'https://fb.me/react-warning-polyfills') : void 0;\n        break;\n      }\n    }\n  }\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactInstrumentation = require('./ReactInstrumentation');\n  var ReactDOMUnknownPropertyHook = require('./ReactDOMUnknownPropertyHook');\n  var ReactDOMNullInputValuePropHook = require('./ReactDOMNullInputValuePropHook');\n  var ReactDOMInvalidARIAHook = require('./ReactDOMInvalidARIAHook');\n\n  ReactInstrumentation.debugTool.addHook(ReactDOMUnknownPropertyHook);\n  ReactInstrumentation.debugTool.addHook(ReactDOMNullInputValuePropHook);\n  ReactInstrumentation.debugTool.addHook(ReactDOMInvalidARIAHook);\n}\n\nmodule.exports = ReactDOM;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactDOM.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar DOMProperty = require('./DOMProperty');\nvar ReactDOMComponentFlags = require('./ReactDOMComponentFlags');\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar ATTR_NAME = DOMProperty.ID_ATTRIBUTE_NAME;\nvar Flags = ReactDOMComponentFlags;\n\nvar internalInstanceKey = '__reactInternalInstance$' + Math.random().toString(36).slice(2);\n\n/**\n * Check if a given node should be cached.\n */\nfunction shouldPrecacheNode(node, nodeID) {\n  return node.nodeType === 1 && node.getAttribute(ATTR_NAME) === String(nodeID) || node.nodeType === 8 && node.nodeValue === ' react-text: ' + nodeID + ' ' || node.nodeType === 8 && node.nodeValue === ' react-empty: ' + nodeID + ' ';\n}\n\n/**\n * Drill down (through composites and empty components) until we get a host or\n * host text component.\n *\n * This is pretty polymorphic but unavoidable with the current structure we have\n * for `_renderedChildren`.\n */\nfunction getRenderedHostOrTextFromComponent(component) {\n  var rendered;\n  while (rendered = component._renderedComponent) {\n    component = rendered;\n  }\n  return component;\n}\n\n/**\n * Populate `_hostNode` on the rendered host/text component with the given\n * DOM node. The passed `inst` can be a composite.\n */\nfunction precacheNode(inst, node) {\n  var hostInst = getRenderedHostOrTextFromComponent(inst);\n  hostInst._hostNode = node;\n  node[internalInstanceKey] = hostInst;\n}\n\nfunction uncacheNode(inst) {\n  var node = inst._hostNode;\n  if (node) {\n    delete node[internalInstanceKey];\n    inst._hostNode = null;\n  }\n}\n\n/**\n * Populate `_hostNode` on each child of `inst`, assuming that the children\n * match up with the DOM (element) children of `node`.\n *\n * We cache entire levels at once to avoid an n^2 problem where we access the\n * children of a node sequentially and have to walk from the start to our target\n * node every time.\n *\n * Since we update `_renderedChildren` and the actual DOM at (slightly)\n * different times, we could race here and see a newer `_renderedChildren` than\n * the DOM nodes we see. To avoid this, ReactMultiChild calls\n * `prepareToManageChildren` before we change `_renderedChildren`, at which\n * time the container's child nodes are always cached (until it unmounts).\n */\nfunction precacheChildNodes(inst, node) {\n  if (inst._flags & Flags.hasCachedChildNodes) {\n    return;\n  }\n  var children = inst._renderedChildren;\n  var childNode = node.firstChild;\n  outer: for (var name in children) {\n    if (!children.hasOwnProperty(name)) {\n      continue;\n    }\n    var childInst = children[name];\n    var childID = getRenderedHostOrTextFromComponent(childInst)._domID;\n    if (childID === 0) {\n      // We're currently unmounting this child in ReactMultiChild; skip it.\n      continue;\n    }\n    // We assume the child nodes are in the same order as the child instances.\n    for (; childNode !== null; childNode = childNode.nextSibling) {\n      if (shouldPrecacheNode(childNode, childID)) {\n        precacheNode(childInst, childNode);\n        continue outer;\n      }\n    }\n    // We reached the end of the DOM children without finding an ID match.\n    !false ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Unable to find element with ID %s.', childID) : _prodInvariant('32', childID) : void 0;\n  }\n  inst._flags |= Flags.hasCachedChildNodes;\n}\n\n/**\n * Given a DOM node, return the closest ReactDOMComponent or\n * ReactDOMTextComponent instance ancestor.\n */\nfunction getClosestInstanceFromNode(node) {\n  if (node[internalInstanceKey]) {\n    return node[internalInstanceKey];\n  }\n\n  // Walk up the tree until we find an ancestor whose instance we have cached.\n  var parents = [];\n  while (!node[internalInstanceKey]) {\n    parents.push(node);\n    if (node.parentNode) {\n      node = node.parentNode;\n    } else {\n      // Top of the tree. This node must not be part of a React tree (or is\n      // unmounted, potentially).\n      return null;\n    }\n  }\n\n  var closest;\n  var inst;\n  for (; node && (inst = node[internalInstanceKey]); node = parents.pop()) {\n    closest = inst;\n    if (parents.length) {\n      precacheChildNodes(inst, node);\n    }\n  }\n\n  return closest;\n}\n\n/**\n * Given a DOM node, return the ReactDOMComponent or ReactDOMTextComponent\n * instance, or null if the node was not rendered by this React.\n */\nfunction getInstanceFromNode(node) {\n  var inst = getClosestInstanceFromNode(node);\n  if (inst != null && inst._hostNode === node) {\n    return inst;\n  } else {\n    return null;\n  }\n}\n\n/**\n * Given a ReactDOMComponent or ReactDOMTextComponent, return the corresponding\n * DOM node.\n */\nfunction getNodeFromInstance(inst) {\n  // Without this first invariant, passing a non-DOM-component triggers the next\n  // invariant for a missing parent, which is super confusing.\n  !(inst._hostNode !== undefined) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'getNodeFromInstance: Invalid argument.') : _prodInvariant('33') : void 0;\n\n  if (inst._hostNode) {\n    return inst._hostNode;\n  }\n\n  // Walk up the tree until we find an ancestor whose DOM node we have cached.\n  var parents = [];\n  while (!inst._hostNode) {\n    parents.push(inst);\n    !inst._hostParent ? process.env.NODE_ENV !== 'production' ? invariant(false, 'React DOM tree root should always have a node reference.') : _prodInvariant('34') : void 0;\n    inst = inst._hostParent;\n  }\n\n  // Now parents contains each ancestor that does *not* have a cached native\n  // node, and `inst` is the deepest ancestor that does.\n  for (; parents.length; inst = parents.pop()) {\n    precacheChildNodes(inst, inst._hostNode);\n  }\n\n  return inst._hostNode;\n}\n\nvar ReactDOMComponentTree = {\n  getClosestInstanceFromNode: getClosestInstanceFromNode,\n  getInstanceFromNode: getInstanceFromNode,\n  getNodeFromInstance: getNodeFromInstance,\n  precacheChildNodes: precacheChildNodes,\n  precacheNode: precacheNode,\n  uncacheNode: uncacheNode\n};\n\nmodule.exports = ReactDOMComponentTree;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactDOMComponentTree.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n'use strict';\n\n/**\n * WARNING: DO NOT manually require this module.\n * This is a replacement for `invariant(...)` used by the error code system\n * and will _only_ be required by the corresponding babel pass.\n * It always throws.\n */\n\nfunction reactProdInvariant(code) {\n  var argCount = arguments.length - 1;\n\n  var message = 'Minified React error #' + code + '; visit ' + 'http://facebook.github.io/react/docs/error-decoder.html?invariant=' + code;\n\n  for (var argIdx = 0; argIdx < argCount; argIdx++) {\n    message += '&args[]=' + encodeURIComponent(arguments[argIdx + 1]);\n  }\n\n  message += ' for the full message or use the non-minified dev environment' + ' for full errors and additional helpful warnings.';\n\n  var error = new Error(message);\n  error.name = 'Invariant Violation';\n  error.framesToPop = 1; // we don't care about reactProdInvariant's own frame\n\n  throw error;\n}\n\nmodule.exports = reactProdInvariant;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/reactProdInvariant.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar invariant = require('fbjs/lib/invariant');\n\nfunction checkMask(value, bitmask) {\n  return (value & bitmask) === bitmask;\n}\n\nvar DOMPropertyInjection = {\n  /**\n   * Mapping from normalized, camelcased property names to a configuration that\n   * specifies how the associated DOM property should be accessed or rendered.\n   */\n  MUST_USE_PROPERTY: 0x1,\n  HAS_BOOLEAN_VALUE: 0x4,\n  HAS_NUMERIC_VALUE: 0x8,\n  HAS_POSITIVE_NUMERIC_VALUE: 0x10 | 0x8,\n  HAS_OVERLOADED_BOOLEAN_VALUE: 0x20,\n\n  /**\n   * Inject some specialized knowledge about the DOM. This takes a config object\n   * with the following properties:\n   *\n   * isCustomAttribute: function that given an attribute name will return true\n   * if it can be inserted into the DOM verbatim. Useful for data-* or aria-*\n   * attributes where it's impossible to enumerate all of the possible\n   * attribute names,\n   *\n   * Properties: object mapping DOM property name to one of the\n   * DOMPropertyInjection constants or null. If your attribute isn't in here,\n   * it won't get written to the DOM.\n   *\n   * DOMAttributeNames: object mapping React attribute name to the DOM\n   * attribute name. Attribute names not specified use the **lowercase**\n   * normalized name.\n   *\n   * DOMAttributeNamespaces: object mapping React attribute name to the DOM\n   * attribute namespace URL. (Attribute names not specified use no namespace.)\n   *\n   * DOMPropertyNames: similar to DOMAttributeNames but for DOM properties.\n   * Property names not specified use the normalized name.\n   *\n   * DOMMutationMethods: Properties that require special mutation methods. If\n   * `value` is undefined, the mutation method should unset the property.\n   *\n   * @param {object} domPropertyConfig the config as described above.\n   */\n  injectDOMPropertyConfig: function (domPropertyConfig) {\n    var Injection = DOMPropertyInjection;\n    var Properties = domPropertyConfig.Properties || {};\n    var DOMAttributeNamespaces = domPropertyConfig.DOMAttributeNamespaces || {};\n    var DOMAttributeNames = domPropertyConfig.DOMAttributeNames || {};\n    var DOMPropertyNames = domPropertyConfig.DOMPropertyNames || {};\n    var DOMMutationMethods = domPropertyConfig.DOMMutationMethods || {};\n\n    if (domPropertyConfig.isCustomAttribute) {\n      DOMProperty._isCustomAttributeFunctions.push(domPropertyConfig.isCustomAttribute);\n    }\n\n    for (var propName in Properties) {\n      !!DOMProperty.properties.hasOwnProperty(propName) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'injectDOMPropertyConfig(...): You\\'re trying to inject DOM property \\'%s\\' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.', propName) : _prodInvariant('48', propName) : void 0;\n\n      var lowerCased = propName.toLowerCase();\n      var propConfig = Properties[propName];\n\n      var propertyInfo = {\n        attributeName: lowerCased,\n        attributeNamespace: null,\n        propertyName: propName,\n        mutationMethod: null,\n\n        mustUseProperty: checkMask(propConfig, Injection.MUST_USE_PROPERTY),\n        hasBooleanValue: checkMask(propConfig, Injection.HAS_BOOLEAN_VALUE),\n        hasNumericValue: checkMask(propConfig, Injection.HAS_NUMERIC_VALUE),\n        hasPositiveNumericValue: checkMask(propConfig, Injection.HAS_POSITIVE_NUMERIC_VALUE),\n        hasOverloadedBooleanValue: checkMask(propConfig, Injection.HAS_OVERLOADED_BOOLEAN_VALUE)\n      };\n      !(propertyInfo.hasBooleanValue + propertyInfo.hasNumericValue + propertyInfo.hasOverloadedBooleanValue <= 1) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s', propName) : _prodInvariant('50', propName) : void 0;\n\n      if (process.env.NODE_ENV !== 'production') {\n        DOMProperty.getPossibleStandardName[lowerCased] = propName;\n      }\n\n      if (DOMAttributeNames.hasOwnProperty(propName)) {\n        var attributeName = DOMAttributeNames[propName];\n        propertyInfo.attributeName = attributeName;\n        if (process.env.NODE_ENV !== 'production') {\n          DOMProperty.getPossibleStandardName[attributeName] = propName;\n        }\n      }\n\n      if (DOMAttributeNamespaces.hasOwnProperty(propName)) {\n        propertyInfo.attributeNamespace = DOMAttributeNamespaces[propName];\n      }\n\n      if (DOMPropertyNames.hasOwnProperty(propName)) {\n        propertyInfo.propertyName = DOMPropertyNames[propName];\n      }\n\n      if (DOMMutationMethods.hasOwnProperty(propName)) {\n        propertyInfo.mutationMethod = DOMMutationMethods[propName];\n      }\n\n      DOMProperty.properties[propName] = propertyInfo;\n    }\n  }\n};\n\n/* eslint-disable max-len */\nvar ATTRIBUTE_NAME_START_CHAR = ':A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD';\n/* eslint-enable max-len */\n\n/**\n * DOMProperty exports lookup objects that can be used like functions:\n *\n *   > DOMProperty.isValid['id']\n *   true\n *   > DOMProperty.isValid['foobar']\n *   undefined\n *\n * Although this may be confusing, it performs better in general.\n *\n * @see http://jsperf.com/key-exists\n * @see http://jsperf.com/key-missing\n */\nvar DOMProperty = {\n\n  ID_ATTRIBUTE_NAME: 'data-reactid',\n  ROOT_ATTRIBUTE_NAME: 'data-reactroot',\n\n  ATTRIBUTE_NAME_START_CHAR: ATTRIBUTE_NAME_START_CHAR,\n  ATTRIBUTE_NAME_CHAR: ATTRIBUTE_NAME_START_CHAR + '\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040',\n\n  /**\n   * Map from property \"standard name\" to an object with info about how to set\n   * the property in the DOM. Each object contains:\n   *\n   * attributeName:\n   *   Used when rendering markup or with `*Attribute()`.\n   * attributeNamespace\n   * propertyName:\n   *   Used on DOM node instances. (This includes properties that mutate due to\n   *   external factors.)\n   * mutationMethod:\n   *   If non-null, used instead of the property or `setAttribute()` after\n   *   initial render.\n   * mustUseProperty:\n   *   Whether the property must be accessed and mutated as an object property.\n   * hasBooleanValue:\n   *   Whether the property should be removed when set to a falsey value.\n   * hasNumericValue:\n   *   Whether the property must be numeric or parse as a numeric and should be\n   *   removed when set to a falsey value.\n   * hasPositiveNumericValue:\n   *   Whether the property must be positive numeric or parse as a positive\n   *   numeric and should be removed when set to a falsey value.\n   * hasOverloadedBooleanValue:\n   *   Whether the property can be used as a flag as well as with a value.\n   *   Removed when strictly equal to false; present without a value when\n   *   strictly equal to true; present with a value otherwise.\n   */\n  properties: {},\n\n  /**\n   * Mapping from lowercase property names to the properly cased version, used\n   * to warn in the case of missing properties. Available only in __DEV__.\n   *\n   * autofocus is predefined, because adding it to the property whitelist\n   * causes unintended side effects.\n   *\n   * @type {Object}\n   */\n  getPossibleStandardName: process.env.NODE_ENV !== 'production' ? { autofocus: 'autoFocus' } : null,\n\n  /**\n   * All of the isCustomAttribute() functions that have been injected.\n   */\n  _isCustomAttributeFunctions: [],\n\n  /**\n   * Checks whether a property name is a custom attribute.\n   * @method\n   */\n  isCustomAttribute: function (attributeName) {\n    for (var i = 0; i < DOMProperty._isCustomAttributeFunctions.length; i++) {\n      var isCustomAttributeFn = DOMProperty._isCustomAttributeFunctions[i];\n      if (isCustomAttributeFn(attributeName)) {\n        return true;\n      }\n    }\n    return false;\n  },\n\n  injection: DOMPropertyInjection\n};\n\nmodule.exports = DOMProperty;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/DOMProperty.js","/**\n * Copyright 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar ReactDOMComponentFlags = {\n  hasCachedChildNodes: 1 << 0\n};\n\nmodule.exports = ReactDOMComponentFlags;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactDOMComponentFlags.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar ARIADOMPropertyConfig = require('./ARIADOMPropertyConfig');\nvar BeforeInputEventPlugin = require('./BeforeInputEventPlugin');\nvar ChangeEventPlugin = require('./ChangeEventPlugin');\nvar DefaultEventPluginOrder = require('./DefaultEventPluginOrder');\nvar EnterLeaveEventPlugin = require('./EnterLeaveEventPlugin');\nvar HTMLDOMPropertyConfig = require('./HTMLDOMPropertyConfig');\nvar ReactComponentBrowserEnvironment = require('./ReactComponentBrowserEnvironment');\nvar ReactDOMComponent = require('./ReactDOMComponent');\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\nvar ReactDOMEmptyComponent = require('./ReactDOMEmptyComponent');\nvar ReactDOMTreeTraversal = require('./ReactDOMTreeTraversal');\nvar ReactDOMTextComponent = require('./ReactDOMTextComponent');\nvar ReactDefaultBatchingStrategy = require('./ReactDefaultBatchingStrategy');\nvar ReactEventListener = require('./ReactEventListener');\nvar ReactInjection = require('./ReactInjection');\nvar ReactReconcileTransaction = require('./ReactReconcileTransaction');\nvar SVGDOMPropertyConfig = require('./SVGDOMPropertyConfig');\nvar SelectEventPlugin = require('./SelectEventPlugin');\nvar SimpleEventPlugin = require('./SimpleEventPlugin');\n\nvar alreadyInjected = false;\n\nfunction inject() {\n  if (alreadyInjected) {\n    // TODO: This is currently true because these injections are shared between\n    // the client and the server package. They should be built independently\n    // and not share any injection state. Then this problem will be solved.\n    return;\n  }\n  alreadyInjected = true;\n\n  ReactInjection.EventEmitter.injectReactEventListener(ReactEventListener);\n\n  /**\n   * Inject modules for resolving DOM hierarchy and plugin ordering.\n   */\n  ReactInjection.EventPluginHub.injectEventPluginOrder(DefaultEventPluginOrder);\n  ReactInjection.EventPluginUtils.injectComponentTree(ReactDOMComponentTree);\n  ReactInjection.EventPluginUtils.injectTreeTraversal(ReactDOMTreeTraversal);\n\n  /**\n   * Some important event plugins included by default (without having to require\n   * them).\n   */\n  ReactInjection.EventPluginHub.injectEventPluginsByName({\n    SimpleEventPlugin: SimpleEventPlugin,\n    EnterLeaveEventPlugin: EnterLeaveEventPlugin,\n    ChangeEventPlugin: ChangeEventPlugin,\n    SelectEventPlugin: SelectEventPlugin,\n    BeforeInputEventPlugin: BeforeInputEventPlugin\n  });\n\n  ReactInjection.HostComponent.injectGenericComponentClass(ReactDOMComponent);\n\n  ReactInjection.HostComponent.injectTextComponentClass(ReactDOMTextComponent);\n\n  ReactInjection.DOMProperty.injectDOMPropertyConfig(ARIADOMPropertyConfig);\n  ReactInjection.DOMProperty.injectDOMPropertyConfig(HTMLDOMPropertyConfig);\n  ReactInjection.DOMProperty.injectDOMPropertyConfig(SVGDOMPropertyConfig);\n\n  ReactInjection.EmptyComponent.injectEmptyComponentFactory(function (instantiate) {\n    return new ReactDOMEmptyComponent(instantiate);\n  });\n\n  ReactInjection.Updates.injectReconcileTransaction(ReactReconcileTransaction);\n  ReactInjection.Updates.injectBatchingStrategy(ReactDefaultBatchingStrategy);\n\n  ReactInjection.Component.injectEnvironment(ReactComponentBrowserEnvironment);\n}\n\nmodule.exports = {\n  inject: inject\n};\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactDefaultInjection.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar ARIADOMPropertyConfig = {\n  Properties: {\n    // Global States and Properties\n    'aria-current': 0, // state\n    'aria-details': 0,\n    'aria-disabled': 0, // state\n    'aria-hidden': 0, // state\n    'aria-invalid': 0, // state\n    'aria-keyshortcuts': 0,\n    'aria-label': 0,\n    'aria-roledescription': 0,\n    // Widget Attributes\n    'aria-autocomplete': 0,\n    'aria-checked': 0,\n    'aria-expanded': 0,\n    'aria-haspopup': 0,\n    'aria-level': 0,\n    'aria-modal': 0,\n    'aria-multiline': 0,\n    'aria-multiselectable': 0,\n    'aria-orientation': 0,\n    'aria-placeholder': 0,\n    'aria-pressed': 0,\n    'aria-readonly': 0,\n    'aria-required': 0,\n    'aria-selected': 0,\n    'aria-sort': 0,\n    'aria-valuemax': 0,\n    'aria-valuemin': 0,\n    'aria-valuenow': 0,\n    'aria-valuetext': 0,\n    // Live Region Attributes\n    'aria-atomic': 0,\n    'aria-busy': 0,\n    'aria-live': 0,\n    'aria-relevant': 0,\n    // Drag-and-Drop Attributes\n    'aria-dropeffect': 0,\n    'aria-grabbed': 0,\n    // Relationship Attributes\n    'aria-activedescendant': 0,\n    'aria-colcount': 0,\n    'aria-colindex': 0,\n    'aria-colspan': 0,\n    'aria-controls': 0,\n    'aria-describedby': 0,\n    'aria-errormessage': 0,\n    'aria-flowto': 0,\n    'aria-labelledby': 0,\n    'aria-owns': 0,\n    'aria-posinset': 0,\n    'aria-rowcount': 0,\n    'aria-rowindex': 0,\n    'aria-rowspan': 0,\n    'aria-setsize': 0\n  },\n  DOMAttributeNames: {},\n  DOMPropertyNames: {}\n};\n\nmodule.exports = ARIADOMPropertyConfig;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ARIADOMPropertyConfig.js","/**\n * Copyright 2013-present Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar EventPropagators = require('./EventPropagators');\nvar ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment');\nvar FallbackCompositionState = require('./FallbackCompositionState');\nvar SyntheticCompositionEvent = require('./SyntheticCompositionEvent');\nvar SyntheticInputEvent = require('./SyntheticInputEvent');\n\nvar END_KEYCODES = [9, 13, 27, 32]; // Tab, Return, Esc, Space\nvar START_KEYCODE = 229;\n\nvar canUseCompositionEvent = ExecutionEnvironment.canUseDOM && 'CompositionEvent' in window;\n\nvar documentMode = null;\nif (ExecutionEnvironment.canUseDOM && 'documentMode' in document) {\n  documentMode = document.documentMode;\n}\n\n// Webkit offers a very useful `textInput` event that can be used to\n// directly represent `beforeInput`. The IE `textinput` event is not as\n// useful, so we don't use it.\nvar canUseTextInputEvent = ExecutionEnvironment.canUseDOM && 'TextEvent' in window && !documentMode && !isPresto();\n\n// In IE9+, we have access to composition events, but the data supplied\n// by the native compositionend event may be incorrect. Japanese ideographic\n// spaces, for instance (\\u3000) are not recorded correctly.\nvar useFallbackCompositionData = ExecutionEnvironment.canUseDOM && (!canUseCompositionEvent || documentMode && documentMode > 8 && documentMode <= 11);\n\n/**\n * Opera <= 12 includes TextEvent in window, but does not fire\n * text input events. Rely on keypress instead.\n */\nfunction isPresto() {\n  var opera = window.opera;\n  return typeof opera === 'object' && typeof opera.version === 'function' && parseInt(opera.version(), 10) <= 12;\n}\n\nvar SPACEBAR_CODE = 32;\nvar SPACEBAR_CHAR = String.fromCharCode(SPACEBAR_CODE);\n\n// Events and their corresponding property names.\nvar eventTypes = {\n  beforeInput: {\n    phasedRegistrationNames: {\n      bubbled: 'onBeforeInput',\n      captured: 'onBeforeInputCapture'\n    },\n    dependencies: ['topCompositionEnd', 'topKeyPress', 'topTextInput', 'topPaste']\n  },\n  compositionEnd: {\n    phasedRegistrationNames: {\n      bubbled: 'onCompositionEnd',\n      captured: 'onCompositionEndCapture'\n    },\n    dependencies: ['topBlur', 'topCompositionEnd', 'topKeyDown', 'topKeyPress', 'topKeyUp', 'topMouseDown']\n  },\n  compositionStart: {\n    phasedRegistrationNames: {\n      bubbled: 'onCompositionStart',\n      captured: 'onCompositionStartCapture'\n    },\n    dependencies: ['topBlur', 'topCompositionStart', 'topKeyDown', 'topKeyPress', 'topKeyUp', 'topMouseDown']\n  },\n  compositionUpdate: {\n    phasedRegistrationNames: {\n      bubbled: 'onCompositionUpdate',\n      captured: 'onCompositionUpdateCapture'\n    },\n    dependencies: ['topBlur', 'topCompositionUpdate', 'topKeyDown', 'topKeyPress', 'topKeyUp', 'topMouseDown']\n  }\n};\n\n// Track whether we've ever handled a keypress on the space key.\nvar hasSpaceKeypress = false;\n\n/**\n * Return whether a native keypress event is assumed to be a command.\n * This is required because Firefox fires `keypress` events for key commands\n * (cut, copy, select-all, etc.) even though no character is inserted.\n */\nfunction isKeypressCommand(nativeEvent) {\n  return (nativeEvent.ctrlKey || nativeEvent.altKey || nativeEvent.metaKey) &&\n  // ctrlKey && altKey is equivalent to AltGr, and is not a command.\n  !(nativeEvent.ctrlKey && nativeEvent.altKey);\n}\n\n/**\n * Translate native top level events into event types.\n *\n * @param {string} topLevelType\n * @return {object}\n */\nfunction getCompositionEventType(topLevelType) {\n  switch (topLevelType) {\n    case 'topCompositionStart':\n      return eventTypes.compositionStart;\n    case 'topCompositionEnd':\n      return eventTypes.compositionEnd;\n    case 'topCompositionUpdate':\n      return eventTypes.compositionUpdate;\n  }\n}\n\n/**\n * Does our fallback best-guess model think this event signifies that\n * composition has begun?\n *\n * @param {string} topLevelType\n * @param {object} nativeEvent\n * @return {boolean}\n */\nfunction isFallbackCompositionStart(topLevelType, nativeEvent) {\n  return topLevelType === 'topKeyDown' && nativeEvent.keyCode === START_KEYCODE;\n}\n\n/**\n * Does our fallback mode think that this event is the end of composition?\n *\n * @param {string} topLevelType\n * @param {object} nativeEvent\n * @return {boolean}\n */\nfunction isFallbackCompositionEnd(topLevelType, nativeEvent) {\n  switch (topLevelType) {\n    case 'topKeyUp':\n      // Command keys insert or clear IME input.\n      return END_KEYCODES.indexOf(nativeEvent.keyCode) !== -1;\n    case 'topKeyDown':\n      // Expect IME keyCode on each keydown. If we get any other\n      // code we must have exited earlier.\n      return nativeEvent.keyCode !== START_KEYCODE;\n    case 'topKeyPress':\n    case 'topMouseDown':\n    case 'topBlur':\n      // Events are not possible without cancelling IME.\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Google Input Tools provides composition data via a CustomEvent,\n * with the `data` property populated in the `detail` object. If this\n * is available on the event object, use it. If not, this is a plain\n * composition event and we have nothing special to extract.\n *\n * @param {object} nativeEvent\n * @return {?string}\n */\nfunction getDataFromCustomEvent(nativeEvent) {\n  var detail = nativeEvent.detail;\n  if (typeof detail === 'object' && 'data' in detail) {\n    return detail.data;\n  }\n  return null;\n}\n\n// Track the current IME composition fallback object, if any.\nvar currentComposition = null;\n\n/**\n * @return {?object} A SyntheticCompositionEvent.\n */\nfunction extractCompositionEvent(topLevelType, targetInst, nativeEvent, nativeEventTarget) {\n  var eventType;\n  var fallbackData;\n\n  if (canUseCompositionEvent) {\n    eventType = getCompositionEventType(topLevelType);\n  } else if (!currentComposition) {\n    if (isFallbackCompositionStart(topLevelType, nativeEvent)) {\n      eventType = eventTypes.compositionStart;\n    }\n  } else if (isFallbackCompositionEnd(topLevelType, nativeEvent)) {\n    eventType = eventTypes.compositionEnd;\n  }\n\n  if (!eventType) {\n    return null;\n  }\n\n  if (useFallbackCompositionData) {\n    // The current composition is stored statically and must not be\n    // overwritten while composition continues.\n    if (!currentComposition && eventType === eventTypes.compositionStart) {\n      currentComposition = FallbackCompositionState.getPooled(nativeEventTarget);\n    } else if (eventType === eventTypes.compositionEnd) {\n      if (currentComposition) {\n        fallbackData = currentComposition.getData();\n      }\n    }\n  }\n\n  var event = SyntheticCompositionEvent.getPooled(eventType, targetInst, nativeEvent, nativeEventTarget);\n\n  if (fallbackData) {\n    // Inject data generated from fallback path into the synthetic event.\n    // This matches the property of native CompositionEventInterface.\n    event.data = fallbackData;\n  } else {\n    var customData = getDataFromCustomEvent(nativeEvent);\n    if (customData !== null) {\n      event.data = customData;\n    }\n  }\n\n  EventPropagators.accumulateTwoPhaseDispatches(event);\n  return event;\n}\n\n/**\n * @param {string} topLevelType Record from `EventConstants`.\n * @param {object} nativeEvent Native browser event.\n * @return {?string} The string corresponding to this `beforeInput` event.\n */\nfunction getNativeBeforeInputChars(topLevelType, nativeEvent) {\n  switch (topLevelType) {\n    case 'topCompositionEnd':\n      return getDataFromCustomEvent(nativeEvent);\n    case 'topKeyPress':\n      /**\n       * If native `textInput` events are available, our goal is to make\n       * use of them. However, there is a special case: the spacebar key.\n       * In Webkit, preventing default on a spacebar `textInput` event\n       * cancels character insertion, but it *also* causes the browser\n       * to fall back to its default spacebar behavior of scrolling the\n       * page.\n       *\n       * Tracking at:\n       * https://code.google.com/p/chromium/issues/detail?id=355103\n       *\n       * To avoid this issue, use the keypress event as if no `textInput`\n       * event is available.\n       */\n      var which = nativeEvent.which;\n      if (which !== SPACEBAR_CODE) {\n        return null;\n      }\n\n      hasSpaceKeypress = true;\n      return SPACEBAR_CHAR;\n\n    case 'topTextInput':\n      // Record the characters to be added to the DOM.\n      var chars = nativeEvent.data;\n\n      // If it's a spacebar character, assume that we have already handled\n      // it at the keypress level and bail immediately. Android Chrome\n      // doesn't give us keycodes, so we need to blacklist it.\n      if (chars === SPACEBAR_CHAR && hasSpaceKeypress) {\n        return null;\n      }\n\n      return chars;\n\n    default:\n      // For other native event types, do nothing.\n      return null;\n  }\n}\n\n/**\n * For browsers that do not provide the `textInput` event, extract the\n * appropriate string to use for SyntheticInputEvent.\n *\n * @param {string} topLevelType Record from `EventConstants`.\n * @param {object} nativeEvent Native browser event.\n * @return {?string} The fallback string for this `beforeInput` event.\n */\nfunction getFallbackBeforeInputChars(topLevelType, nativeEvent) {\n  // If we are currently composing (IME) and using a fallback to do so,\n  // try to extract the composed characters from the fallback object.\n  // If composition event is available, we extract a string only at\n  // compositionevent, otherwise extract it at fallback events.\n  if (currentComposition) {\n    if (topLevelType === 'topCompositionEnd' || !canUseCompositionEvent && isFallbackCompositionEnd(topLevelType, nativeEvent)) {\n      var chars = currentComposition.getData();\n      FallbackCompositionState.release(currentComposition);\n      currentComposition = null;\n      return chars;\n    }\n    return null;\n  }\n\n  switch (topLevelType) {\n    case 'topPaste':\n      // If a paste event occurs after a keypress, throw out the input\n      // chars. Paste events should not lead to BeforeInput events.\n      return null;\n    case 'topKeyPress':\n      /**\n       * As of v27, Firefox may fire keypress events even when no character\n       * will be inserted. A few possibilities:\n       *\n       * - `which` is `0`. Arrow keys, Esc key, etc.\n       *\n       * - `which` is the pressed key code, but no char is available.\n       *   Ex: 'AltGr + d` in Polish. There is no modified character for\n       *   this key combination and no character is inserted into the\n       *   document, but FF fires the keypress for char code `100` anyway.\n       *   No `input` event will occur.\n       *\n       * - `which` is the pressed key code, but a command combination is\n       *   being used. Ex: `Cmd+C`. No character is inserted, and no\n       *   `input` event will occur.\n       */\n      if (nativeEvent.which && !isKeypressCommand(nativeEvent)) {\n        return String.fromCharCode(nativeEvent.which);\n      }\n      return null;\n    case 'topCompositionEnd':\n      return useFallbackCompositionData ? null : nativeEvent.data;\n    default:\n      return null;\n  }\n}\n\n/**\n * Extract a SyntheticInputEvent for `beforeInput`, based on either native\n * `textInput` or fallback behavior.\n *\n * @return {?object} A SyntheticInputEvent.\n */\nfunction extractBeforeInputEvent(topLevelType, targetInst, nativeEvent, nativeEventTarget) {\n  var chars;\n\n  if (canUseTextInputEvent) {\n    chars = getNativeBeforeInputChars(topLevelType, nativeEvent);\n  } else {\n    chars = getFallbackBeforeInputChars(topLevelType, nativeEvent);\n  }\n\n  // If no characters are being inserted, no BeforeInput event should\n  // be fired.\n  if (!chars) {\n    return null;\n  }\n\n  var event = SyntheticInputEvent.getPooled(eventTypes.beforeInput, targetInst, nativeEvent, nativeEventTarget);\n\n  event.data = chars;\n  EventPropagators.accumulateTwoPhaseDispatches(event);\n  return event;\n}\n\n/**\n * Create an `onBeforeInput` event to match\n * http://www.w3.org/TR/2013/WD-DOM-Level-3-Events-20131105/#events-inputevents.\n *\n * This event plugin is based on the native `textInput` event\n * available in Chrome, Safari, Opera, and IE. This event fires after\n * `onKeyPress` and `onCompositionEnd`, but before `onInput`.\n *\n * `beforeInput` is spec'd but not implemented in any browsers, and\n * the `input` event does not provide any useful information about what has\n * actually been added, contrary to the spec. Thus, `textInput` is the best\n * available event to identify the characters that have actually been inserted\n * into the target node.\n *\n * This plugin is also responsible for emitting `composition` events, thus\n * allowing us to share composition fallback code for both `beforeInput` and\n * `composition` event types.\n */\nvar BeforeInputEventPlugin = {\n\n  eventTypes: eventTypes,\n\n  extractEvents: function (topLevelType, targetInst, nativeEvent, nativeEventTarget) {\n    return [extractCompositionEvent(topLevelType, targetInst, nativeEvent, nativeEventTarget), extractBeforeInputEvent(topLevelType, targetInst, nativeEvent, nativeEventTarget)];\n  }\n};\n\nmodule.exports = BeforeInputEventPlugin;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/BeforeInputEventPlugin.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar EventPluginHub = require('./EventPluginHub');\nvar EventPluginUtils = require('./EventPluginUtils');\n\nvar accumulateInto = require('./accumulateInto');\nvar forEachAccumulated = require('./forEachAccumulated');\nvar warning = require('fbjs/lib/warning');\n\nvar getListener = EventPluginHub.getListener;\n\n/**\n * Some event types have a notion of different registration names for different\n * \"phases\" of propagation. This finds listeners by a given phase.\n */\nfunction listenerAtPhase(inst, event, propagationPhase) {\n  var registrationName = event.dispatchConfig.phasedRegistrationNames[propagationPhase];\n  return getListener(inst, registrationName);\n}\n\n/**\n * Tags a `SyntheticEvent` with dispatched listeners. Creating this function\n * here, allows us to not have to bind or create functions for each event.\n * Mutating the event's members allows us to not have to create a wrapping\n * \"dispatch\" object that pairs the event with the listener.\n */\nfunction accumulateDirectionalDispatches(inst, phase, event) {\n  if (process.env.NODE_ENV !== 'production') {\n    process.env.NODE_ENV !== 'production' ? warning(inst, 'Dispatching inst must not be null') : void 0;\n  }\n  var listener = listenerAtPhase(inst, event, phase);\n  if (listener) {\n    event._dispatchListeners = accumulateInto(event._dispatchListeners, listener);\n    event._dispatchInstances = accumulateInto(event._dispatchInstances, inst);\n  }\n}\n\n/**\n * Collect dispatches (must be entirely collected before dispatching - see unit\n * tests). Lazily allocate the array to conserve memory.  We must loop through\n * each event and perform the traversal for each one. We cannot perform a\n * single traversal for the entire collection of events because each event may\n * have a different target.\n */\nfunction accumulateTwoPhaseDispatchesSingle(event) {\n  if (event && event.dispatchConfig.phasedRegistrationNames) {\n    EventPluginUtils.traverseTwoPhase(event._targetInst, accumulateDirectionalDispatches, event);\n  }\n}\n\n/**\n * Same as `accumulateTwoPhaseDispatchesSingle`, but skips over the targetID.\n */\nfunction accumulateTwoPhaseDispatchesSingleSkipTarget(event) {\n  if (event && event.dispatchConfig.phasedRegistrationNames) {\n    var targetInst = event._targetInst;\n    var parentInst = targetInst ? EventPluginUtils.getParentInstance(targetInst) : null;\n    EventPluginUtils.traverseTwoPhase(parentInst, accumulateDirectionalDispatches, event);\n  }\n}\n\n/**\n * Accumulates without regard to direction, does not look for phased\n * registration names. Same as `accumulateDirectDispatchesSingle` but without\n * requiring that the `dispatchMarker` be the same as the dispatched ID.\n */\nfunction accumulateDispatches(inst, ignoredDirection, event) {\n  if (event && event.dispatchConfig.registrationName) {\n    var registrationName = event.dispatchConfig.registrationName;\n    var listener = getListener(inst, registrationName);\n    if (listener) {\n      event._dispatchListeners = accumulateInto(event._dispatchListeners, listener);\n      event._dispatchInstances = accumulateInto(event._dispatchInstances, inst);\n    }\n  }\n}\n\n/**\n * Accumulates dispatches on an `SyntheticEvent`, but only for the\n * `dispatchMarker`.\n * @param {SyntheticEvent} event\n */\nfunction accumulateDirectDispatchesSingle(event) {\n  if (event && event.dispatchConfig.registrationName) {\n    accumulateDispatches(event._targetInst, null, event);\n  }\n}\n\nfunction accumulateTwoPhaseDispatches(events) {\n  forEachAccumulated(events, accumulateTwoPhaseDispatchesSingle);\n}\n\nfunction accumulateTwoPhaseDispatchesSkipTarget(events) {\n  forEachAccumulated(events, accumulateTwoPhaseDispatchesSingleSkipTarget);\n}\n\nfunction accumulateEnterLeaveDispatches(leave, enter, from, to) {\n  EventPluginUtils.traverseEnterLeave(from, to, accumulateDispatches, leave, enter);\n}\n\nfunction accumulateDirectDispatches(events) {\n  forEachAccumulated(events, accumulateDirectDispatchesSingle);\n}\n\n/**\n * A small set of propagation patterns, each of which will accept a small amount\n * of information, and generate a set of \"dispatch ready event objects\" - which\n * are sets of events that have already been annotated with a set of dispatched\n * listener functions/ids. The API is designed this way to discourage these\n * propagation strategies from actually executing the dispatches, since we\n * always want to collect the entire set of dispatches before executing event a\n * single one.\n *\n * @constructor EventPropagators\n */\nvar EventPropagators = {\n  accumulateTwoPhaseDispatches: accumulateTwoPhaseDispatches,\n  accumulateTwoPhaseDispatchesSkipTarget: accumulateTwoPhaseDispatchesSkipTarget,\n  accumulateDirectDispatches: accumulateDirectDispatches,\n  accumulateEnterLeaveDispatches: accumulateEnterLeaveDispatches\n};\n\nmodule.exports = EventPropagators;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/EventPropagators.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar EventPluginRegistry = require('./EventPluginRegistry');\nvar EventPluginUtils = require('./EventPluginUtils');\nvar ReactErrorUtils = require('./ReactErrorUtils');\n\nvar accumulateInto = require('./accumulateInto');\nvar forEachAccumulated = require('./forEachAccumulated');\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * Internal store for event listeners\n */\nvar listenerBank = {};\n\n/**\n * Internal queue of events that have accumulated their dispatches and are\n * waiting to have their dispatches executed.\n */\nvar eventQueue = null;\n\n/**\n * Dispatches an event and releases it back into the pool, unless persistent.\n *\n * @param {?object} event Synthetic event to be dispatched.\n * @param {boolean} simulated If the event is simulated (changes exn behavior)\n * @private\n */\nvar executeDispatchesAndRelease = function (event, simulated) {\n  if (event) {\n    EventPluginUtils.executeDispatchesInOrder(event, simulated);\n\n    if (!event.isPersistent()) {\n      event.constructor.release(event);\n    }\n  }\n};\nvar executeDispatchesAndReleaseSimulated = function (e) {\n  return executeDispatchesAndRelease(e, true);\n};\nvar executeDispatchesAndReleaseTopLevel = function (e) {\n  return executeDispatchesAndRelease(e, false);\n};\n\nvar getDictionaryKey = function (inst) {\n  // Prevents V8 performance issue:\n  // https://github.com/facebook/react/pull/7232\n  return '.' + inst._rootNodeID;\n};\n\nfunction isInteractive(tag) {\n  return tag === 'button' || tag === 'input' || tag === 'select' || tag === 'textarea';\n}\n\nfunction shouldPreventMouseEvent(name, type, props) {\n  switch (name) {\n    case 'onClick':\n    case 'onClickCapture':\n    case 'onDoubleClick':\n    case 'onDoubleClickCapture':\n    case 'onMouseDown':\n    case 'onMouseDownCapture':\n    case 'onMouseMove':\n    case 'onMouseMoveCapture':\n    case 'onMouseUp':\n    case 'onMouseUpCapture':\n      return !!(props.disabled && isInteractive(type));\n    default:\n      return false;\n  }\n}\n\n/**\n * This is a unified interface for event plugins to be installed and configured.\n *\n * Event plugins can implement the following properties:\n *\n *   `extractEvents` {function(string, DOMEventTarget, string, object): *}\n *     Required. When a top-level event is fired, this method is expected to\n *     extract synthetic events that will in turn be queued and dispatched.\n *\n *   `eventTypes` {object}\n *     Optional, plugins that fire events must publish a mapping of registration\n *     names that are used to register listeners. Values of this mapping must\n *     be objects that contain `registrationName` or `phasedRegistrationNames`.\n *\n *   `executeDispatch` {function(object, function, string)}\n *     Optional, allows plugins to override how an event gets dispatched. By\n *     default, the listener is simply invoked.\n *\n * Each plugin that is injected into `EventsPluginHub` is immediately operable.\n *\n * @public\n */\nvar EventPluginHub = {\n\n  /**\n   * Methods for injecting dependencies.\n   */\n  injection: {\n\n    /**\n     * @param {array} InjectedEventPluginOrder\n     * @public\n     */\n    injectEventPluginOrder: EventPluginRegistry.injectEventPluginOrder,\n\n    /**\n     * @param {object} injectedNamesToPlugins Map from names to plugin modules.\n     */\n    injectEventPluginsByName: EventPluginRegistry.injectEventPluginsByName\n\n  },\n\n  /**\n   * Stores `listener` at `listenerBank[registrationName][key]`. Is idempotent.\n   *\n   * @param {object} inst The instance, which is the source of events.\n   * @param {string} registrationName Name of listener (e.g. `onClick`).\n   * @param {function} listener The callback to store.\n   */\n  putListener: function (inst, registrationName, listener) {\n    !(typeof listener === 'function') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Expected %s listener to be a function, instead got type %s', registrationName, typeof listener) : _prodInvariant('94', registrationName, typeof listener) : void 0;\n\n    var key = getDictionaryKey(inst);\n    var bankForRegistrationName = listenerBank[registrationName] || (listenerBank[registrationName] = {});\n    bankForRegistrationName[key] = listener;\n\n    var PluginModule = EventPluginRegistry.registrationNameModules[registrationName];\n    if (PluginModule && PluginModule.didPutListener) {\n      PluginModule.didPutListener(inst, registrationName, listener);\n    }\n  },\n\n  /**\n   * @param {object} inst The instance, which is the source of events.\n   * @param {string} registrationName Name of listener (e.g. `onClick`).\n   * @return {?function} The stored callback.\n   */\n  getListener: function (inst, registrationName) {\n    // TODO: shouldPreventMouseEvent is DOM-specific and definitely should not\n    // live here; needs to be moved to a better place soon\n    var bankForRegistrationName = listenerBank[registrationName];\n    if (shouldPreventMouseEvent(registrationName, inst._currentElement.type, inst._currentElement.props)) {\n      return null;\n    }\n    var key = getDictionaryKey(inst);\n    return bankForRegistrationName && bankForRegistrationName[key];\n  },\n\n  /**\n   * Deletes a listener from the registration bank.\n   *\n   * @param {object} inst The instance, which is the source of events.\n   * @param {string} registrationName Name of listener (e.g. `onClick`).\n   */\n  deleteListener: function (inst, registrationName) {\n    var PluginModule = EventPluginRegistry.registrationNameModules[registrationName];\n    if (PluginModule && PluginModule.willDeleteListener) {\n      PluginModule.willDeleteListener(inst, registrationName);\n    }\n\n    var bankForRegistrationName = listenerBank[registrationName];\n    // TODO: This should never be null -- when is it?\n    if (bankForRegistrationName) {\n      var key = getDictionaryKey(inst);\n      delete bankForRegistrationName[key];\n    }\n  },\n\n  /**\n   * Deletes all listeners for the DOM element with the supplied ID.\n   *\n   * @param {object} inst The instance, which is the source of events.\n   */\n  deleteAllListeners: function (inst) {\n    var key = getDictionaryKey(inst);\n    for (var registrationName in listenerBank) {\n      if (!listenerBank.hasOwnProperty(registrationName)) {\n        continue;\n      }\n\n      if (!listenerBank[registrationName][key]) {\n        continue;\n      }\n\n      var PluginModule = EventPluginRegistry.registrationNameModules[registrationName];\n      if (PluginModule && PluginModule.willDeleteListener) {\n        PluginModule.willDeleteListener(inst, registrationName);\n      }\n\n      delete listenerBank[registrationName][key];\n    }\n  },\n\n  /**\n   * Allows registered plugins an opportunity to extract events from top-level\n   * native browser events.\n   *\n   * @return {*} An accumulation of synthetic events.\n   * @internal\n   */\n  extractEvents: function (topLevelType, targetInst, nativeEvent, nativeEventTarget) {\n    var events;\n    var plugins = EventPluginRegistry.plugins;\n    for (var i = 0; i < plugins.length; i++) {\n      // Not every plugin in the ordering may be loaded at runtime.\n      var possiblePlugin = plugins[i];\n      if (possiblePlugin) {\n        var extractedEvents = possiblePlugin.extractEvents(topLevelType, targetInst, nativeEvent, nativeEventTarget);\n        if (extractedEvents) {\n          events = accumulateInto(events, extractedEvents);\n        }\n      }\n    }\n    return events;\n  },\n\n  /**\n   * Enqueues a synthetic event that should be dispatched when\n   * `processEventQueue` is invoked.\n   *\n   * @param {*} events An accumulation of synthetic events.\n   * @internal\n   */\n  enqueueEvents: function (events) {\n    if (events) {\n      eventQueue = accumulateInto(eventQueue, events);\n    }\n  },\n\n  /**\n   * Dispatches all synthetic events on the event queue.\n   *\n   * @internal\n   */\n  processEventQueue: function (simulated) {\n    // Set `eventQueue` to null before processing it so that we can tell if more\n    // events get enqueued while processing.\n    var processingEventQueue = eventQueue;\n    eventQueue = null;\n    if (simulated) {\n      forEachAccumulated(processingEventQueue, executeDispatchesAndReleaseSimulated);\n    } else {\n      forEachAccumulated(processingEventQueue, executeDispatchesAndReleaseTopLevel);\n    }\n    !!eventQueue ? process.env.NODE_ENV !== 'production' ? invariant(false, 'processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented.') : _prodInvariant('95') : void 0;\n    // This would be a good time to rethrow if any of the event handlers threw.\n    ReactErrorUtils.rethrowCaughtError();\n  },\n\n  /**\n   * These are needed for tests only. Do not use!\n   */\n  __purge: function () {\n    listenerBank = {};\n  },\n\n  __getListenerBank: function () {\n    return listenerBank;\n  }\n\n};\n\nmodule.exports = EventPluginHub;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/EventPluginHub.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * Injectable ordering of event plugins.\n */\nvar eventPluginOrder = null;\n\n/**\n * Injectable mapping from names to event plugin modules.\n */\nvar namesToPlugins = {};\n\n/**\n * Recomputes the plugin list using the injected plugins and plugin ordering.\n *\n * @private\n */\nfunction recomputePluginOrdering() {\n  if (!eventPluginOrder) {\n    // Wait until an `eventPluginOrder` is injected.\n    return;\n  }\n  for (var pluginName in namesToPlugins) {\n    var pluginModule = namesToPlugins[pluginName];\n    var pluginIndex = eventPluginOrder.indexOf(pluginName);\n    !(pluginIndex > -1) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.', pluginName) : _prodInvariant('96', pluginName) : void 0;\n    if (EventPluginRegistry.plugins[pluginIndex]) {\n      continue;\n    }\n    !pluginModule.extractEvents ? process.env.NODE_ENV !== 'production' ? invariant(false, 'EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.', pluginName) : _prodInvariant('97', pluginName) : void 0;\n    EventPluginRegistry.plugins[pluginIndex] = pluginModule;\n    var publishedEvents = pluginModule.eventTypes;\n    for (var eventName in publishedEvents) {\n      !publishEventForPlugin(publishedEvents[eventName], pluginModule, eventName) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.', eventName, pluginName) : _prodInvariant('98', eventName, pluginName) : void 0;\n    }\n  }\n}\n\n/**\n * Publishes an event so that it can be dispatched by the supplied plugin.\n *\n * @param {object} dispatchConfig Dispatch configuration for the event.\n * @param {object} PluginModule Plugin publishing the event.\n * @return {boolean} True if the event was successfully published.\n * @private\n */\nfunction publishEventForPlugin(dispatchConfig, pluginModule, eventName) {\n  !!EventPluginRegistry.eventNameDispatchConfigs.hasOwnProperty(eventName) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.', eventName) : _prodInvariant('99', eventName) : void 0;\n  EventPluginRegistry.eventNameDispatchConfigs[eventName] = dispatchConfig;\n\n  var phasedRegistrationNames = dispatchConfig.phasedRegistrationNames;\n  if (phasedRegistrationNames) {\n    for (var phaseName in phasedRegistrationNames) {\n      if (phasedRegistrationNames.hasOwnProperty(phaseName)) {\n        var phasedRegistrationName = phasedRegistrationNames[phaseName];\n        publishRegistrationName(phasedRegistrationName, pluginModule, eventName);\n      }\n    }\n    return true;\n  } else if (dispatchConfig.registrationName) {\n    publishRegistrationName(dispatchConfig.registrationName, pluginModule, eventName);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Publishes a registration name that is used to identify dispatched events and\n * can be used with `EventPluginHub.putListener` to register listeners.\n *\n * @param {string} registrationName Registration name to add.\n * @param {object} PluginModule Plugin publishing the event.\n * @private\n */\nfunction publishRegistrationName(registrationName, pluginModule, eventName) {\n  !!EventPluginRegistry.registrationNameModules[registrationName] ? process.env.NODE_ENV !== 'production' ? invariant(false, 'EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.', registrationName) : _prodInvariant('100', registrationName) : void 0;\n  EventPluginRegistry.registrationNameModules[registrationName] = pluginModule;\n  EventPluginRegistry.registrationNameDependencies[registrationName] = pluginModule.eventTypes[eventName].dependencies;\n\n  if (process.env.NODE_ENV !== 'production') {\n    var lowerCasedName = registrationName.toLowerCase();\n    EventPluginRegistry.possibleRegistrationNames[lowerCasedName] = registrationName;\n\n    if (registrationName === 'onDoubleClick') {\n      EventPluginRegistry.possibleRegistrationNames.ondblclick = registrationName;\n    }\n  }\n}\n\n/**\n * Registers plugins so that they can extract and dispatch events.\n *\n * @see {EventPluginHub}\n */\nvar EventPluginRegistry = {\n\n  /**\n   * Ordered list of injected plugins.\n   */\n  plugins: [],\n\n  /**\n   * Mapping from event name to dispatch config\n   */\n  eventNameDispatchConfigs: {},\n\n  /**\n   * Mapping from registration name to plugin module\n   */\n  registrationNameModules: {},\n\n  /**\n   * Mapping from registration name to event name\n   */\n  registrationNameDependencies: {},\n\n  /**\n   * Mapping from lowercase registration names to the properly cased version,\n   * used to warn in the case of missing event handlers. Available\n   * only in __DEV__.\n   * @type {Object}\n   */\n  possibleRegistrationNames: process.env.NODE_ENV !== 'production' ? {} : null,\n  // Trust the developer to only use possibleRegistrationNames in __DEV__\n\n  /**\n   * Injects an ordering of plugins (by plugin name). This allows the ordering\n   * to be decoupled from injection of the actual plugins so that ordering is\n   * always deterministic regardless of packaging, on-the-fly injection, etc.\n   *\n   * @param {array} InjectedEventPluginOrder\n   * @internal\n   * @see {EventPluginHub.injection.injectEventPluginOrder}\n   */\n  injectEventPluginOrder: function (injectedEventPluginOrder) {\n    !!eventPluginOrder ? process.env.NODE_ENV !== 'production' ? invariant(false, 'EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React.') : _prodInvariant('101') : void 0;\n    // Clone the ordering so it cannot be dynamically mutated.\n    eventPluginOrder = Array.prototype.slice.call(injectedEventPluginOrder);\n    recomputePluginOrdering();\n  },\n\n  /**\n   * Injects plugins to be used by `EventPluginHub`. The plugin names must be\n   * in the ordering injected by `injectEventPluginOrder`.\n   *\n   * Plugins can be injected as part of page initialization or on-the-fly.\n   *\n   * @param {object} injectedNamesToPlugins Map from names to plugin modules.\n   * @internal\n   * @see {EventPluginHub.injection.injectEventPluginsByName}\n   */\n  injectEventPluginsByName: function (injectedNamesToPlugins) {\n    var isOrderingDirty = false;\n    for (var pluginName in injectedNamesToPlugins) {\n      if (!injectedNamesToPlugins.hasOwnProperty(pluginName)) {\n        continue;\n      }\n      var pluginModule = injectedNamesToPlugins[pluginName];\n      if (!namesToPlugins.hasOwnProperty(pluginName) || namesToPlugins[pluginName] !== pluginModule) {\n        !!namesToPlugins[pluginName] ? process.env.NODE_ENV !== 'production' ? invariant(false, 'EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.', pluginName) : _prodInvariant('102', pluginName) : void 0;\n        namesToPlugins[pluginName] = pluginModule;\n        isOrderingDirty = true;\n      }\n    }\n    if (isOrderingDirty) {\n      recomputePluginOrdering();\n    }\n  },\n\n  /**\n   * Looks up the plugin for the supplied event.\n   *\n   * @param {object} event A synthetic event.\n   * @return {?object} The plugin that created the supplied event.\n   * @internal\n   */\n  getPluginModuleForEvent: function (event) {\n    var dispatchConfig = event.dispatchConfig;\n    if (dispatchConfig.registrationName) {\n      return EventPluginRegistry.registrationNameModules[dispatchConfig.registrationName] || null;\n    }\n    if (dispatchConfig.phasedRegistrationNames !== undefined) {\n      // pulling phasedRegistrationNames out of dispatchConfig helps Flow see\n      // that it is not undefined.\n      var phasedRegistrationNames = dispatchConfig.phasedRegistrationNames;\n\n      for (var phase in phasedRegistrationNames) {\n        if (!phasedRegistrationNames.hasOwnProperty(phase)) {\n          continue;\n        }\n        var pluginModule = EventPluginRegistry.registrationNameModules[phasedRegistrationNames[phase]];\n        if (pluginModule) {\n          return pluginModule;\n        }\n      }\n    }\n    return null;\n  },\n\n  /**\n   * Exposed for unit testing.\n   * @private\n   */\n  _resetEventPlugins: function () {\n    eventPluginOrder = null;\n    for (var pluginName in namesToPlugins) {\n      if (namesToPlugins.hasOwnProperty(pluginName)) {\n        delete namesToPlugins[pluginName];\n      }\n    }\n    EventPluginRegistry.plugins.length = 0;\n\n    var eventNameDispatchConfigs = EventPluginRegistry.eventNameDispatchConfigs;\n    for (var eventName in eventNameDispatchConfigs) {\n      if (eventNameDispatchConfigs.hasOwnProperty(eventName)) {\n        delete eventNameDispatchConfigs[eventName];\n      }\n    }\n\n    var registrationNameModules = EventPluginRegistry.registrationNameModules;\n    for (var registrationName in registrationNameModules) {\n      if (registrationNameModules.hasOwnProperty(registrationName)) {\n        delete registrationNameModules[registrationName];\n      }\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var possibleRegistrationNames = EventPluginRegistry.possibleRegistrationNames;\n      for (var lowerCasedName in possibleRegistrationNames) {\n        if (possibleRegistrationNames.hasOwnProperty(lowerCasedName)) {\n          delete possibleRegistrationNames[lowerCasedName];\n        }\n      }\n    }\n  }\n\n};\n\nmodule.exports = EventPluginRegistry;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/EventPluginRegistry.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar ReactErrorUtils = require('./ReactErrorUtils');\n\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\n/**\n * Injected dependencies:\n */\n\n/**\n * - `ComponentTree`: [required] Module that can convert between React instances\n *   and actual node references.\n */\nvar ComponentTree;\nvar TreeTraversal;\nvar injection = {\n  injectComponentTree: function (Injected) {\n    ComponentTree = Injected;\n    if (process.env.NODE_ENV !== 'production') {\n      process.env.NODE_ENV !== 'production' ? warning(Injected && Injected.getNodeFromInstance && Injected.getInstanceFromNode, 'EventPluginUtils.injection.injectComponentTree(...): Injected ' + 'module is missing getNodeFromInstance or getInstanceFromNode.') : void 0;\n    }\n  },\n  injectTreeTraversal: function (Injected) {\n    TreeTraversal = Injected;\n    if (process.env.NODE_ENV !== 'production') {\n      process.env.NODE_ENV !== 'production' ? warning(Injected && Injected.isAncestor && Injected.getLowestCommonAncestor, 'EventPluginUtils.injection.injectTreeTraversal(...): Injected ' + 'module is missing isAncestor or getLowestCommonAncestor.') : void 0;\n    }\n  }\n};\n\nfunction isEndish(topLevelType) {\n  return topLevelType === 'topMouseUp' || topLevelType === 'topTouchEnd' || topLevelType === 'topTouchCancel';\n}\n\nfunction isMoveish(topLevelType) {\n  return topLevelType === 'topMouseMove' || topLevelType === 'topTouchMove';\n}\nfunction isStartish(topLevelType) {\n  return topLevelType === 'topMouseDown' || topLevelType === 'topTouchStart';\n}\n\nvar validateEventDispatches;\nif (process.env.NODE_ENV !== 'production') {\n  validateEventDispatches = function (event) {\n    var dispatchListeners = event._dispatchListeners;\n    var dispatchInstances = event._dispatchInstances;\n\n    var listenersIsArr = Array.isArray(dispatchListeners);\n    var listenersLen = listenersIsArr ? dispatchListeners.length : dispatchListeners ? 1 : 0;\n\n    var instancesIsArr = Array.isArray(dispatchInstances);\n    var instancesLen = instancesIsArr ? dispatchInstances.length : dispatchInstances ? 1 : 0;\n\n    process.env.NODE_ENV !== 'production' ? warning(instancesIsArr === listenersIsArr && instancesLen === listenersLen, 'EventPluginUtils: Invalid `event`.') : void 0;\n  };\n}\n\n/**\n * Dispatch the event to the listener.\n * @param {SyntheticEvent} event SyntheticEvent to handle\n * @param {boolean} simulated If the event is simulated (changes exn behavior)\n * @param {function} listener Application-level callback\n * @param {*} inst Internal component instance\n */\nfunction executeDispatch(event, simulated, listener, inst) {\n  var type = event.type || 'unknown-event';\n  event.currentTarget = EventPluginUtils.getNodeFromInstance(inst);\n  if (simulated) {\n    ReactErrorUtils.invokeGuardedCallbackWithCatch(type, listener, event);\n  } else {\n    ReactErrorUtils.invokeGuardedCallback(type, listener, event);\n  }\n  event.currentTarget = null;\n}\n\n/**\n * Standard/simple iteration through an event's collected dispatches.\n */\nfunction executeDispatchesInOrder(event, simulated) {\n  var dispatchListeners = event._dispatchListeners;\n  var dispatchInstances = event._dispatchInstances;\n  if (process.env.NODE_ENV !== 'production') {\n    validateEventDispatches(event);\n  }\n  if (Array.isArray(dispatchListeners)) {\n    for (var i = 0; i < dispatchListeners.length; i++) {\n      if (event.isPropagationStopped()) {\n        break;\n      }\n      // Listeners and Instances are two parallel arrays that are always in sync.\n      executeDispatch(event, simulated, dispatchListeners[i], dispatchInstances[i]);\n    }\n  } else if (dispatchListeners) {\n    executeDispatch(event, simulated, dispatchListeners, dispatchInstances);\n  }\n  event._dispatchListeners = null;\n  event._dispatchInstances = null;\n}\n\n/**\n * Standard/simple iteration through an event's collected dispatches, but stops\n * at the first dispatch execution returning true, and returns that id.\n *\n * @return {?string} id of the first dispatch execution who's listener returns\n * true, or null if no listener returned true.\n */\nfunction executeDispatchesInOrderStopAtTrueImpl(event) {\n  var dispatchListeners = event._dispatchListeners;\n  var dispatchInstances = event._dispatchInstances;\n  if (process.env.NODE_ENV !== 'production') {\n    validateEventDispatches(event);\n  }\n  if (Array.isArray(dispatchListeners)) {\n    for (var i = 0; i < dispatchListeners.length; i++) {\n      if (event.isPropagationStopped()) {\n        break;\n      }\n      // Listeners and Instances are two parallel arrays that are always in sync.\n      if (dispatchListeners[i](event, dispatchInstances[i])) {\n        return dispatchInstances[i];\n      }\n    }\n  } else if (dispatchListeners) {\n    if (dispatchListeners(event, dispatchInstances)) {\n      return dispatchInstances;\n    }\n  }\n  return null;\n}\n\n/**\n * @see executeDispatchesInOrderStopAtTrueImpl\n */\nfunction executeDispatchesInOrderStopAtTrue(event) {\n  var ret = executeDispatchesInOrderStopAtTrueImpl(event);\n  event._dispatchInstances = null;\n  event._dispatchListeners = null;\n  return ret;\n}\n\n/**\n * Execution of a \"direct\" dispatch - there must be at most one dispatch\n * accumulated on the event or it is considered an error. It doesn't really make\n * sense for an event with multiple dispatches (bubbled) to keep track of the\n * return values at each dispatch execution, but it does tend to make sense when\n * dealing with \"direct\" dispatches.\n *\n * @return {*} The return value of executing the single dispatch.\n */\nfunction executeDirectDispatch(event) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateEventDispatches(event);\n  }\n  var dispatchListener = event._dispatchListeners;\n  var dispatchInstance = event._dispatchInstances;\n  !!Array.isArray(dispatchListener) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'executeDirectDispatch(...): Invalid `event`.') : _prodInvariant('103') : void 0;\n  event.currentTarget = dispatchListener ? EventPluginUtils.getNodeFromInstance(dispatchInstance) : null;\n  var res = dispatchListener ? dispatchListener(event) : null;\n  event.currentTarget = null;\n  event._dispatchListeners = null;\n  event._dispatchInstances = null;\n  return res;\n}\n\n/**\n * @param {SyntheticEvent} event\n * @return {boolean} True iff number of dispatches accumulated is greater than 0.\n */\nfunction hasDispatches(event) {\n  return !!event._dispatchListeners;\n}\n\n/**\n * General utilities that are useful in creating custom Event Plugins.\n */\nvar EventPluginUtils = {\n  isEndish: isEndish,\n  isMoveish: isMoveish,\n  isStartish: isStartish,\n\n  executeDirectDispatch: executeDirectDispatch,\n  executeDispatchesInOrder: executeDispatchesInOrder,\n  executeDispatchesInOrderStopAtTrue: executeDispatchesInOrderStopAtTrue,\n  hasDispatches: hasDispatches,\n\n  getInstanceFromNode: function (node) {\n    return ComponentTree.getInstanceFromNode(node);\n  },\n  getNodeFromInstance: function (node) {\n    return ComponentTree.getNodeFromInstance(node);\n  },\n  isAncestor: function (a, b) {\n    return TreeTraversal.isAncestor(a, b);\n  },\n  getLowestCommonAncestor: function (a, b) {\n    return TreeTraversal.getLowestCommonAncestor(a, b);\n  },\n  getParentInstance: function (inst) {\n    return TreeTraversal.getParentInstance(inst);\n  },\n  traverseTwoPhase: function (target, fn, arg) {\n    return TreeTraversal.traverseTwoPhase(target, fn, arg);\n  },\n  traverseEnterLeave: function (from, to, fn, argFrom, argTo) {\n    return TreeTraversal.traverseEnterLeave(from, to, fn, argFrom, argTo);\n  },\n\n  injection: injection\n};\n\nmodule.exports = EventPluginUtils;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/EventPluginUtils.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar caughtError = null;\n\n/**\n * Call a function while guarding against errors that happens within it.\n *\n * @param {String} name of the guard to use for logging or debugging\n * @param {Function} func The function to invoke\n * @param {*} a First argument\n * @param {*} b Second argument\n */\nfunction invokeGuardedCallback(name, func, a) {\n  try {\n    func(a);\n  } catch (x) {\n    if (caughtError === null) {\n      caughtError = x;\n    }\n  }\n}\n\nvar ReactErrorUtils = {\n  invokeGuardedCallback: invokeGuardedCallback,\n\n  /**\n   * Invoked by ReactTestUtils.Simulate so that any errors thrown by the event\n   * handler are sure to be rethrown by rethrowCaughtError.\n   */\n  invokeGuardedCallbackWithCatch: invokeGuardedCallback,\n\n  /**\n   * During execution of guarded functions we will capture the first error which\n   * we will rethrow to be handled by the top level error handler.\n   */\n  rethrowCaughtError: function () {\n    if (caughtError) {\n      var error = caughtError;\n      caughtError = null;\n      throw error;\n    }\n  }\n};\n\nif (process.env.NODE_ENV !== 'production') {\n  /**\n   * To help development we can get better devtools integration by simulating a\n   * real browser event.\n   */\n  if (typeof window !== 'undefined' && typeof window.dispatchEvent === 'function' && typeof document !== 'undefined' && typeof document.createEvent === 'function') {\n    var fakeNode = document.createElement('react');\n    ReactErrorUtils.invokeGuardedCallback = function (name, func, a) {\n      var boundFunc = func.bind(null, a);\n      var evtType = 'react-' + name;\n      fakeNode.addEventListener(evtType, boundFunc, false);\n      var evt = document.createEvent('Event');\n      // $FlowFixMe https://github.com/facebook/flow/issues/2336\n      evt.initEvent(evtType, false, false);\n      fakeNode.dispatchEvent(evt);\n      fakeNode.removeEventListener(evtType, boundFunc, false);\n    };\n  }\n}\n\nmodule.exports = ReactErrorUtils;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactErrorUtils.js","/**\n * Copyright 2014-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * Accumulates items that must not be null or undefined into the first one. This\n * is used to conserve memory by avoiding array allocations, and thus sacrifices\n * API cleanness. Since `current` can be null before being passed in and not\n * null after this function, make sure to assign it back to `current`:\n *\n * `a = accumulateInto(a, b);`\n *\n * This API should be sparingly used. Try `accumulate` for something cleaner.\n *\n * @return {*|array<*>} An accumulation of items.\n */\n\nfunction accumulateInto(current, next) {\n  !(next != null) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'accumulateInto(...): Accumulated items must not be null or undefined.') : _prodInvariant('30') : void 0;\n\n  if (current == null) {\n    return next;\n  }\n\n  // Both are not empty. Warning: Never call x.concat(y) when you are not\n  // certain that x is an Array (x could be a string with concat method).\n  if (Array.isArray(current)) {\n    if (Array.isArray(next)) {\n      current.push.apply(current, next);\n      return current;\n    }\n    current.push(next);\n    return current;\n  }\n\n  if (Array.isArray(next)) {\n    // A bit too dangerous to mutate `next`.\n    return [current].concat(next);\n  }\n\n  return [current, next];\n}\n\nmodule.exports = accumulateInto;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/accumulateInto.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\n/**\n * @param {array} arr an \"accumulation\" of items which is either an Array or\n * a single item. Useful when paired with the `accumulate` module. This is a\n * simple utility that allows us to reason about a collection of items, but\n * handling the case when there is exactly one item (and we do not need to\n * allocate an array).\n */\n\nfunction forEachAccumulated(arr, cb, scope) {\n  if (Array.isArray(arr)) {\n    arr.forEach(cb, scope);\n  } else if (arr) {\n    cb.call(scope, arr);\n  }\n}\n\nmodule.exports = forEachAccumulated;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/forEachAccumulated.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\n/**\n * Simple, lightweight module assisting with the detection and context of\n * Worker. Helps avoid circular dependencies and allows code to reason about\n * whether or not they are in a Worker, even if they never include the main\n * `ReactWorker` dependency.\n */\nvar ExecutionEnvironment = {\n\n  canUseDOM: canUseDOM,\n\n  canUseWorkers: typeof Worker !== 'undefined',\n\n  canUseEventListeners: canUseDOM && !!(window.addEventListener || window.attachEvent),\n\n  canUseViewport: canUseDOM && !!window.screen,\n\n  isInWorker: !canUseDOM // For now, this is true - might change in the future.\n\n};\n\nmodule.exports = ExecutionEnvironment;\n\n\n// WEBPACK FOOTER //\n// ./~/fbjs/lib/ExecutionEnvironment.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar PooledClass = require('./PooledClass');\n\nvar getTextContentAccessor = require('./getTextContentAccessor');\n\n/**\n * This helper class stores information about text content of a target node,\n * allowing comparison of content before and after a given event.\n *\n * Identify the node where selection currently begins, then observe\n * both its text content and its current position in the DOM. Since the\n * browser may natively replace the target node during composition, we can\n * use its position to find its replacement.\n *\n * @param {DOMEventTarget} root\n */\nfunction FallbackCompositionState(root) {\n  this._root = root;\n  this._startText = this.getText();\n  this._fallbackText = null;\n}\n\n_assign(FallbackCompositionState.prototype, {\n  destructor: function () {\n    this._root = null;\n    this._startText = null;\n    this._fallbackText = null;\n  },\n\n  /**\n   * Get current text of input.\n   *\n   * @return {string}\n   */\n  getText: function () {\n    if ('value' in this._root) {\n      return this._root.value;\n    }\n    return this._root[getTextContentAccessor()];\n  },\n\n  /**\n   * Determine the differing substring between the initially stored\n   * text content and the current content.\n   *\n   * @return {string}\n   */\n  getData: function () {\n    if (this._fallbackText) {\n      return this._fallbackText;\n    }\n\n    var start;\n    var startValue = this._startText;\n    var startLength = startValue.length;\n    var end;\n    var endValue = this.getText();\n    var endLength = endValue.length;\n\n    for (start = 0; start < startLength; start++) {\n      if (startValue[start] !== endValue[start]) {\n        break;\n      }\n    }\n\n    var minEnd = startLength - start;\n    for (end = 1; end <= minEnd; end++) {\n      if (startValue[startLength - end] !== endValue[endLength - end]) {\n        break;\n      }\n    }\n\n    var sliceTail = end > 1 ? 1 - end : undefined;\n    this._fallbackText = endValue.slice(start, sliceTail);\n    return this._fallbackText;\n  }\n});\n\nPooledClass.addPoolingTo(FallbackCompositionState);\n\nmodule.exports = FallbackCompositionState;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/FallbackCompositionState.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * Static poolers. Several custom versions for each potential number of\n * arguments. A completely generic pooler is easy to implement, but would\n * require accessing the `arguments` object. In each of these, `this` refers to\n * the Class itself, not an instance. If any others are needed, simply add them\n * here, or in their own files.\n */\nvar oneArgumentPooler = function (copyFieldsFrom) {\n  var Klass = this;\n  if (Klass.instancePool.length) {\n    var instance = Klass.instancePool.pop();\n    Klass.call(instance, copyFieldsFrom);\n    return instance;\n  } else {\n    return new Klass(copyFieldsFrom);\n  }\n};\n\nvar twoArgumentPooler = function (a1, a2) {\n  var Klass = this;\n  if (Klass.instancePool.length) {\n    var instance = Klass.instancePool.pop();\n    Klass.call(instance, a1, a2);\n    return instance;\n  } else {\n    return new Klass(a1, a2);\n  }\n};\n\nvar threeArgumentPooler = function (a1, a2, a3) {\n  var Klass = this;\n  if (Klass.instancePool.length) {\n    var instance = Klass.instancePool.pop();\n    Klass.call(instance, a1, a2, a3);\n    return instance;\n  } else {\n    return new Klass(a1, a2, a3);\n  }\n};\n\nvar fourArgumentPooler = function (a1, a2, a3, a4) {\n  var Klass = this;\n  if (Klass.instancePool.length) {\n    var instance = Klass.instancePool.pop();\n    Klass.call(instance, a1, a2, a3, a4);\n    return instance;\n  } else {\n    return new Klass(a1, a2, a3, a4);\n  }\n};\n\nvar standardReleaser = function (instance) {\n  var Klass = this;\n  !(instance instanceof Klass) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Trying to release an instance into a pool of a different type.') : _prodInvariant('25') : void 0;\n  instance.destructor();\n  if (Klass.instancePool.length < Klass.poolSize) {\n    Klass.instancePool.push(instance);\n  }\n};\n\nvar DEFAULT_POOL_SIZE = 10;\nvar DEFAULT_POOLER = oneArgumentPooler;\n\n/**\n * Augments `CopyConstructor` to be a poolable class, augmenting only the class\n * itself (statically) not adding any prototypical fields. Any CopyConstructor\n * you give this may have a `poolSize` property, and will look for a\n * prototypical `destructor` on instances.\n *\n * @param {Function} CopyConstructor Constructor that can be used to reset.\n * @param {Function} pooler Customizable pooler.\n */\nvar addPoolingTo = function (CopyConstructor, pooler) {\n  // Casting as any so that flow ignores the actual implementation and trusts\n  // it to match the type we declared\n  var NewKlass = CopyConstructor;\n  NewKlass.instancePool = [];\n  NewKlass.getPooled = pooler || DEFAULT_POOLER;\n  if (!NewKlass.poolSize) {\n    NewKlass.poolSize = DEFAULT_POOL_SIZE;\n  }\n  NewKlass.release = standardReleaser;\n  return NewKlass;\n};\n\nvar PooledClass = {\n  addPoolingTo: addPoolingTo,\n  oneArgumentPooler: oneArgumentPooler,\n  twoArgumentPooler: twoArgumentPooler,\n  threeArgumentPooler: threeArgumentPooler,\n  fourArgumentPooler: fourArgumentPooler\n};\n\nmodule.exports = PooledClass;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/PooledClass.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment');\n\nvar contentKey = null;\n\n/**\n * Gets the key used to access text content on a DOM node.\n *\n * @return {?string} Key used to access text content.\n * @internal\n */\nfunction getTextContentAccessor() {\n  if (!contentKey && ExecutionEnvironment.canUseDOM) {\n    // Prefer textContent to innerText because many browsers support both but\n    // SVG <text> elements don't support innerText even when <div> does.\n    contentKey = 'textContent' in document.documentElement ? 'textContent' : 'innerText';\n  }\n  return contentKey;\n}\n\nmodule.exports = getTextContentAccessor;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/getTextContentAccessor.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar SyntheticEvent = require('./SyntheticEvent');\n\n/**\n * @interface Event\n * @see http://www.w3.org/TR/DOM-Level-3-Events/#events-compositionevents\n */\nvar CompositionEventInterface = {\n  data: null\n};\n\n/**\n * @param {object} dispatchConfig Configuration used to dispatch this event.\n * @param {string} dispatchMarker Marker identifying the event target.\n * @param {object} nativeEvent Native browser event.\n * @extends {SyntheticUIEvent}\n */\nfunction SyntheticCompositionEvent(dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget) {\n  return SyntheticEvent.call(this, dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget);\n}\n\nSyntheticEvent.augmentClass(SyntheticCompositionEvent, CompositionEventInterface);\n\nmodule.exports = SyntheticCompositionEvent;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/SyntheticCompositionEvent.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar PooledClass = require('./PooledClass');\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar warning = require('fbjs/lib/warning');\n\nvar didWarnForAddedNewProperty = false;\nvar isProxySupported = typeof Proxy === 'function';\n\nvar shouldBeReleasedProperties = ['dispatchConfig', '_targetInst', 'nativeEvent', 'isDefaultPrevented', 'isPropagationStopped', '_dispatchListeners', '_dispatchInstances'];\n\n/**\n * @interface Event\n * @see http://www.w3.org/TR/DOM-Level-3-Events/\n */\nvar EventInterface = {\n  type: null,\n  target: null,\n  // currentTarget is set when dispatching; no use in copying it here\n  currentTarget: emptyFunction.thatReturnsNull,\n  eventPhase: null,\n  bubbles: null,\n  cancelable: null,\n  timeStamp: function (event) {\n    return event.timeStamp || Date.now();\n  },\n  defaultPrevented: null,\n  isTrusted: null\n};\n\n/**\n * Synthetic events are dispatched by event plugins, typically in response to a\n * top-level event delegation handler.\n *\n * These systems should generally use pooling to reduce the frequency of garbage\n * collection. The system should check `isPersistent` to determine whether the\n * event should be released into the pool after being dispatched. Users that\n * need a persisted event should invoke `persist`.\n *\n * Synthetic events (and subclasses) implement the DOM Level 3 Events API by\n * normalizing browser quirks. Subclasses do not necessarily have to implement a\n * DOM interface; custom application-specific events can also subclass this.\n *\n * @param {object} dispatchConfig Configuration used to dispatch this event.\n * @param {*} targetInst Marker identifying the event target.\n * @param {object} nativeEvent Native browser event.\n * @param {DOMEventTarget} nativeEventTarget Target node.\n */\nfunction SyntheticEvent(dispatchConfig, targetInst, nativeEvent, nativeEventTarget) {\n  if (process.env.NODE_ENV !== 'production') {\n    // these have a getter/setter for warnings\n    delete this.nativeEvent;\n    delete this.preventDefault;\n    delete this.stopPropagation;\n  }\n\n  this.dispatchConfig = dispatchConfig;\n  this._targetInst = targetInst;\n  this.nativeEvent = nativeEvent;\n\n  var Interface = this.constructor.Interface;\n  for (var propName in Interface) {\n    if (!Interface.hasOwnProperty(propName)) {\n      continue;\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      delete this[propName]; // this has a getter/setter for warnings\n    }\n    var normalize = Interface[propName];\n    if (normalize) {\n      this[propName] = normalize(nativeEvent);\n    } else {\n      if (propName === 'target') {\n        this.target = nativeEventTarget;\n      } else {\n        this[propName] = nativeEvent[propName];\n      }\n    }\n  }\n\n  var defaultPrevented = nativeEvent.defaultPrevented != null ? nativeEvent.defaultPrevented : nativeEvent.returnValue === false;\n  if (defaultPrevented) {\n    this.isDefaultPrevented = emptyFunction.thatReturnsTrue;\n  } else {\n    this.isDefaultPrevented = emptyFunction.thatReturnsFalse;\n  }\n  this.isPropagationStopped = emptyFunction.thatReturnsFalse;\n  return this;\n}\n\n_assign(SyntheticEvent.prototype, {\n\n  preventDefault: function () {\n    this.defaultPrevented = true;\n    var event = this.nativeEvent;\n    if (!event) {\n      return;\n    }\n\n    if (event.preventDefault) {\n      event.preventDefault();\n    } else if (typeof event.returnValue !== 'unknown') {\n      // eslint-disable-line valid-typeof\n      event.returnValue = false;\n    }\n    this.isDefaultPrevented = emptyFunction.thatReturnsTrue;\n  },\n\n  stopPropagation: function () {\n    var event = this.nativeEvent;\n    if (!event) {\n      return;\n    }\n\n    if (event.stopPropagation) {\n      event.stopPropagation();\n    } else if (typeof event.cancelBubble !== 'unknown') {\n      // eslint-disable-line valid-typeof\n      // The ChangeEventPlugin registers a \"propertychange\" event for\n      // IE. This event does not support bubbling or cancelling, and\n      // any references to cancelBubble throw \"Member not found\".  A\n      // typeof check of \"unknown\" circumvents this issue (and is also\n      // IE specific).\n      event.cancelBubble = true;\n    }\n\n    this.isPropagationStopped = emptyFunction.thatReturnsTrue;\n  },\n\n  /**\n   * We release all dispatched `SyntheticEvent`s after each event loop, adding\n   * them back into the pool. This allows a way to hold onto a reference that\n   * won't be added back into the pool.\n   */\n  persist: function () {\n    this.isPersistent = emptyFunction.thatReturnsTrue;\n  },\n\n  /**\n   * Checks if this event should be released back into the pool.\n   *\n   * @return {boolean} True if this should not be released, false otherwise.\n   */\n  isPersistent: emptyFunction.thatReturnsFalse,\n\n  /**\n   * `PooledClass` looks for `destructor` on each instance it releases.\n   */\n  destructor: function () {\n    var Interface = this.constructor.Interface;\n    for (var propName in Interface) {\n      if (process.env.NODE_ENV !== 'production') {\n        Object.defineProperty(this, propName, getPooledWarningPropertyDefinition(propName, Interface[propName]));\n      } else {\n        this[propName] = null;\n      }\n    }\n    for (var i = 0; i < shouldBeReleasedProperties.length; i++) {\n      this[shouldBeReleasedProperties[i]] = null;\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      Object.defineProperty(this, 'nativeEvent', getPooledWarningPropertyDefinition('nativeEvent', null));\n      Object.defineProperty(this, 'preventDefault', getPooledWarningPropertyDefinition('preventDefault', emptyFunction));\n      Object.defineProperty(this, 'stopPropagation', getPooledWarningPropertyDefinition('stopPropagation', emptyFunction));\n    }\n  }\n\n});\n\nSyntheticEvent.Interface = EventInterface;\n\nif (process.env.NODE_ENV !== 'production') {\n  if (isProxySupported) {\n    /*eslint-disable no-func-assign */\n    SyntheticEvent = new Proxy(SyntheticEvent, {\n      construct: function (target, args) {\n        return this.apply(target, Object.create(target.prototype), args);\n      },\n      apply: function (constructor, that, args) {\n        return new Proxy(constructor.apply(that, args), {\n          set: function (target, prop, value) {\n            if (prop !== 'isPersistent' && !target.constructor.Interface.hasOwnProperty(prop) && shouldBeReleasedProperties.indexOf(prop) === -1) {\n              process.env.NODE_ENV !== 'production' ? warning(didWarnForAddedNewProperty || target.isPersistent(), 'This synthetic event is reused for performance reasons. If you\\'re ' + 'seeing this, you\\'re adding a new property in the synthetic event object. ' + 'The property is never released. See ' + 'https://fb.me/react-event-pooling for more information.') : void 0;\n              didWarnForAddedNewProperty = true;\n            }\n            target[prop] = value;\n            return true;\n          }\n        });\n      }\n    });\n    /*eslint-enable no-func-assign */\n  }\n}\n/**\n * Helper to reduce boilerplate when creating subclasses.\n *\n * @param {function} Class\n * @param {?object} Interface\n */\nSyntheticEvent.augmentClass = function (Class, Interface) {\n  var Super = this;\n\n  var E = function () {};\n  E.prototype = Super.prototype;\n  var prototype = new E();\n\n  _assign(prototype, Class.prototype);\n  Class.prototype = prototype;\n  Class.prototype.constructor = Class;\n\n  Class.Interface = _assign({}, Super.Interface, Interface);\n  Class.augmentClass = Super.augmentClass;\n\n  PooledClass.addPoolingTo(Class, PooledClass.fourArgumentPooler);\n};\n\nPooledClass.addPoolingTo(SyntheticEvent, PooledClass.fourArgumentPooler);\n\nmodule.exports = SyntheticEvent;\n\n/**\n  * Helper to nullify syntheticEvent instance properties when destructing\n  *\n  * @param {object} SyntheticEvent\n  * @param {String} propName\n  * @return {object} defineProperty object\n  */\nfunction getPooledWarningPropertyDefinition(propName, getVal) {\n  var isFunction = typeof getVal === 'function';\n  return {\n    configurable: true,\n    set: set,\n    get: get\n  };\n\n  function set(val) {\n    var action = isFunction ? 'setting the method' : 'setting the property';\n    warn(action, 'This is effectively a no-op');\n    return val;\n  }\n\n  function get() {\n    var action = isFunction ? 'accessing the method' : 'accessing the property';\n    var result = isFunction ? 'This is a no-op function' : 'This is set to null';\n    warn(action, result);\n    return getVal;\n  }\n\n  function warn(action, result) {\n    var warningCondition = false;\n    process.env.NODE_ENV !== 'production' ? warning(warningCondition, 'This synthetic event is reused for performance reasons. If you\\'re seeing this, ' + 'you\\'re %s `%s` on a released/nullified synthetic event. %s. ' + 'If you must keep the original synthetic event around, use event.persist(). ' + 'See https://fb.me/react-event-pooling for more information.', action, propName, result) : void 0;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/SyntheticEvent.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar SyntheticEvent = require('./SyntheticEvent');\n\n/**\n * @interface Event\n * @see http://www.w3.org/TR/2013/WD-DOM-Level-3-Events-20131105\n *      /#events-inputevents\n */\nvar InputEventInterface = {\n  data: null\n};\n\n/**\n * @param {object} dispatchConfig Configuration used to dispatch this event.\n * @param {string} dispatchMarker Marker identifying the event target.\n * @param {object} nativeEvent Native browser event.\n * @extends {SyntheticUIEvent}\n */\nfunction SyntheticInputEvent(dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget) {\n  return SyntheticEvent.call(this, dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget);\n}\n\nSyntheticEvent.augmentClass(SyntheticInputEvent, InputEventInterface);\n\nmodule.exports = SyntheticInputEvent;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/SyntheticInputEvent.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar EventPluginHub = require('./EventPluginHub');\nvar EventPropagators = require('./EventPropagators');\nvar ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment');\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\nvar ReactUpdates = require('./ReactUpdates');\nvar SyntheticEvent = require('./SyntheticEvent');\n\nvar getEventTarget = require('./getEventTarget');\nvar isEventSupported = require('./isEventSupported');\nvar isTextInputElement = require('./isTextInputElement');\n\nvar eventTypes = {\n  change: {\n    phasedRegistrationNames: {\n      bubbled: 'onChange',\n      captured: 'onChangeCapture'\n    },\n    dependencies: ['topBlur', 'topChange', 'topClick', 'topFocus', 'topInput', 'topKeyDown', 'topKeyUp', 'topSelectionChange']\n  }\n};\n\n/**\n * For IE shims\n */\nvar activeElement = null;\nvar activeElementInst = null;\nvar activeElementValue = null;\nvar activeElementValueProp = null;\n\n/**\n * SECTION: handle `change` event\n */\nfunction shouldUseChangeEvent(elem) {\n  var nodeName = elem.nodeName && elem.nodeName.toLowerCase();\n  return nodeName === 'select' || nodeName === 'input' && elem.type === 'file';\n}\n\nvar doesChangeEventBubble = false;\nif (ExecutionEnvironment.canUseDOM) {\n  // See `handleChange` comment below\n  doesChangeEventBubble = isEventSupported('change') && (!document.documentMode || document.documentMode > 8);\n}\n\nfunction manualDispatchChangeEvent(nativeEvent) {\n  var event = SyntheticEvent.getPooled(eventTypes.change, activeElementInst, nativeEvent, getEventTarget(nativeEvent));\n  EventPropagators.accumulateTwoPhaseDispatches(event);\n\n  // If change and propertychange bubbled, we'd just bind to it like all the\n  // other events and have it go through ReactBrowserEventEmitter. Since it\n  // doesn't, we manually listen for the events and so we have to enqueue and\n  // process the abstract event manually.\n  //\n  // Batching is necessary here in order to ensure that all event handlers run\n  // before the next rerender (including event handlers attached to ancestor\n  // elements instead of directly on the input). Without this, controlled\n  // components don't work properly in conjunction with event bubbling because\n  // the component is rerendered and the value reverted before all the event\n  // handlers can run. See https://github.com/facebook/react/issues/708.\n  ReactUpdates.batchedUpdates(runEventInBatch, event);\n}\n\nfunction runEventInBatch(event) {\n  EventPluginHub.enqueueEvents(event);\n  EventPluginHub.processEventQueue(false);\n}\n\nfunction startWatchingForChangeEventIE8(target, targetInst) {\n  activeElement = target;\n  activeElementInst = targetInst;\n  activeElement.attachEvent('onchange', manualDispatchChangeEvent);\n}\n\nfunction stopWatchingForChangeEventIE8() {\n  if (!activeElement) {\n    return;\n  }\n  activeElement.detachEvent('onchange', manualDispatchChangeEvent);\n  activeElement = null;\n  activeElementInst = null;\n}\n\nfunction getTargetInstForChangeEvent(topLevelType, targetInst) {\n  if (topLevelType === 'topChange') {\n    return targetInst;\n  }\n}\nfunction handleEventsForChangeEventIE8(topLevelType, target, targetInst) {\n  if (topLevelType === 'topFocus') {\n    // stopWatching() should be a noop here but we call it just in case we\n    // missed a blur event somehow.\n    stopWatchingForChangeEventIE8();\n    startWatchingForChangeEventIE8(target, targetInst);\n  } else if (topLevelType === 'topBlur') {\n    stopWatchingForChangeEventIE8();\n  }\n}\n\n/**\n * SECTION: handle `input` event\n */\nvar isInputEventSupported = false;\nif (ExecutionEnvironment.canUseDOM) {\n  // IE9 claims to support the input event but fails to trigger it when\n  // deleting text, so we ignore its input events.\n  // IE10+ fire input events to often, such when a placeholder\n  // changes or when an input with a placeholder is focused.\n  isInputEventSupported = isEventSupported('input') && (!document.documentMode || document.documentMode > 11);\n}\n\n/**\n * (For IE <=11) Replacement getter/setter for the `value` property that gets\n * set on the active element.\n */\nvar newValueProp = {\n  get: function () {\n    return activeElementValueProp.get.call(this);\n  },\n  set: function (val) {\n    // Cast to a string so we can do equality checks.\n    activeElementValue = '' + val;\n    activeElementValueProp.set.call(this, val);\n  }\n};\n\n/**\n * (For IE <=11) Starts tracking propertychange events on the passed-in element\n * and override the value property so that we can distinguish user events from\n * value changes in JS.\n */\nfunction startWatchingForValueChange(target, targetInst) {\n  activeElement = target;\n  activeElementInst = targetInst;\n  activeElementValue = target.value;\n  activeElementValueProp = Object.getOwnPropertyDescriptor(target.constructor.prototype, 'value');\n\n  // Not guarded in a canDefineProperty check: IE8 supports defineProperty only\n  // on DOM elements\n  Object.defineProperty(activeElement, 'value', newValueProp);\n  if (activeElement.attachEvent) {\n    activeElement.attachEvent('onpropertychange', handlePropertyChange);\n  } else {\n    activeElement.addEventListener('propertychange', handlePropertyChange, false);\n  }\n}\n\n/**\n * (For IE <=11) Removes the event listeners from the currently-tracked element,\n * if any exists.\n */\nfunction stopWatchingForValueChange() {\n  if (!activeElement) {\n    return;\n  }\n\n  // delete restores the original property definition\n  delete activeElement.value;\n\n  if (activeElement.detachEvent) {\n    activeElement.detachEvent('onpropertychange', handlePropertyChange);\n  } else {\n    activeElement.removeEventListener('propertychange', handlePropertyChange, false);\n  }\n\n  activeElement = null;\n  activeElementInst = null;\n  activeElementValue = null;\n  activeElementValueProp = null;\n}\n\n/**\n * (For IE <=11) Handles a propertychange event, sending a `change` event if\n * the value of the active element has changed.\n */\nfunction handlePropertyChange(nativeEvent) {\n  if (nativeEvent.propertyName !== 'value') {\n    return;\n  }\n  var value = nativeEvent.srcElement.value;\n  if (value === activeElementValue) {\n    return;\n  }\n  activeElementValue = value;\n\n  manualDispatchChangeEvent(nativeEvent);\n}\n\n/**\n * If a `change` event should be fired, returns the target's ID.\n */\nfunction getTargetInstForInputEvent(topLevelType, targetInst) {\n  if (topLevelType === 'topInput') {\n    // In modern browsers (i.e., not IE8 or IE9), the input event is exactly\n    // what we want so fall through here and trigger an abstract event\n    return targetInst;\n  }\n}\n\nfunction handleEventsForInputEventIE(topLevelType, target, targetInst) {\n  if (topLevelType === 'topFocus') {\n    // In IE8, we can capture almost all .value changes by adding a\n    // propertychange handler and looking for events with propertyName\n    // equal to 'value'\n    // In IE9-11, propertychange fires for most input events but is buggy and\n    // doesn't fire when text is deleted, but conveniently, selectionchange\n    // appears to fire in all of the remaining cases so we catch those and\n    // forward the event if the value has changed\n    // In either case, we don't want to call the event handler if the value\n    // is changed from JS so we redefine a setter for `.value` that updates\n    // our activeElementValue variable, allowing us to ignore those changes\n    //\n    // stopWatching() should be a noop here but we call it just in case we\n    // missed a blur event somehow.\n    stopWatchingForValueChange();\n    startWatchingForValueChange(target, targetInst);\n  } else if (topLevelType === 'topBlur') {\n    stopWatchingForValueChange();\n  }\n}\n\n// For IE8 and IE9.\nfunction getTargetInstForInputEventIE(topLevelType, targetInst) {\n  if (topLevelType === 'topSelectionChange' || topLevelType === 'topKeyUp' || topLevelType === 'topKeyDown') {\n    // On the selectionchange event, the target is just document which isn't\n    // helpful for us so just check activeElement instead.\n    //\n    // 99% of the time, keydown and keyup aren't necessary. IE8 fails to fire\n    // propertychange on the first input event after setting `value` from a\n    // script and fires only keydown, keypress, keyup. Catching keyup usually\n    // gets it and catching keydown lets us fire an event for the first\n    // keystroke if user does a key repeat (it'll be a little delayed: right\n    // before the second keystroke). Other input methods (e.g., paste) seem to\n    // fire selectionchange normally.\n    if (activeElement && activeElement.value !== activeElementValue) {\n      activeElementValue = activeElement.value;\n      return activeElementInst;\n    }\n  }\n}\n\n/**\n * SECTION: handle `click` event\n */\nfunction shouldUseClickEvent(elem) {\n  // Use the `click` event to detect changes to checkbox and radio inputs.\n  // This approach works across all browsers, whereas `change` does not fire\n  // until `blur` in IE8.\n  return elem.nodeName && elem.nodeName.toLowerCase() === 'input' && (elem.type === 'checkbox' || elem.type === 'radio');\n}\n\nfunction getTargetInstForClickEvent(topLevelType, targetInst) {\n  if (topLevelType === 'topClick') {\n    return targetInst;\n  }\n}\n\n/**\n * This plugin creates an `onChange` event that normalizes change events\n * across form elements. This event fires at a time when it's possible to\n * change the element's value without seeing a flicker.\n *\n * Supported elements are:\n * - input (see `isTextInputElement`)\n * - textarea\n * - select\n */\nvar ChangeEventPlugin = {\n\n  eventTypes: eventTypes,\n\n  extractEvents: function (topLevelType, targetInst, nativeEvent, nativeEventTarget) {\n    var targetNode = targetInst ? ReactDOMComponentTree.getNodeFromInstance(targetInst) : window;\n\n    var getTargetInstFunc, handleEventFunc;\n    if (shouldUseChangeEvent(targetNode)) {\n      if (doesChangeEventBubble) {\n        getTargetInstFunc = getTargetInstForChangeEvent;\n      } else {\n        handleEventFunc = handleEventsForChangeEventIE8;\n      }\n    } else if (isTextInputElement(targetNode)) {\n      if (isInputEventSupported) {\n        getTargetInstFunc = getTargetInstForInputEvent;\n      } else {\n        getTargetInstFunc = getTargetInstForInputEventIE;\n        handleEventFunc = handleEventsForInputEventIE;\n      }\n    } else if (shouldUseClickEvent(targetNode)) {\n      getTargetInstFunc = getTargetInstForClickEvent;\n    }\n\n    if (getTargetInstFunc) {\n      var inst = getTargetInstFunc(topLevelType, targetInst);\n      if (inst) {\n        var event = SyntheticEvent.getPooled(eventTypes.change, inst, nativeEvent, nativeEventTarget);\n        event.type = 'change';\n        EventPropagators.accumulateTwoPhaseDispatches(event);\n        return event;\n      }\n    }\n\n    if (handleEventFunc) {\n      handleEventFunc(topLevelType, targetNode, targetInst);\n    }\n  }\n\n};\n\nmodule.exports = ChangeEventPlugin;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ChangeEventPlugin.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant'),\n    _assign = require('object-assign');\n\nvar CallbackQueue = require('./CallbackQueue');\nvar PooledClass = require('./PooledClass');\nvar ReactFeatureFlags = require('./ReactFeatureFlags');\nvar ReactReconciler = require('./ReactReconciler');\nvar Transaction = require('./Transaction');\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar dirtyComponents = [];\nvar updateBatchNumber = 0;\nvar asapCallbackQueue = CallbackQueue.getPooled();\nvar asapEnqueued = false;\n\nvar batchingStrategy = null;\n\nfunction ensureInjected() {\n  !(ReactUpdates.ReactReconcileTransaction && batchingStrategy) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactUpdates: must inject a reconcile transaction class and batching strategy') : _prodInvariant('123') : void 0;\n}\n\nvar NESTED_UPDATES = {\n  initialize: function () {\n    this.dirtyComponentsLength = dirtyComponents.length;\n  },\n  close: function () {\n    if (this.dirtyComponentsLength !== dirtyComponents.length) {\n      // Additional updates were enqueued by componentDidUpdate handlers or\n      // similar; before our own UPDATE_QUEUEING wrapper closes, we want to run\n      // these new updates so that if A's componentDidUpdate calls setState on\n      // B, B will update before the callback A's updater provided when calling\n      // setState.\n      dirtyComponents.splice(0, this.dirtyComponentsLength);\n      flushBatchedUpdates();\n    } else {\n      dirtyComponents.length = 0;\n    }\n  }\n};\n\nvar UPDATE_QUEUEING = {\n  initialize: function () {\n    this.callbackQueue.reset();\n  },\n  close: function () {\n    this.callbackQueue.notifyAll();\n  }\n};\n\nvar TRANSACTION_WRAPPERS = [NESTED_UPDATES, UPDATE_QUEUEING];\n\nfunction ReactUpdatesFlushTransaction() {\n  this.reinitializeTransaction();\n  this.dirtyComponentsLength = null;\n  this.callbackQueue = CallbackQueue.getPooled();\n  this.reconcileTransaction = ReactUpdates.ReactReconcileTransaction.getPooled(\n  /* useCreateElement */true);\n}\n\n_assign(ReactUpdatesFlushTransaction.prototype, Transaction, {\n  getTransactionWrappers: function () {\n    return TRANSACTION_WRAPPERS;\n  },\n\n  destructor: function () {\n    this.dirtyComponentsLength = null;\n    CallbackQueue.release(this.callbackQueue);\n    this.callbackQueue = null;\n    ReactUpdates.ReactReconcileTransaction.release(this.reconcileTransaction);\n    this.reconcileTransaction = null;\n  },\n\n  perform: function (method, scope, a) {\n    // Essentially calls `this.reconcileTransaction.perform(method, scope, a)`\n    // with this transaction's wrappers around it.\n    return Transaction.perform.call(this, this.reconcileTransaction.perform, this.reconcileTransaction, method, scope, a);\n  }\n});\n\nPooledClass.addPoolingTo(ReactUpdatesFlushTransaction);\n\nfunction batchedUpdates(callback, a, b, c, d, e) {\n  ensureInjected();\n  return batchingStrategy.batchedUpdates(callback, a, b, c, d, e);\n}\n\n/**\n * Array comparator for ReactComponents by mount ordering.\n *\n * @param {ReactComponent} c1 first component you're comparing\n * @param {ReactComponent} c2 second component you're comparing\n * @return {number} Return value usable by Array.prototype.sort().\n */\nfunction mountOrderComparator(c1, c2) {\n  return c1._mountOrder - c2._mountOrder;\n}\n\nfunction runBatchedUpdates(transaction) {\n  var len = transaction.dirtyComponentsLength;\n  !(len === dirtyComponents.length) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Expected flush transaction\\'s stored dirty-components length (%s) to match dirty-components array length (%s).', len, dirtyComponents.length) : _prodInvariant('124', len, dirtyComponents.length) : void 0;\n\n  // Since reconciling a component higher in the owner hierarchy usually (not\n  // always -- see shouldComponentUpdate()) will reconcile children, reconcile\n  // them before their children by sorting the array.\n  dirtyComponents.sort(mountOrderComparator);\n\n  // Any updates enqueued while reconciling must be performed after this entire\n  // batch. Otherwise, if dirtyComponents is [A, B] where A has children B and\n  // C, B could update twice in a single batch if C's render enqueues an update\n  // to B (since B would have already updated, we should skip it, and the only\n  // way we can know to do so is by checking the batch counter).\n  updateBatchNumber++;\n\n  for (var i = 0; i < len; i++) {\n    // If a component is unmounted before pending changes apply, it will still\n    // be here, but we assume that it has cleared its _pendingCallbacks and\n    // that performUpdateIfNecessary is a noop.\n    var component = dirtyComponents[i];\n\n    // If performUpdateIfNecessary happens to enqueue any new updates, we\n    // shouldn't execute the callbacks until the next render happens, so\n    // stash the callbacks first\n    var callbacks = component._pendingCallbacks;\n    component._pendingCallbacks = null;\n\n    var markerName;\n    if (ReactFeatureFlags.logTopLevelRenders) {\n      var namedComponent = component;\n      // Duck type TopLevelWrapper. This is probably always true.\n      if (component._currentElement.type.isReactTopLevelWrapper) {\n        namedComponent = component._renderedComponent;\n      }\n      markerName = 'React update: ' + namedComponent.getName();\n      console.time(markerName);\n    }\n\n    ReactReconciler.performUpdateIfNecessary(component, transaction.reconcileTransaction, updateBatchNumber);\n\n    if (markerName) {\n      console.timeEnd(markerName);\n    }\n\n    if (callbacks) {\n      for (var j = 0; j < callbacks.length; j++) {\n        transaction.callbackQueue.enqueue(callbacks[j], component.getPublicInstance());\n      }\n    }\n  }\n}\n\nvar flushBatchedUpdates = function () {\n  // ReactUpdatesFlushTransaction's wrappers will clear the dirtyComponents\n  // array and perform any updates enqueued by mount-ready handlers (i.e.,\n  // componentDidUpdate) but we need to check here too in order to catch\n  // updates enqueued by setState callbacks and asap calls.\n  while (dirtyComponents.length || asapEnqueued) {\n    if (dirtyComponents.length) {\n      var transaction = ReactUpdatesFlushTransaction.getPooled();\n      transaction.perform(runBatchedUpdates, null, transaction);\n      ReactUpdatesFlushTransaction.release(transaction);\n    }\n\n    if (asapEnqueued) {\n      asapEnqueued = false;\n      var queue = asapCallbackQueue;\n      asapCallbackQueue = CallbackQueue.getPooled();\n      queue.notifyAll();\n      CallbackQueue.release(queue);\n    }\n  }\n};\n\n/**\n * Mark a component as needing a rerender, adding an optional callback to a\n * list of functions which will be executed once the rerender occurs.\n */\nfunction enqueueUpdate(component) {\n  ensureInjected();\n\n  // Various parts of our code (such as ReactCompositeComponent's\n  // _renderValidatedComponent) assume that calls to render aren't nested;\n  // verify that that's the case. (This is called by each top-level update\n  // function, like setState, forceUpdate, etc.; creation and\n  // destruction of top-level components is guarded in ReactMount.)\n\n  if (!batchingStrategy.isBatchingUpdates) {\n    batchingStrategy.batchedUpdates(enqueueUpdate, component);\n    return;\n  }\n\n  dirtyComponents.push(component);\n  if (component._updateBatchNumber == null) {\n    component._updateBatchNumber = updateBatchNumber + 1;\n  }\n}\n\n/**\n * Enqueue a callback to be run at the end of the current batching cycle. Throws\n * if no updates are currently being performed.\n */\nfunction asap(callback, context) {\n  !batchingStrategy.isBatchingUpdates ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactUpdates.asap: Can\\'t enqueue an asap callback in a context whereupdates are not being batched.') : _prodInvariant('125') : void 0;\n  asapCallbackQueue.enqueue(callback, context);\n  asapEnqueued = true;\n}\n\nvar ReactUpdatesInjection = {\n  injectReconcileTransaction: function (ReconcileTransaction) {\n    !ReconcileTransaction ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactUpdates: must provide a reconcile transaction class') : _prodInvariant('126') : void 0;\n    ReactUpdates.ReactReconcileTransaction = ReconcileTransaction;\n  },\n\n  injectBatchingStrategy: function (_batchingStrategy) {\n    !_batchingStrategy ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactUpdates: must provide a batching strategy') : _prodInvariant('127') : void 0;\n    !(typeof _batchingStrategy.batchedUpdates === 'function') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactUpdates: must provide a batchedUpdates() function') : _prodInvariant('128') : void 0;\n    !(typeof _batchingStrategy.isBatchingUpdates === 'boolean') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactUpdates: must provide an isBatchingUpdates boolean attribute') : _prodInvariant('129') : void 0;\n    batchingStrategy = _batchingStrategy;\n  }\n};\n\nvar ReactUpdates = {\n  /**\n   * React references `ReactReconcileTransaction` using this property in order\n   * to allow dependency injection.\n   *\n   * @internal\n   */\n  ReactReconcileTransaction: null,\n\n  batchedUpdates: batchedUpdates,\n  enqueueUpdate: enqueueUpdate,\n  flushBatchedUpdates: flushBatchedUpdates,\n  injection: ReactUpdatesInjection,\n  asap: asap\n};\n\nmodule.exports = ReactUpdates;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactUpdates.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PooledClass = require('./PooledClass');\n\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * A specialized pseudo-event module to help keep track of components waiting to\n * be notified when their DOM representations are available for use.\n *\n * This implements `PooledClass`, so you should never need to instantiate this.\n * Instead, use `CallbackQueue.getPooled()`.\n *\n * @class ReactMountReady\n * @implements PooledClass\n * @internal\n */\n\nvar CallbackQueue = function () {\n  function CallbackQueue(arg) {\n    _classCallCheck(this, CallbackQueue);\n\n    this._callbacks = null;\n    this._contexts = null;\n    this._arg = arg;\n  }\n\n  /**\n   * Enqueues a callback to be invoked when `notifyAll` is invoked.\n   *\n   * @param {function} callback Invoked when `notifyAll` is invoked.\n   * @param {?object} context Context to call `callback` with.\n   * @internal\n   */\n\n\n  CallbackQueue.prototype.enqueue = function enqueue(callback, context) {\n    this._callbacks = this._callbacks || [];\n    this._callbacks.push(callback);\n    this._contexts = this._contexts || [];\n    this._contexts.push(context);\n  };\n\n  /**\n   * Invokes all enqueued callbacks and clears the queue. This is invoked after\n   * the DOM representation of a component has been created or updated.\n   *\n   * @internal\n   */\n\n\n  CallbackQueue.prototype.notifyAll = function notifyAll() {\n    var callbacks = this._callbacks;\n    var contexts = this._contexts;\n    var arg = this._arg;\n    if (callbacks && contexts) {\n      !(callbacks.length === contexts.length) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Mismatched list of contexts in callback queue') : _prodInvariant('24') : void 0;\n      this._callbacks = null;\n      this._contexts = null;\n      for (var i = 0; i < callbacks.length; i++) {\n        callbacks[i].call(contexts[i], arg);\n      }\n      callbacks.length = 0;\n      contexts.length = 0;\n    }\n  };\n\n  CallbackQueue.prototype.checkpoint = function checkpoint() {\n    return this._callbacks ? this._callbacks.length : 0;\n  };\n\n  CallbackQueue.prototype.rollback = function rollback(len) {\n    if (this._callbacks && this._contexts) {\n      this._callbacks.length = len;\n      this._contexts.length = len;\n    }\n  };\n\n  /**\n   * Resets the internal queue.\n   *\n   * @internal\n   */\n\n\n  CallbackQueue.prototype.reset = function reset() {\n    this._callbacks = null;\n    this._contexts = null;\n  };\n\n  /**\n   * `PooledClass` looks for this.\n   */\n\n\n  CallbackQueue.prototype.destructor = function destructor() {\n    this.reset();\n  };\n\n  return CallbackQueue;\n}();\n\nmodule.exports = PooledClass.addPoolingTo(CallbackQueue);\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/CallbackQueue.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar ReactFeatureFlags = {\n  // When true, call console.time() before and .timeEnd() after each top-level\n  // render (both initial renders and updates). Useful when looking at prod-mode\n  // timeline profiles in Chrome, for example.\n  logTopLevelRenders: false\n};\n\nmodule.exports = ReactFeatureFlags;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactFeatureFlags.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar ReactRef = require('./ReactRef');\nvar ReactInstrumentation = require('./ReactInstrumentation');\n\nvar warning = require('fbjs/lib/warning');\n\n/**\n * Helper to call ReactRef.attachRefs with this composite component, split out\n * to avoid allocations in the transaction mount-ready queue.\n */\nfunction attachRefs() {\n  ReactRef.attachRefs(this, this._currentElement);\n}\n\nvar ReactReconciler = {\n\n  /**\n   * Initializes the component, renders markup, and registers event listeners.\n   *\n   * @param {ReactComponent} internalInstance\n   * @param {ReactReconcileTransaction|ReactServerRenderingTransaction} transaction\n   * @param {?object} the containing host component instance\n   * @param {?object} info about the host container\n   * @return {?string} Rendered markup to be inserted into the DOM.\n   * @final\n   * @internal\n   */\n  mountComponent: function (internalInstance, transaction, hostParent, hostContainerInfo, context, parentDebugID // 0 in production and for roots\n  ) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (internalInstance._debugID !== 0) {\n        ReactInstrumentation.debugTool.onBeforeMountComponent(internalInstance._debugID, internalInstance._currentElement, parentDebugID);\n      }\n    }\n    var markup = internalInstance.mountComponent(transaction, hostParent, hostContainerInfo, context, parentDebugID);\n    if (internalInstance._currentElement && internalInstance._currentElement.ref != null) {\n      transaction.getReactMountReady().enqueue(attachRefs, internalInstance);\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      if (internalInstance._debugID !== 0) {\n        ReactInstrumentation.debugTool.onMountComponent(internalInstance._debugID);\n      }\n    }\n    return markup;\n  },\n\n  /**\n   * Returns a value that can be passed to\n   * ReactComponentEnvironment.replaceNodeWithMarkup.\n   */\n  getHostNode: function (internalInstance) {\n    return internalInstance.getHostNode();\n  },\n\n  /**\n   * Releases any resources allocated by `mountComponent`.\n   *\n   * @final\n   * @internal\n   */\n  unmountComponent: function (internalInstance, safely) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (internalInstance._debugID !== 0) {\n        ReactInstrumentation.debugTool.onBeforeUnmountComponent(internalInstance._debugID);\n      }\n    }\n    ReactRef.detachRefs(internalInstance, internalInstance._currentElement);\n    internalInstance.unmountComponent(safely);\n    if (process.env.NODE_ENV !== 'production') {\n      if (internalInstance._debugID !== 0) {\n        ReactInstrumentation.debugTool.onUnmountComponent(internalInstance._debugID);\n      }\n    }\n  },\n\n  /**\n   * Update a component using a new element.\n   *\n   * @param {ReactComponent} internalInstance\n   * @param {ReactElement} nextElement\n   * @param {ReactReconcileTransaction} transaction\n   * @param {object} context\n   * @internal\n   */\n  receiveComponent: function (internalInstance, nextElement, transaction, context) {\n    var prevElement = internalInstance._currentElement;\n\n    if (nextElement === prevElement && context === internalInstance._context) {\n      // Since elements are immutable after the owner is rendered,\n      // we can do a cheap identity compare here to determine if this is a\n      // superfluous reconcile. It's possible for state to be mutable but such\n      // change should trigger an update of the owner which would recreate\n      // the element. We explicitly check for the existence of an owner since\n      // it's possible for an element created outside a composite to be\n      // deeply mutated and reused.\n\n      // TODO: Bailing out early is just a perf optimization right?\n      // TODO: Removing the return statement should affect correctness?\n      return;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (internalInstance._debugID !== 0) {\n        ReactInstrumentation.debugTool.onBeforeUpdateComponent(internalInstance._debugID, nextElement);\n      }\n    }\n\n    var refsChanged = ReactRef.shouldUpdateRefs(prevElement, nextElement);\n\n    if (refsChanged) {\n      ReactRef.detachRefs(internalInstance, prevElement);\n    }\n\n    internalInstance.receiveComponent(nextElement, transaction, context);\n\n    if (refsChanged && internalInstance._currentElement && internalInstance._currentElement.ref != null) {\n      transaction.getReactMountReady().enqueue(attachRefs, internalInstance);\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (internalInstance._debugID !== 0) {\n        ReactInstrumentation.debugTool.onUpdateComponent(internalInstance._debugID);\n      }\n    }\n  },\n\n  /**\n   * Flush any dirty changes in a component.\n   *\n   * @param {ReactComponent} internalInstance\n   * @param {ReactReconcileTransaction} transaction\n   * @internal\n   */\n  performUpdateIfNecessary: function (internalInstance, transaction, updateBatchNumber) {\n    if (internalInstance._updateBatchNumber !== updateBatchNumber) {\n      // The component's enqueued batch number should always be the current\n      // batch or the following one.\n      process.env.NODE_ENV !== 'production' ? warning(internalInstance._updateBatchNumber == null || internalInstance._updateBatchNumber === updateBatchNumber + 1, 'performUpdateIfNecessary: Unexpected batch number (current %s, ' + 'pending %s)', updateBatchNumber, internalInstance._updateBatchNumber) : void 0;\n      return;\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      if (internalInstance._debugID !== 0) {\n        ReactInstrumentation.debugTool.onBeforeUpdateComponent(internalInstance._debugID, internalInstance._currentElement);\n      }\n    }\n    internalInstance.performUpdateIfNecessary(transaction);\n    if (process.env.NODE_ENV !== 'production') {\n      if (internalInstance._debugID !== 0) {\n        ReactInstrumentation.debugTool.onUpdateComponent(internalInstance._debugID);\n      }\n    }\n  }\n\n};\n\nmodule.exports = ReactReconciler;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactReconciler.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar ReactOwner = require('./ReactOwner');\n\nvar ReactRef = {};\n\nfunction attachRef(ref, component, owner) {\n  if (typeof ref === 'function') {\n    ref(component.getPublicInstance());\n  } else {\n    // Legacy ref\n    ReactOwner.addComponentAsRefTo(component, ref, owner);\n  }\n}\n\nfunction detachRef(ref, component, owner) {\n  if (typeof ref === 'function') {\n    ref(null);\n  } else {\n    // Legacy ref\n    ReactOwner.removeComponentAsRefFrom(component, ref, owner);\n  }\n}\n\nReactRef.attachRefs = function (instance, element) {\n  if (element === null || typeof element !== 'object') {\n    return;\n  }\n  var ref = element.ref;\n  if (ref != null) {\n    attachRef(ref, instance, element._owner);\n  }\n};\n\nReactRef.shouldUpdateRefs = function (prevElement, nextElement) {\n  // If either the owner or a `ref` has changed, make sure the newest owner\n  // has stored a reference to `this`, and the previous owner (if different)\n  // has forgotten the reference to `this`. We use the element instead\n  // of the public this.props because the post processing cannot determine\n  // a ref. The ref conceptually lives on the element.\n\n  // TODO: Should this even be possible? The owner cannot change because\n  // it's forbidden by shouldUpdateReactComponent. The ref can change\n  // if you swap the keys of but not the refs. Reconsider where this check\n  // is made. It probably belongs where the key checking and\n  // instantiateReactComponent is done.\n\n  var prevRef = null;\n  var prevOwner = null;\n  if (prevElement !== null && typeof prevElement === 'object') {\n    prevRef = prevElement.ref;\n    prevOwner = prevElement._owner;\n  }\n\n  var nextRef = null;\n  var nextOwner = null;\n  if (nextElement !== null && typeof nextElement === 'object') {\n    nextRef = nextElement.ref;\n    nextOwner = nextElement._owner;\n  }\n\n  return prevRef !== nextRef ||\n  // If owner changes but we have an unchanged function ref, don't update refs\n  typeof nextRef === 'string' && nextOwner !== prevOwner;\n};\n\nReactRef.detachRefs = function (instance, element) {\n  if (element === null || typeof element !== 'object') {\n    return;\n  }\n  var ref = element.ref;\n  if (ref != null) {\n    detachRef(ref, instance, element._owner);\n  }\n};\n\nmodule.exports = ReactRef;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactRef.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * @param {?object} object\n * @return {boolean} True if `object` is a valid owner.\n * @final\n */\nfunction isValidOwner(object) {\n  return !!(object && typeof object.attachRef === 'function' && typeof object.detachRef === 'function');\n}\n\n/**\n * ReactOwners are capable of storing references to owned components.\n *\n * All components are capable of //being// referenced by owner components, but\n * only ReactOwner components are capable of //referencing// owned components.\n * The named reference is known as a \"ref\".\n *\n * Refs are available when mounted and updated during reconciliation.\n *\n *   var MyComponent = React.createClass({\n *     render: function() {\n *       return (\n *         <div onClick={this.handleClick}>\n *           <CustomComponent ref=\"custom\" />\n *         </div>\n *       );\n *     },\n *     handleClick: function() {\n *       this.refs.custom.handleClick();\n *     },\n *     componentDidMount: function() {\n *       this.refs.custom.initialize();\n *     }\n *   });\n *\n * Refs should rarely be used. When refs are used, they should only be done to\n * control data that is not handled by React's data flow.\n *\n * @class ReactOwner\n */\nvar ReactOwner = {\n  /**\n   * Adds a component by ref to an owner component.\n   *\n   * @param {ReactComponent} component Component to reference.\n   * @param {string} ref Name by which to refer to the component.\n   * @param {ReactOwner} owner Component on which to record the ref.\n   * @final\n   * @internal\n   */\n  addComponentAsRefTo: function (component, ref, owner) {\n    !isValidOwner(owner) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a component that was not created inside a component\\'s `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner).') : _prodInvariant('119') : void 0;\n    owner.attachRef(ref, component);\n  },\n\n  /**\n   * Removes a component by ref from an owner component.\n   *\n   * @param {ReactComponent} component Component to dereference.\n   * @param {string} ref Name of the ref to remove.\n   * @param {ReactOwner} owner Component on which the ref is recorded.\n   * @final\n   * @internal\n   */\n  removeComponentAsRefFrom: function (component, ref, owner) {\n    !isValidOwner(owner) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might be removing a ref to a component that was not created inside a component\\'s `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner).') : _prodInvariant('120') : void 0;\n    var ownerPublicInstance = owner.getPublicInstance();\n    // Check that `component`'s owner is still alive and that `component` is still the current ref\n    // because we do not want to detach the ref if another component stole it.\n    if (ownerPublicInstance && ownerPublicInstance.refs[ref] === component.getPublicInstance()) {\n      owner.detachRef(ref);\n    }\n  }\n\n};\n\nmodule.exports = ReactOwner;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactOwner.js","/**\n * Copyright 2016-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\n// Trust the developer to only use ReactInstrumentation with a __DEV__ check\n\nvar debugTool = null;\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactDebugTool = require('./ReactDebugTool');\n  debugTool = ReactDebugTool;\n}\n\nmodule.exports = { debugTool: debugTool };\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactInstrumentation.js","/**\n * Copyright 2016-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar ReactInvalidSetStateWarningHook = require('./ReactInvalidSetStateWarningHook');\nvar ReactHostOperationHistoryHook = require('./ReactHostOperationHistoryHook');\nvar ReactComponentTreeHook = require('react/lib/ReactComponentTreeHook');\nvar ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment');\n\nvar performanceNow = require('fbjs/lib/performanceNow');\nvar warning = require('fbjs/lib/warning');\n\nvar hooks = [];\nvar didHookThrowForEvent = {};\n\nfunction callHook(event, fn, context, arg1, arg2, arg3, arg4, arg5) {\n  try {\n    fn.call(context, arg1, arg2, arg3, arg4, arg5);\n  } catch (e) {\n    process.env.NODE_ENV !== 'production' ? warning(didHookThrowForEvent[event], 'Exception thrown by hook while handling %s: %s', event, e + '\\n' + e.stack) : void 0;\n    didHookThrowForEvent[event] = true;\n  }\n}\n\nfunction emitEvent(event, arg1, arg2, arg3, arg4, arg5) {\n  for (var i = 0; i < hooks.length; i++) {\n    var hook = hooks[i];\n    var fn = hook[event];\n    if (fn) {\n      callHook(event, fn, hook, arg1, arg2, arg3, arg4, arg5);\n    }\n  }\n}\n\nvar isProfiling = false;\nvar flushHistory = [];\nvar lifeCycleTimerStack = [];\nvar currentFlushNesting = 0;\nvar currentFlushMeasurements = [];\nvar currentFlushStartTime = 0;\nvar currentTimerDebugID = null;\nvar currentTimerStartTime = 0;\nvar currentTimerNestedFlushDuration = 0;\nvar currentTimerType = null;\n\nvar lifeCycleTimerHasWarned = false;\n\nfunction clearHistory() {\n  ReactComponentTreeHook.purgeUnmountedComponents();\n  ReactHostOperationHistoryHook.clearHistory();\n}\n\nfunction getTreeSnapshot(registeredIDs) {\n  return registeredIDs.reduce(function (tree, id) {\n    var ownerID = ReactComponentTreeHook.getOwnerID(id);\n    var parentID = ReactComponentTreeHook.getParentID(id);\n    tree[id] = {\n      displayName: ReactComponentTreeHook.getDisplayName(id),\n      text: ReactComponentTreeHook.getText(id),\n      updateCount: ReactComponentTreeHook.getUpdateCount(id),\n      childIDs: ReactComponentTreeHook.getChildIDs(id),\n      // Text nodes don't have owners but this is close enough.\n      ownerID: ownerID || parentID && ReactComponentTreeHook.getOwnerID(parentID) || 0,\n      parentID: parentID\n    };\n    return tree;\n  }, {});\n}\n\nfunction resetMeasurements() {\n  var previousStartTime = currentFlushStartTime;\n  var previousMeasurements = currentFlushMeasurements;\n  var previousOperations = ReactHostOperationHistoryHook.getHistory();\n\n  if (currentFlushNesting === 0) {\n    currentFlushStartTime = 0;\n    currentFlushMeasurements = [];\n    clearHistory();\n    return;\n  }\n\n  if (previousMeasurements.length || previousOperations.length) {\n    var registeredIDs = ReactComponentTreeHook.getRegisteredIDs();\n    flushHistory.push({\n      duration: performanceNow() - previousStartTime,\n      measurements: previousMeasurements || [],\n      operations: previousOperations || [],\n      treeSnapshot: getTreeSnapshot(registeredIDs)\n    });\n  }\n\n  clearHistory();\n  currentFlushStartTime = performanceNow();\n  currentFlushMeasurements = [];\n}\n\nfunction checkDebugID(debugID) {\n  var allowRoot = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  if (allowRoot && debugID === 0) {\n    return;\n  }\n  if (!debugID) {\n    process.env.NODE_ENV !== 'production' ? warning(false, 'ReactDebugTool: debugID may not be empty.') : void 0;\n  }\n}\n\nfunction beginLifeCycleTimer(debugID, timerType) {\n  if (currentFlushNesting === 0) {\n    return;\n  }\n  if (currentTimerType && !lifeCycleTimerHasWarned) {\n    process.env.NODE_ENV !== 'production' ? warning(false, 'There is an internal error in the React performance measurement code. ' + 'Did not expect %s timer to start while %s timer is still in ' + 'progress for %s instance.', timerType, currentTimerType || 'no', debugID === currentTimerDebugID ? 'the same' : 'another') : void 0;\n    lifeCycleTimerHasWarned = true;\n  }\n  currentTimerStartTime = performanceNow();\n  currentTimerNestedFlushDuration = 0;\n  currentTimerDebugID = debugID;\n  currentTimerType = timerType;\n}\n\nfunction endLifeCycleTimer(debugID, timerType) {\n  if (currentFlushNesting === 0) {\n    return;\n  }\n  if (currentTimerType !== timerType && !lifeCycleTimerHasWarned) {\n    process.env.NODE_ENV !== 'production' ? warning(false, 'There is an internal error in the React performance measurement code. ' + 'We did not expect %s timer to stop while %s timer is still in ' + 'progress for %s instance. Please report this as a bug in React.', timerType, currentTimerType || 'no', debugID === currentTimerDebugID ? 'the same' : 'another') : void 0;\n    lifeCycleTimerHasWarned = true;\n  }\n  if (isProfiling) {\n    currentFlushMeasurements.push({\n      timerType: timerType,\n      instanceID: debugID,\n      duration: performanceNow() - currentTimerStartTime - currentTimerNestedFlushDuration\n    });\n  }\n  currentTimerStartTime = 0;\n  currentTimerNestedFlushDuration = 0;\n  currentTimerDebugID = null;\n  currentTimerType = null;\n}\n\nfunction pauseCurrentLifeCycleTimer() {\n  var currentTimer = {\n    startTime: currentTimerStartTime,\n    nestedFlushStartTime: performanceNow(),\n    debugID: currentTimerDebugID,\n    timerType: currentTimerType\n  };\n  lifeCycleTimerStack.push(currentTimer);\n  currentTimerStartTime = 0;\n  currentTimerNestedFlushDuration = 0;\n  currentTimerDebugID = null;\n  currentTimerType = null;\n}\n\nfunction resumeCurrentLifeCycleTimer() {\n  var _lifeCycleTimerStack$ = lifeCycleTimerStack.pop(),\n      startTime = _lifeCycleTimerStack$.startTime,\n      nestedFlushStartTime = _lifeCycleTimerStack$.nestedFlushStartTime,\n      debugID = _lifeCycleTimerStack$.debugID,\n      timerType = _lifeCycleTimerStack$.timerType;\n\n  var nestedFlushDuration = performanceNow() - nestedFlushStartTime;\n  currentTimerStartTime = startTime;\n  currentTimerNestedFlushDuration += nestedFlushDuration;\n  currentTimerDebugID = debugID;\n  currentTimerType = timerType;\n}\n\nvar lastMarkTimeStamp = 0;\nvar canUsePerformanceMeasure =\n// $FlowFixMe https://github.com/facebook/flow/issues/2345\ntypeof performance !== 'undefined' && typeof performance.mark === 'function' && typeof performance.clearMarks === 'function' && typeof performance.measure === 'function' && typeof performance.clearMeasures === 'function';\n\nfunction shouldMark(debugID) {\n  if (!isProfiling || !canUsePerformanceMeasure) {\n    return false;\n  }\n  var element = ReactComponentTreeHook.getElement(debugID);\n  if (element == null || typeof element !== 'object') {\n    return false;\n  }\n  var isHostElement = typeof element.type === 'string';\n  if (isHostElement) {\n    return false;\n  }\n  return true;\n}\n\nfunction markBegin(debugID, markType) {\n  if (!shouldMark(debugID)) {\n    return;\n  }\n\n  var markName = debugID + '::' + markType;\n  lastMarkTimeStamp = performanceNow();\n  performance.mark(markName);\n}\n\nfunction markEnd(debugID, markType) {\n  if (!shouldMark(debugID)) {\n    return;\n  }\n\n  var markName = debugID + '::' + markType;\n  var displayName = ReactComponentTreeHook.getDisplayName(debugID) || 'Unknown';\n\n  // Chrome has an issue of dropping markers recorded too fast:\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=640652\n  // To work around this, we will not report very small measurements.\n  // I determined the magic number by tweaking it back and forth.\n  // 0.05ms was enough to prevent the issue, but I set it to 0.1ms to be safe.\n  // When the bug is fixed, we can `measure()` unconditionally if we want to.\n  var timeStamp = performanceNow();\n  if (timeStamp - lastMarkTimeStamp > 0.1) {\n    var measurementName = displayName + ' [' + markType + ']';\n    performance.measure(measurementName, markName);\n  }\n\n  performance.clearMarks(markName);\n  performance.clearMeasures(measurementName);\n}\n\nvar ReactDebugTool = {\n  addHook: function (hook) {\n    hooks.push(hook);\n  },\n  removeHook: function (hook) {\n    for (var i = 0; i < hooks.length; i++) {\n      if (hooks[i] === hook) {\n        hooks.splice(i, 1);\n        i--;\n      }\n    }\n  },\n  isProfiling: function () {\n    return isProfiling;\n  },\n  beginProfiling: function () {\n    if (isProfiling) {\n      return;\n    }\n\n    isProfiling = true;\n    flushHistory.length = 0;\n    resetMeasurements();\n    ReactDebugTool.addHook(ReactHostOperationHistoryHook);\n  },\n  endProfiling: function () {\n    if (!isProfiling) {\n      return;\n    }\n\n    isProfiling = false;\n    resetMeasurements();\n    ReactDebugTool.removeHook(ReactHostOperationHistoryHook);\n  },\n  getFlushHistory: function () {\n    return flushHistory;\n  },\n  onBeginFlush: function () {\n    currentFlushNesting++;\n    resetMeasurements();\n    pauseCurrentLifeCycleTimer();\n    emitEvent('onBeginFlush');\n  },\n  onEndFlush: function () {\n    resetMeasurements();\n    currentFlushNesting--;\n    resumeCurrentLifeCycleTimer();\n    emitEvent('onEndFlush');\n  },\n  onBeginLifeCycleTimer: function (debugID, timerType) {\n    checkDebugID(debugID);\n    emitEvent('onBeginLifeCycleTimer', debugID, timerType);\n    markBegin(debugID, timerType);\n    beginLifeCycleTimer(debugID, timerType);\n  },\n  onEndLifeCycleTimer: function (debugID, timerType) {\n    checkDebugID(debugID);\n    endLifeCycleTimer(debugID, timerType);\n    markEnd(debugID, timerType);\n    emitEvent('onEndLifeCycleTimer', debugID, timerType);\n  },\n  onBeginProcessingChildContext: function () {\n    emitEvent('onBeginProcessingChildContext');\n  },\n  onEndProcessingChildContext: function () {\n    emitEvent('onEndProcessingChildContext');\n  },\n  onHostOperation: function (operation) {\n    checkDebugID(operation.instanceID);\n    emitEvent('onHostOperation', operation);\n  },\n  onSetState: function () {\n    emitEvent('onSetState');\n  },\n  onSetChildren: function (debugID, childDebugIDs) {\n    checkDebugID(debugID);\n    childDebugIDs.forEach(checkDebugID);\n    emitEvent('onSetChildren', debugID, childDebugIDs);\n  },\n  onBeforeMountComponent: function (debugID, element, parentDebugID) {\n    checkDebugID(debugID);\n    checkDebugID(parentDebugID, true);\n    emitEvent('onBeforeMountComponent', debugID, element, parentDebugID);\n    markBegin(debugID, 'mount');\n  },\n  onMountComponent: function (debugID) {\n    checkDebugID(debugID);\n    markEnd(debugID, 'mount');\n    emitEvent('onMountComponent', debugID);\n  },\n  onBeforeUpdateComponent: function (debugID, element) {\n    checkDebugID(debugID);\n    emitEvent('onBeforeUpdateComponent', debugID, element);\n    markBegin(debugID, 'update');\n  },\n  onUpdateComponent: function (debugID) {\n    checkDebugID(debugID);\n    markEnd(debugID, 'update');\n    emitEvent('onUpdateComponent', debugID);\n  },\n  onBeforeUnmountComponent: function (debugID) {\n    checkDebugID(debugID);\n    emitEvent('onBeforeUnmountComponent', debugID);\n    markBegin(debugID, 'unmount');\n  },\n  onUnmountComponent: function (debugID) {\n    checkDebugID(debugID);\n    markEnd(debugID, 'unmount');\n    emitEvent('onUnmountComponent', debugID);\n  },\n  onTestEvent: function () {\n    emitEvent('onTestEvent');\n  }\n};\n\n// TODO remove these when RN/www gets updated\nReactDebugTool.addDevtool = ReactDebugTool.addHook;\nReactDebugTool.removeDevtool = ReactDebugTool.removeHook;\n\nReactDebugTool.addHook(ReactInvalidSetStateWarningHook);\nReactDebugTool.addHook(ReactComponentTreeHook);\nvar url = ExecutionEnvironment.canUseDOM && window.location.href || '';\nif (/[?&]react_perf\\b/.test(url)) {\n  ReactDebugTool.beginProfiling();\n}\n\nmodule.exports = ReactDebugTool;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactDebugTool.js","/**\n * Copyright 2016-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar warning = require('fbjs/lib/warning');\n\nif (process.env.NODE_ENV !== 'production') {\n  var processingChildContext = false;\n\n  var warnInvalidSetState = function () {\n    process.env.NODE_ENV !== 'production' ? warning(!processingChildContext, 'setState(...): Cannot call setState() inside getChildContext()') : void 0;\n  };\n}\n\nvar ReactInvalidSetStateWarningHook = {\n  onBeginProcessingChildContext: function () {\n    processingChildContext = true;\n  },\n  onEndProcessingChildContext: function () {\n    processingChildContext = false;\n  },\n  onSetState: function () {\n    warnInvalidSetState();\n  }\n};\n\nmodule.exports = ReactInvalidSetStateWarningHook;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactInvalidSetStateWarningHook.js","/**\n * Copyright 2016-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar history = [];\n\nvar ReactHostOperationHistoryHook = {\n  onHostOperation: function (operation) {\n    history.push(operation);\n  },\n  clearHistory: function () {\n    if (ReactHostOperationHistoryHook._preventClearing) {\n      // Should only be used for tests.\n      return;\n    }\n\n    history = [];\n  },\n  getHistory: function () {\n    return history;\n  }\n};\n\nmodule.exports = ReactHostOperationHistoryHook;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactHostOperationHistoryHook.js","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n */\n\nvar performance = require('./performance');\n\nvar performanceNow;\n\n/**\n * Detect if we can use `window.performance.now()` and gracefully fallback to\n * `Date.now()` if it doesn't exist. We need to support Firefox < 15 for now\n * because of Facebook's testing infrastructure.\n */\nif (performance.now) {\n  performanceNow = function performanceNow() {\n    return performance.now();\n  };\n} else {\n  performanceNow = function performanceNow() {\n    return Date.now();\n  };\n}\n\nmodule.exports = performanceNow;\n\n\n// WEBPACK FOOTER //\n// ./~/fbjs/lib/performanceNow.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n */\n\n'use strict';\n\nvar ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar performance;\n\nif (ExecutionEnvironment.canUseDOM) {\n  performance = window.performance || window.msPerformance || window.webkitPerformance;\n}\n\nmodule.exports = performance || {};\n\n\n// WEBPACK FOOTER //\n// ./~/fbjs/lib/performance.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar OBSERVED_ERROR = {};\n\n/**\n * `Transaction` creates a black box that is able to wrap any method such that\n * certain invariants are maintained before and after the method is invoked\n * (Even if an exception is thrown while invoking the wrapped method). Whoever\n * instantiates a transaction can provide enforcers of the invariants at\n * creation time. The `Transaction` class itself will supply one additional\n * automatic invariant for you - the invariant that any transaction instance\n * should not be run while it is already being run. You would typically create a\n * single instance of a `Transaction` for reuse multiple times, that potentially\n * is used to wrap several different methods. Wrappers are extremely simple -\n * they only require implementing two methods.\n *\n * <pre>\n *                       wrappers (injected at creation time)\n *                                      +        +\n *                                      |        |\n *                    +-----------------|--------|--------------+\n *                    |                 v        |              |\n *                    |      +---------------+   |              |\n *                    |   +--|    wrapper1   |---|----+         |\n *                    |   |  +---------------+   v    |         |\n *                    |   |          +-------------+  |         |\n *                    |   |     +----|   wrapper2  |--------+   |\n *                    |   |     |    +-------------+  |     |   |\n *                    |   |     |                     |     |   |\n *                    |   v     v                     v     v   | wrapper\n *                    | +---+ +---+   +---------+   +---+ +---+ | invariants\n * perform(anyMethod) | |   | |   |   |         |   |   | |   | | maintained\n * +----------------->|-|---|-|---|-->|anyMethod|---|---|-|---|-|-------->\n *                    | |   | |   |   |         |   |   | |   | |\n *                    | |   | |   |   |         |   |   | |   | |\n *                    | |   | |   |   |         |   |   | |   | |\n *                    | +---+ +---+   +---------+   +---+ +---+ |\n *                    |  initialize                    close    |\n *                    +-----------------------------------------+\n * </pre>\n *\n * Use cases:\n * - Preserving the input selection ranges before/after reconciliation.\n *   Restoring selection even in the event of an unexpected error.\n * - Deactivating events while rearranging the DOM, preventing blurs/focuses,\n *   while guaranteeing that afterwards, the event system is reactivated.\n * - Flushing a queue of collected DOM mutations to the main UI thread after a\n *   reconciliation takes place in a worker thread.\n * - Invoking any collected `componentDidUpdate` callbacks after rendering new\n *   content.\n * - (Future use case): Wrapping particular flushes of the `ReactWorker` queue\n *   to preserve the `scrollTop` (an automatic scroll aware DOM).\n * - (Future use case): Layout calculations before and after DOM updates.\n *\n * Transactional plugin API:\n * - A module that has an `initialize` method that returns any precomputation.\n * - and a `close` method that accepts the precomputation. `close` is invoked\n *   when the wrapped process is completed, or has failed.\n *\n * @param {Array<TransactionalWrapper>} transactionWrapper Wrapper modules\n * that implement `initialize` and `close`.\n * @return {Transaction} Single transaction for reuse in thread.\n *\n * @class Transaction\n */\nvar TransactionImpl = {\n  /**\n   * Sets up this instance so that it is prepared for collecting metrics. Does\n   * so such that this setup method may be used on an instance that is already\n   * initialized, in a way that does not consume additional memory upon reuse.\n   * That can be useful if you decide to make your subclass of this mixin a\n   * \"PooledClass\".\n   */\n  reinitializeTransaction: function () {\n    this.transactionWrappers = this.getTransactionWrappers();\n    if (this.wrapperInitData) {\n      this.wrapperInitData.length = 0;\n    } else {\n      this.wrapperInitData = [];\n    }\n    this._isInTransaction = false;\n  },\n\n  _isInTransaction: false,\n\n  /**\n   * @abstract\n   * @return {Array<TransactionWrapper>} Array of transaction wrappers.\n   */\n  getTransactionWrappers: null,\n\n  isInTransaction: function () {\n    return !!this._isInTransaction;\n  },\n\n  /**\n   * Executes the function within a safety window. Use this for the top level\n   * methods that result in large amounts of computation/mutations that would\n   * need to be safety checked. The optional arguments helps prevent the need\n   * to bind in many cases.\n   *\n   * @param {function} method Member of scope to call.\n   * @param {Object} scope Scope to invoke from.\n   * @param {Object?=} a Argument to pass to the method.\n   * @param {Object?=} b Argument to pass to the method.\n   * @param {Object?=} c Argument to pass to the method.\n   * @param {Object?=} d Argument to pass to the method.\n   * @param {Object?=} e Argument to pass to the method.\n   * @param {Object?=} f Argument to pass to the method.\n   *\n   * @return {*} Return value from `method`.\n   */\n  perform: function (method, scope, a, b, c, d, e, f) {\n    !!this.isInTransaction() ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction.') : _prodInvariant('27') : void 0;\n    var errorThrown;\n    var ret;\n    try {\n      this._isInTransaction = true;\n      // Catching errors makes debugging more difficult, so we start with\n      // errorThrown set to true before setting it to false after calling\n      // close -- if it's still set to true in the finally block, it means\n      // one of these calls threw.\n      errorThrown = true;\n      this.initializeAll(0);\n      ret = method.call(scope, a, b, c, d, e, f);\n      errorThrown = false;\n    } finally {\n      try {\n        if (errorThrown) {\n          // If `method` throws, prefer to show that stack trace over any thrown\n          // by invoking `closeAll`.\n          try {\n            this.closeAll(0);\n          } catch (err) {}\n        } else {\n          // Since `method` didn't throw, we don't want to silence the exception\n          // here.\n          this.closeAll(0);\n        }\n      } finally {\n        this._isInTransaction = false;\n      }\n    }\n    return ret;\n  },\n\n  initializeAll: function (startIndex) {\n    var transactionWrappers = this.transactionWrappers;\n    for (var i = startIndex; i < transactionWrappers.length; i++) {\n      var wrapper = transactionWrappers[i];\n      try {\n        // Catching errors makes debugging more difficult, so we start with the\n        // OBSERVED_ERROR state before overwriting it with the real return value\n        // of initialize -- if it's still set to OBSERVED_ERROR in the finally\n        // block, it means wrapper.initialize threw.\n        this.wrapperInitData[i] = OBSERVED_ERROR;\n        this.wrapperInitData[i] = wrapper.initialize ? wrapper.initialize.call(this) : null;\n      } finally {\n        if (this.wrapperInitData[i] === OBSERVED_ERROR) {\n          // The initializer for wrapper i threw an error; initialize the\n          // remaining wrappers but silence any exceptions from them to ensure\n          // that the first error is the one to bubble up.\n          try {\n            this.initializeAll(i + 1);\n          } catch (err) {}\n        }\n      }\n    }\n  },\n\n  /**\n   * Invokes each of `this.transactionWrappers.close[i]` functions, passing into\n   * them the respective return values of `this.transactionWrappers.init[i]`\n   * (`close`rs that correspond to initializers that failed will not be\n   * invoked).\n   */\n  closeAll: function (startIndex) {\n    !this.isInTransaction() ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Transaction.closeAll(): Cannot close transaction when none are open.') : _prodInvariant('28') : void 0;\n    var transactionWrappers = this.transactionWrappers;\n    for (var i = startIndex; i < transactionWrappers.length; i++) {\n      var wrapper = transactionWrappers[i];\n      var initData = this.wrapperInitData[i];\n      var errorThrown;\n      try {\n        // Catching errors makes debugging more difficult, so we start with\n        // errorThrown set to true before setting it to false after calling\n        // close -- if it's still set to true in the finally block, it means\n        // wrapper.close threw.\n        errorThrown = true;\n        if (initData !== OBSERVED_ERROR && wrapper.close) {\n          wrapper.close.call(this, initData);\n        }\n        errorThrown = false;\n      } finally {\n        if (errorThrown) {\n          // The closer for wrapper i threw an error; close the remaining\n          // wrappers but silence any exceptions from them to ensure that the\n          // first error is the one to bubble up.\n          try {\n            this.closeAll(i + 1);\n          } catch (e) {}\n        }\n      }\n    }\n    this.wrapperInitData.length = 0;\n  }\n};\n\nmodule.exports = TransactionImpl;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/Transaction.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\n/**\n * Gets the target node from a native browser event by accounting for\n * inconsistencies in browser DOM APIs.\n *\n * @param {object} nativeEvent Native browser event.\n * @return {DOMEventTarget} Target node.\n */\n\nfunction getEventTarget(nativeEvent) {\n  var target = nativeEvent.target || nativeEvent.srcElement || window;\n\n  // Normalize SVG <use> element events #4963\n  if (target.correspondingUseElement) {\n    target = target.correspondingUseElement;\n  }\n\n  // Safari may fire events on text nodes (Node.TEXT_NODE is 3).\n  // @see http://www.quirksmode.org/js/events_properties.html\n  return target.nodeType === 3 ? target.parentNode : target;\n}\n\nmodule.exports = getEventTarget;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/getEventTarget.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment');\n\nvar useHasFeature;\nif (ExecutionEnvironment.canUseDOM) {\n  useHasFeature = document.implementation && document.implementation.hasFeature &&\n  // always returns true in newer browsers as per the standard.\n  // @see http://dom.spec.whatwg.org/#dom-domimplementation-hasfeature\n  document.implementation.hasFeature('', '') !== true;\n}\n\n/**\n * Checks if an event is supported in the current execution environment.\n *\n * NOTE: This will not work correctly for non-generic events such as `change`,\n * `reset`, `load`, `error`, and `select`.\n *\n * Borrows from Modernizr.\n *\n * @param {string} eventNameSuffix Event name, e.g. \"click\".\n * @param {?boolean} capture Check if the capture phase is supported.\n * @return {boolean} True if the event is supported.\n * @internal\n * @license Modernizr 3.0.0pre (Custom Build) | MIT\n */\nfunction isEventSupported(eventNameSuffix, capture) {\n  if (!ExecutionEnvironment.canUseDOM || capture && !('addEventListener' in document)) {\n    return false;\n  }\n\n  var eventName = 'on' + eventNameSuffix;\n  var isSupported = eventName in document;\n\n  if (!isSupported) {\n    var element = document.createElement('div');\n    element.setAttribute(eventName, 'return;');\n    isSupported = typeof element[eventName] === 'function';\n  }\n\n  if (!isSupported && useHasFeature && eventNameSuffix === 'wheel') {\n    // This is the only way to test support for the `wheel` event in IE9+.\n    isSupported = document.implementation.hasFeature('Events.wheel', '3.0');\n  }\n\n  return isSupported;\n}\n\nmodule.exports = isEventSupported;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/isEventSupported.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\n/**\n * @see http://www.whatwg.org/specs/web-apps/current-work/multipage/the-input-element.html#input-type-attr-summary\n */\n\nvar supportedInputTypes = {\n  'color': true,\n  'date': true,\n  'datetime': true,\n  'datetime-local': true,\n  'email': true,\n  'month': true,\n  'number': true,\n  'password': true,\n  'range': true,\n  'search': true,\n  'tel': true,\n  'text': true,\n  'time': true,\n  'url': true,\n  'week': true\n};\n\nfunction isTextInputElement(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n\n  if (nodeName === 'input') {\n    return !!supportedInputTypes[elem.type];\n  }\n\n  if (nodeName === 'textarea') {\n    return true;\n  }\n\n  return false;\n}\n\nmodule.exports = isTextInputElement;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/isTextInputElement.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\n/**\n * Module that is injectable into `EventPluginHub`, that specifies a\n * deterministic ordering of `EventPlugin`s. A convenient way to reason about\n * plugins, without having to package every one of them. This is better than\n * having plugins be ordered in the same order that they are injected because\n * that ordering would be influenced by the packaging order.\n * `ResponderEventPlugin` must occur before `SimpleEventPlugin` so that\n * preventing default on events is convenient in `SimpleEventPlugin` handlers.\n */\n\nvar DefaultEventPluginOrder = ['ResponderEventPlugin', 'SimpleEventPlugin', 'TapEventPlugin', 'EnterLeaveEventPlugin', 'ChangeEventPlugin', 'SelectEventPlugin', 'BeforeInputEventPlugin'];\n\nmodule.exports = DefaultEventPluginOrder;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/DefaultEventPluginOrder.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar EventPropagators = require('./EventPropagators');\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\nvar SyntheticMouseEvent = require('./SyntheticMouseEvent');\n\nvar eventTypes = {\n  mouseEnter: {\n    registrationName: 'onMouseEnter',\n    dependencies: ['topMouseOut', 'topMouseOver']\n  },\n  mouseLeave: {\n    registrationName: 'onMouseLeave',\n    dependencies: ['topMouseOut', 'topMouseOver']\n  }\n};\n\nvar EnterLeaveEventPlugin = {\n\n  eventTypes: eventTypes,\n\n  /**\n   * For almost every interaction we care about, there will be both a top-level\n   * `mouseover` and `mouseout` event that occurs. Only use `mouseout` so that\n   * we do not extract duplicate events. However, moving the mouse into the\n   * browser from outside will not fire a `mouseout` event. In this case, we use\n   * the `mouseover` top-level event.\n   */\n  extractEvents: function (topLevelType, targetInst, nativeEvent, nativeEventTarget) {\n    if (topLevelType === 'topMouseOver' && (nativeEvent.relatedTarget || nativeEvent.fromElement)) {\n      return null;\n    }\n    if (topLevelType !== 'topMouseOut' && topLevelType !== 'topMouseOver') {\n      // Must not be a mouse in or mouse out - ignoring.\n      return null;\n    }\n\n    var win;\n    if (nativeEventTarget.window === nativeEventTarget) {\n      // `nativeEventTarget` is probably a window object.\n      win = nativeEventTarget;\n    } else {\n      // TODO: Figure out why `ownerDocument` is sometimes undefined in IE8.\n      var doc = nativeEventTarget.ownerDocument;\n      if (doc) {\n        win = doc.defaultView || doc.parentWindow;\n      } else {\n        win = window;\n      }\n    }\n\n    var from;\n    var to;\n    if (topLevelType === 'topMouseOut') {\n      from = targetInst;\n      var related = nativeEvent.relatedTarget || nativeEvent.toElement;\n      to = related ? ReactDOMComponentTree.getClosestInstanceFromNode(related) : null;\n    } else {\n      // Moving to a node from outside the window.\n      from = null;\n      to = targetInst;\n    }\n\n    if (from === to) {\n      // Nothing pertains to our managed components.\n      return null;\n    }\n\n    var fromNode = from == null ? win : ReactDOMComponentTree.getNodeFromInstance(from);\n    var toNode = to == null ? win : ReactDOMComponentTree.getNodeFromInstance(to);\n\n    var leave = SyntheticMouseEvent.getPooled(eventTypes.mouseLeave, from, nativeEvent, nativeEventTarget);\n    leave.type = 'mouseleave';\n    leave.target = fromNode;\n    leave.relatedTarget = toNode;\n\n    var enter = SyntheticMouseEvent.getPooled(eventTypes.mouseEnter, to, nativeEvent, nativeEventTarget);\n    enter.type = 'mouseenter';\n    enter.target = toNode;\n    enter.relatedTarget = fromNode;\n\n    EventPropagators.accumulateEnterLeaveDispatches(leave, enter, from, to);\n\n    return [leave, enter];\n  }\n\n};\n\nmodule.exports = EnterLeaveEventPlugin;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/EnterLeaveEventPlugin.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar SyntheticUIEvent = require('./SyntheticUIEvent');\nvar ViewportMetrics = require('./ViewportMetrics');\n\nvar getEventModifierState = require('./getEventModifierState');\n\n/**\n * @interface MouseEvent\n * @see http://www.w3.org/TR/DOM-Level-3-Events/\n */\nvar MouseEventInterface = {\n  screenX: null,\n  screenY: null,\n  clientX: null,\n  clientY: null,\n  ctrlKey: null,\n  shiftKey: null,\n  altKey: null,\n  metaKey: null,\n  getModifierState: getEventModifierState,\n  button: function (event) {\n    // Webkit, Firefox, IE9+\n    // which:  1 2 3\n    // button: 0 1 2 (standard)\n    var button = event.button;\n    if ('which' in event) {\n      return button;\n    }\n    // IE<9\n    // which:  undefined\n    // button: 0 0 0\n    // button: 1 4 2 (onmouseup)\n    return button === 2 ? 2 : button === 4 ? 1 : 0;\n  },\n  buttons: null,\n  relatedTarget: function (event) {\n    return event.relatedTarget || (event.fromElement === event.srcElement ? event.toElement : event.fromElement);\n  },\n  // \"Proprietary\" Interface.\n  pageX: function (event) {\n    return 'pageX' in event ? event.pageX : event.clientX + ViewportMetrics.currentScrollLeft;\n  },\n  pageY: function (event) {\n    return 'pageY' in event ? event.pageY : event.clientY + ViewportMetrics.currentScrollTop;\n  }\n};\n\n/**\n * @param {object} dispatchConfig Configuration used to dispatch this event.\n * @param {string} dispatchMarker Marker identifying the event target.\n * @param {object} nativeEvent Native browser event.\n * @extends {SyntheticUIEvent}\n */\nfunction SyntheticMouseEvent(dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget) {\n  return SyntheticUIEvent.call(this, dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget);\n}\n\nSyntheticUIEvent.augmentClass(SyntheticMouseEvent, MouseEventInterface);\n\nmodule.exports = SyntheticMouseEvent;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/SyntheticMouseEvent.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar SyntheticEvent = require('./SyntheticEvent');\n\nvar getEventTarget = require('./getEventTarget');\n\n/**\n * @interface UIEvent\n * @see http://www.w3.org/TR/DOM-Level-3-Events/\n */\nvar UIEventInterface = {\n  view: function (event) {\n    if (event.view) {\n      return event.view;\n    }\n\n    var target = getEventTarget(event);\n    if (target.window === target) {\n      // target is a window object\n      return target;\n    }\n\n    var doc = target.ownerDocument;\n    // TODO: Figure out why `ownerDocument` is sometimes undefined in IE8.\n    if (doc) {\n      return doc.defaultView || doc.parentWindow;\n    } else {\n      return window;\n    }\n  },\n  detail: function (event) {\n    return event.detail || 0;\n  }\n};\n\n/**\n * @param {object} dispatchConfig Configuration used to dispatch this event.\n * @param {string} dispatchMarker Marker identifying the event target.\n * @param {object} nativeEvent Native browser event.\n * @extends {SyntheticEvent}\n */\nfunction SyntheticUIEvent(dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget) {\n  return SyntheticEvent.call(this, dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget);\n}\n\nSyntheticEvent.augmentClass(SyntheticUIEvent, UIEventInterface);\n\nmodule.exports = SyntheticUIEvent;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/SyntheticUIEvent.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar ViewportMetrics = {\n\n  currentScrollLeft: 0,\n\n  currentScrollTop: 0,\n\n  refreshScrollValues: function (scrollPosition) {\n    ViewportMetrics.currentScrollLeft = scrollPosition.x;\n    ViewportMetrics.currentScrollTop = scrollPosition.y;\n  }\n\n};\n\nmodule.exports = ViewportMetrics;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ViewportMetrics.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\n/**\n * Translation from modifier key to the associated property in the event.\n * @see http://www.w3.org/TR/DOM-Level-3-Events/#keys-Modifiers\n */\n\nvar modifierKeyToProp = {\n  'Alt': 'altKey',\n  'Control': 'ctrlKey',\n  'Meta': 'metaKey',\n  'Shift': 'shiftKey'\n};\n\n// IE8 does not implement getModifierState so we simply map it to the only\n// modifier keys exposed by the event itself, does not support Lock-keys.\n// Currently, all major browsers except Chrome seems to support Lock-keys.\nfunction modifierStateGetter(keyArg) {\n  var syntheticEvent = this;\n  var nativeEvent = syntheticEvent.nativeEvent;\n  if (nativeEvent.getModifierState) {\n    return nativeEvent.getModifierState(keyArg);\n  }\n  var keyProp = modifierKeyToProp[keyArg];\n  return keyProp ? !!nativeEvent[keyProp] : false;\n}\n\nfunction getEventModifierState(nativeEvent) {\n  return modifierStateGetter;\n}\n\nmodule.exports = getEventModifierState;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/getEventModifierState.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar DOMProperty = require('./DOMProperty');\n\nvar MUST_USE_PROPERTY = DOMProperty.injection.MUST_USE_PROPERTY;\nvar HAS_BOOLEAN_VALUE = DOMProperty.injection.HAS_BOOLEAN_VALUE;\nvar HAS_NUMERIC_VALUE = DOMProperty.injection.HAS_NUMERIC_VALUE;\nvar HAS_POSITIVE_NUMERIC_VALUE = DOMProperty.injection.HAS_POSITIVE_NUMERIC_VALUE;\nvar HAS_OVERLOADED_BOOLEAN_VALUE = DOMProperty.injection.HAS_OVERLOADED_BOOLEAN_VALUE;\n\nvar HTMLDOMPropertyConfig = {\n  isCustomAttribute: RegExp.prototype.test.bind(new RegExp('^(data|aria)-[' + DOMProperty.ATTRIBUTE_NAME_CHAR + ']*$')),\n  Properties: {\n    /**\n     * Standard Properties\n     */\n    accept: 0,\n    acceptCharset: 0,\n    accessKey: 0,\n    action: 0,\n    allowFullScreen: HAS_BOOLEAN_VALUE,\n    allowTransparency: 0,\n    alt: 0,\n    // specifies target context for links with `preload` type\n    as: 0,\n    async: HAS_BOOLEAN_VALUE,\n    autoComplete: 0,\n    // autoFocus is polyfilled/normalized by AutoFocusUtils\n    // autoFocus: HAS_BOOLEAN_VALUE,\n    autoPlay: HAS_BOOLEAN_VALUE,\n    capture: HAS_BOOLEAN_VALUE,\n    cellPadding: 0,\n    cellSpacing: 0,\n    charSet: 0,\n    challenge: 0,\n    checked: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n    cite: 0,\n    classID: 0,\n    className: 0,\n    cols: HAS_POSITIVE_NUMERIC_VALUE,\n    colSpan: 0,\n    content: 0,\n    contentEditable: 0,\n    contextMenu: 0,\n    controls: HAS_BOOLEAN_VALUE,\n    coords: 0,\n    crossOrigin: 0,\n    data: 0, // For `<object />` acts as `src`.\n    dateTime: 0,\n    'default': HAS_BOOLEAN_VALUE,\n    defer: HAS_BOOLEAN_VALUE,\n    dir: 0,\n    disabled: HAS_BOOLEAN_VALUE,\n    download: HAS_OVERLOADED_BOOLEAN_VALUE,\n    draggable: 0,\n    encType: 0,\n    form: 0,\n    formAction: 0,\n    formEncType: 0,\n    formMethod: 0,\n    formNoValidate: HAS_BOOLEAN_VALUE,\n    formTarget: 0,\n    frameBorder: 0,\n    headers: 0,\n    height: 0,\n    hidden: HAS_BOOLEAN_VALUE,\n    high: 0,\n    href: 0,\n    hrefLang: 0,\n    htmlFor: 0,\n    httpEquiv: 0,\n    icon: 0,\n    id: 0,\n    inputMode: 0,\n    integrity: 0,\n    is: 0,\n    keyParams: 0,\n    keyType: 0,\n    kind: 0,\n    label: 0,\n    lang: 0,\n    list: 0,\n    loop: HAS_BOOLEAN_VALUE,\n    low: 0,\n    manifest: 0,\n    marginHeight: 0,\n    marginWidth: 0,\n    max: 0,\n    maxLength: 0,\n    media: 0,\n    mediaGroup: 0,\n    method: 0,\n    min: 0,\n    minLength: 0,\n    // Caution; `option.selected` is not updated if `select.multiple` is\n    // disabled with `removeAttribute`.\n    multiple: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n    muted: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n    name: 0,\n    nonce: 0,\n    noValidate: HAS_BOOLEAN_VALUE,\n    open: HAS_BOOLEAN_VALUE,\n    optimum: 0,\n    pattern: 0,\n    placeholder: 0,\n    playsInline: HAS_BOOLEAN_VALUE,\n    poster: 0,\n    preload: 0,\n    profile: 0,\n    radioGroup: 0,\n    readOnly: HAS_BOOLEAN_VALUE,\n    referrerPolicy: 0,\n    rel: 0,\n    required: HAS_BOOLEAN_VALUE,\n    reversed: HAS_BOOLEAN_VALUE,\n    role: 0,\n    rows: HAS_POSITIVE_NUMERIC_VALUE,\n    rowSpan: HAS_NUMERIC_VALUE,\n    sandbox: 0,\n    scope: 0,\n    scoped: HAS_BOOLEAN_VALUE,\n    scrolling: 0,\n    seamless: HAS_BOOLEAN_VALUE,\n    selected: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n    shape: 0,\n    size: HAS_POSITIVE_NUMERIC_VALUE,\n    sizes: 0,\n    span: HAS_POSITIVE_NUMERIC_VALUE,\n    spellCheck: 0,\n    src: 0,\n    srcDoc: 0,\n    srcLang: 0,\n    srcSet: 0,\n    start: HAS_NUMERIC_VALUE,\n    step: 0,\n    style: 0,\n    summary: 0,\n    tabIndex: 0,\n    target: 0,\n    title: 0,\n    // Setting .type throws on non-<input> tags\n    type: 0,\n    useMap: 0,\n    value: 0,\n    width: 0,\n    wmode: 0,\n    wrap: 0,\n\n    /**\n     * RDFa Properties\n     */\n    about: 0,\n    datatype: 0,\n    inlist: 0,\n    prefix: 0,\n    // property is also supported for OpenGraph in meta tags.\n    property: 0,\n    resource: 0,\n    'typeof': 0,\n    vocab: 0,\n\n    /**\n     * Non-standard Properties\n     */\n    // autoCapitalize and autoCorrect are supported in Mobile Safari for\n    // keyboard hints.\n    autoCapitalize: 0,\n    autoCorrect: 0,\n    // autoSave allows WebKit/Blink to persist values of input fields on page reloads\n    autoSave: 0,\n    // color is for Safari mask-icon link\n    color: 0,\n    // itemProp, itemScope, itemType are for\n    // Microdata support. See http://schema.org/docs/gs.html\n    itemProp: 0,\n    itemScope: HAS_BOOLEAN_VALUE,\n    itemType: 0,\n    // itemID and itemRef are for Microdata support as well but\n    // only specified in the WHATWG spec document. See\n    // https://html.spec.whatwg.org/multipage/microdata.html#microdata-dom-api\n    itemID: 0,\n    itemRef: 0,\n    // results show looking glass icon and recent searches on input\n    // search fields in WebKit/Blink\n    results: 0,\n    // IE-only attribute that specifies security restrictions on an iframe\n    // as an alternative to the sandbox attribute on IE<10\n    security: 0,\n    // IE-only attribute that controls focus behavior\n    unselectable: 0\n  },\n  DOMAttributeNames: {\n    acceptCharset: 'accept-charset',\n    className: 'class',\n    htmlFor: 'for',\n    httpEquiv: 'http-equiv'\n  },\n  DOMPropertyNames: {}\n};\n\nmodule.exports = HTMLDOMPropertyConfig;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/HTMLDOMPropertyConfig.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar DOMChildrenOperations = require('./DOMChildrenOperations');\nvar ReactDOMIDOperations = require('./ReactDOMIDOperations');\n\n/**\n * Abstracts away all functionality of the reconciler that requires knowledge of\n * the browser context. TODO: These callers should be refactored to avoid the\n * need for this injection.\n */\nvar ReactComponentBrowserEnvironment = {\n\n  processChildrenUpdates: ReactDOMIDOperations.dangerouslyProcessChildrenUpdates,\n\n  replaceNodeWithMarkup: DOMChildrenOperations.dangerouslyReplaceNodeWithMarkup\n\n};\n\nmodule.exports = ReactComponentBrowserEnvironment;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactComponentBrowserEnvironment.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar DOMLazyTree = require('./DOMLazyTree');\nvar Danger = require('./Danger');\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\nvar ReactInstrumentation = require('./ReactInstrumentation');\n\nvar createMicrosoftUnsafeLocalFunction = require('./createMicrosoftUnsafeLocalFunction');\nvar setInnerHTML = require('./setInnerHTML');\nvar setTextContent = require('./setTextContent');\n\nfunction getNodeAfter(parentNode, node) {\n  // Special case for text components, which return [open, close] comments\n  // from getHostNode.\n  if (Array.isArray(node)) {\n    node = node[1];\n  }\n  return node ? node.nextSibling : parentNode.firstChild;\n}\n\n/**\n * Inserts `childNode` as a child of `parentNode` at the `index`.\n *\n * @param {DOMElement} parentNode Parent node in which to insert.\n * @param {DOMElement} childNode Child node to insert.\n * @param {number} index Index at which to insert the child.\n * @internal\n */\nvar insertChildAt = createMicrosoftUnsafeLocalFunction(function (parentNode, childNode, referenceNode) {\n  // We rely exclusively on `insertBefore(node, null)` instead of also using\n  // `appendChild(node)`. (Using `undefined` is not allowed by all browsers so\n  // we are careful to use `null`.)\n  parentNode.insertBefore(childNode, referenceNode);\n});\n\nfunction insertLazyTreeChildAt(parentNode, childTree, referenceNode) {\n  DOMLazyTree.insertTreeBefore(parentNode, childTree, referenceNode);\n}\n\nfunction moveChild(parentNode, childNode, referenceNode) {\n  if (Array.isArray(childNode)) {\n    moveDelimitedText(parentNode, childNode[0], childNode[1], referenceNode);\n  } else {\n    insertChildAt(parentNode, childNode, referenceNode);\n  }\n}\n\nfunction removeChild(parentNode, childNode) {\n  if (Array.isArray(childNode)) {\n    var closingComment = childNode[1];\n    childNode = childNode[0];\n    removeDelimitedText(parentNode, childNode, closingComment);\n    parentNode.removeChild(closingComment);\n  }\n  parentNode.removeChild(childNode);\n}\n\nfunction moveDelimitedText(parentNode, openingComment, closingComment, referenceNode) {\n  var node = openingComment;\n  while (true) {\n    var nextNode = node.nextSibling;\n    insertChildAt(parentNode, node, referenceNode);\n    if (node === closingComment) {\n      break;\n    }\n    node = nextNode;\n  }\n}\n\nfunction removeDelimitedText(parentNode, startNode, closingComment) {\n  while (true) {\n    var node = startNode.nextSibling;\n    if (node === closingComment) {\n      // The closing comment is removed by ReactMultiChild.\n      break;\n    } else {\n      parentNode.removeChild(node);\n    }\n  }\n}\n\nfunction replaceDelimitedText(openingComment, closingComment, stringText) {\n  var parentNode = openingComment.parentNode;\n  var nodeAfterComment = openingComment.nextSibling;\n  if (nodeAfterComment === closingComment) {\n    // There are no text nodes between the opening and closing comments; insert\n    // a new one if stringText isn't empty.\n    if (stringText) {\n      insertChildAt(parentNode, document.createTextNode(stringText), nodeAfterComment);\n    }\n  } else {\n    if (stringText) {\n      // Set the text content of the first node after the opening comment, and\n      // remove all following nodes up until the closing comment.\n      setTextContent(nodeAfterComment, stringText);\n      removeDelimitedText(parentNode, nodeAfterComment, closingComment);\n    } else {\n      removeDelimitedText(parentNode, openingComment, closingComment);\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    ReactInstrumentation.debugTool.onHostOperation({\n      instanceID: ReactDOMComponentTree.getInstanceFromNode(openingComment)._debugID,\n      type: 'replace text',\n      payload: stringText\n    });\n  }\n}\n\nvar dangerouslyReplaceNodeWithMarkup = Danger.dangerouslyReplaceNodeWithMarkup;\nif (process.env.NODE_ENV !== 'production') {\n  dangerouslyReplaceNodeWithMarkup = function (oldChild, markup, prevInstance) {\n    Danger.dangerouslyReplaceNodeWithMarkup(oldChild, markup);\n    if (prevInstance._debugID !== 0) {\n      ReactInstrumentation.debugTool.onHostOperation({\n        instanceID: prevInstance._debugID,\n        type: 'replace with',\n        payload: markup.toString()\n      });\n    } else {\n      var nextInstance = ReactDOMComponentTree.getInstanceFromNode(markup.node);\n      if (nextInstance._debugID !== 0) {\n        ReactInstrumentation.debugTool.onHostOperation({\n          instanceID: nextInstance._debugID,\n          type: 'mount',\n          payload: markup.toString()\n        });\n      }\n    }\n  };\n}\n\n/**\n * Operations for updating with DOM children.\n */\nvar DOMChildrenOperations = {\n\n  dangerouslyReplaceNodeWithMarkup: dangerouslyReplaceNodeWithMarkup,\n\n  replaceDelimitedText: replaceDelimitedText,\n\n  /**\n   * Updates a component's children by processing a series of updates. The\n   * update configurations are each expected to have a `parentNode` property.\n   *\n   * @param {array<object>} updates List of update configurations.\n   * @internal\n   */\n  processUpdates: function (parentNode, updates) {\n    if (process.env.NODE_ENV !== 'production') {\n      var parentNodeDebugID = ReactDOMComponentTree.getInstanceFromNode(parentNode)._debugID;\n    }\n\n    for (var k = 0; k < updates.length; k++) {\n      var update = updates[k];\n      switch (update.type) {\n        case 'INSERT_MARKUP':\n          insertLazyTreeChildAt(parentNode, update.content, getNodeAfter(parentNode, update.afterNode));\n          if (process.env.NODE_ENV !== 'production') {\n            ReactInstrumentation.debugTool.onHostOperation({\n              instanceID: parentNodeDebugID,\n              type: 'insert child',\n              payload: { toIndex: update.toIndex, content: update.content.toString() }\n            });\n          }\n          break;\n        case 'MOVE_EXISTING':\n          moveChild(parentNode, update.fromNode, getNodeAfter(parentNode, update.afterNode));\n          if (process.env.NODE_ENV !== 'production') {\n            ReactInstrumentation.debugTool.onHostOperation({\n              instanceID: parentNodeDebugID,\n              type: 'move child',\n              payload: { fromIndex: update.fromIndex, toIndex: update.toIndex }\n            });\n          }\n          break;\n        case 'SET_MARKUP':\n          setInnerHTML(parentNode, update.content);\n          if (process.env.NODE_ENV !== 'production') {\n            ReactInstrumentation.debugTool.onHostOperation({\n              instanceID: parentNodeDebugID,\n              type: 'replace children',\n              payload: update.content.toString()\n            });\n          }\n          break;\n        case 'TEXT_CONTENT':\n          setTextContent(parentNode, update.content);\n          if (process.env.NODE_ENV !== 'production') {\n            ReactInstrumentation.debugTool.onHostOperation({\n              instanceID: parentNodeDebugID,\n              type: 'replace text',\n              payload: update.content.toString()\n            });\n          }\n          break;\n        case 'REMOVE_NODE':\n          removeChild(parentNode, update.fromNode);\n          if (process.env.NODE_ENV !== 'production') {\n            ReactInstrumentation.debugTool.onHostOperation({\n              instanceID: parentNodeDebugID,\n              type: 'remove child',\n              payload: { fromIndex: update.fromIndex }\n            });\n          }\n          break;\n      }\n    }\n  }\n\n};\n\nmodule.exports = DOMChildrenOperations;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/DOMChildrenOperations.js","/**\n * Copyright 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar DOMNamespaces = require('./DOMNamespaces');\nvar setInnerHTML = require('./setInnerHTML');\n\nvar createMicrosoftUnsafeLocalFunction = require('./createMicrosoftUnsafeLocalFunction');\nvar setTextContent = require('./setTextContent');\n\nvar ELEMENT_NODE_TYPE = 1;\nvar DOCUMENT_FRAGMENT_NODE_TYPE = 11;\n\n/**\n * In IE (8-11) and Edge, appending nodes with no children is dramatically\n * faster than appending a full subtree, so we essentially queue up the\n * .appendChild calls here and apply them so each node is added to its parent\n * before any children are added.\n *\n * In other browsers, doing so is slower or neutral compared to the other order\n * (in Firefox, twice as slow) so we only do this inversion in IE.\n *\n * See https://github.com/spicyj/innerhtml-vs-createelement-vs-clonenode.\n */\nvar enableLazy = typeof document !== 'undefined' && typeof document.documentMode === 'number' || typeof navigator !== 'undefined' && typeof navigator.userAgent === 'string' && /\\bEdge\\/\\d/.test(navigator.userAgent);\n\nfunction insertTreeChildren(tree) {\n  if (!enableLazy) {\n    return;\n  }\n  var node = tree.node;\n  var children = tree.children;\n  if (children.length) {\n    for (var i = 0; i < children.length; i++) {\n      insertTreeBefore(node, children[i], null);\n    }\n  } else if (tree.html != null) {\n    setInnerHTML(node, tree.html);\n  } else if (tree.text != null) {\n    setTextContent(node, tree.text);\n  }\n}\n\nvar insertTreeBefore = createMicrosoftUnsafeLocalFunction(function (parentNode, tree, referenceNode) {\n  // DocumentFragments aren't actually part of the DOM after insertion so\n  // appending children won't update the DOM. We need to ensure the fragment\n  // is properly populated first, breaking out of our lazy approach for just\n  // this level. Also, some <object> plugins (like Flash Player) will read\n  // <param> nodes immediately upon insertion into the DOM, so <object>\n  // must also be populated prior to insertion into the DOM.\n  if (tree.node.nodeType === DOCUMENT_FRAGMENT_NODE_TYPE || tree.node.nodeType === ELEMENT_NODE_TYPE && tree.node.nodeName.toLowerCase() === 'object' && (tree.node.namespaceURI == null || tree.node.namespaceURI === DOMNamespaces.html)) {\n    insertTreeChildren(tree);\n    parentNode.insertBefore(tree.node, referenceNode);\n  } else {\n    parentNode.insertBefore(tree.node, referenceNode);\n    insertTreeChildren(tree);\n  }\n});\n\nfunction replaceChildWithTree(oldNode, newTree) {\n  oldNode.parentNode.replaceChild(newTree.node, oldNode);\n  insertTreeChildren(newTree);\n}\n\nfunction queueChild(parentTree, childTree) {\n  if (enableLazy) {\n    parentTree.children.push(childTree);\n  } else {\n    parentTree.node.appendChild(childTree.node);\n  }\n}\n\nfunction queueHTML(tree, html) {\n  if (enableLazy) {\n    tree.html = html;\n  } else {\n    setInnerHTML(tree.node, html);\n  }\n}\n\nfunction queueText(tree, text) {\n  if (enableLazy) {\n    tree.text = text;\n  } else {\n    setTextContent(tree.node, text);\n  }\n}\n\nfunction toString() {\n  return this.node.nodeName;\n}\n\nfunction DOMLazyTree(node) {\n  return {\n    node: node,\n    children: [],\n    html: null,\n    text: null,\n    toString: toString\n  };\n}\n\nDOMLazyTree.insertTreeBefore = insertTreeBefore;\nDOMLazyTree.replaceChildWithTree = replaceChildWithTree;\nDOMLazyTree.queueChild = queueChild;\nDOMLazyTree.queueHTML = queueHTML;\nDOMLazyTree.queueText = queueText;\n\nmodule.exports = DOMLazyTree;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/DOMLazyTree.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar DOMNamespaces = {\n  html: 'http://www.w3.org/1999/xhtml',\n  mathml: 'http://www.w3.org/1998/Math/MathML',\n  svg: 'http://www.w3.org/2000/svg'\n};\n\nmodule.exports = DOMNamespaces;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/DOMNamespaces.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment');\nvar DOMNamespaces = require('./DOMNamespaces');\n\nvar WHITESPACE_TEST = /^[ \\r\\n\\t\\f]/;\nvar NONVISIBLE_TEST = /<(!--|link|noscript|meta|script|style)[ \\r\\n\\t\\f\\/>]/;\n\nvar createMicrosoftUnsafeLocalFunction = require('./createMicrosoftUnsafeLocalFunction');\n\n// SVG temp container for IE lacking innerHTML\nvar reusableSVGContainer;\n\n/**\n * Set the innerHTML property of a node, ensuring that whitespace is preserved\n * even in IE8.\n *\n * @param {DOMElement} node\n * @param {string} html\n * @internal\n */\nvar setInnerHTML = createMicrosoftUnsafeLocalFunction(function (node, html) {\n  // IE does not have innerHTML for SVG nodes, so instead we inject the\n  // new markup in a temp node and then move the child nodes across into\n  // the target node\n  if (node.namespaceURI === DOMNamespaces.svg && !('innerHTML' in node)) {\n    reusableSVGContainer = reusableSVGContainer || document.createElement('div');\n    reusableSVGContainer.innerHTML = '<svg>' + html + '</svg>';\n    var svgNode = reusableSVGContainer.firstChild;\n    while (svgNode.firstChild) {\n      node.appendChild(svgNode.firstChild);\n    }\n  } else {\n    node.innerHTML = html;\n  }\n});\n\nif (ExecutionEnvironment.canUseDOM) {\n  // IE8: When updating a just created node with innerHTML only leading\n  // whitespace is removed. When updating an existing node with innerHTML\n  // whitespace in root TextNodes is also collapsed.\n  // @see quirksmode.org/bugreports/archives/2004/11/innerhtml_and_t.html\n\n  // Feature detection; only IE8 is known to behave improperly like this.\n  var testElement = document.createElement('div');\n  testElement.innerHTML = ' ';\n  if (testElement.innerHTML === '') {\n    setInnerHTML = function (node, html) {\n      // Magic theory: IE8 supposedly differentiates between added and updated\n      // nodes when processing innerHTML, innerHTML on updated nodes suffers\n      // from worse whitespace behavior. Re-adding a node like this triggers\n      // the initial and more favorable whitespace behavior.\n      // TODO: What to do on a detached node?\n      if (node.parentNode) {\n        node.parentNode.replaceChild(node, node);\n      }\n\n      // We also implement a workaround for non-visible tags disappearing into\n      // thin air on IE8, this only happens if there is no visible text\n      // in-front of the non-visible tags. Piggyback on the whitespace fix\n      // and simply check if any non-visible tags appear in the source.\n      if (WHITESPACE_TEST.test(html) || html[0] === '<' && NONVISIBLE_TEST.test(html)) {\n        // Recover leading whitespace by temporarily prepending any character.\n        // \\uFEFF has the potential advantage of being zero-width/invisible.\n        // UglifyJS drops U+FEFF chars when parsing, so use String.fromCharCode\n        // in hopes that this is preserved even if \"\\uFEFF\" is transformed to\n        // the actual Unicode character (by Babel, for example).\n        // https://github.com/mishoo/UglifyJS2/blob/v2.4.20/lib/parse.js#L216\n        node.innerHTML = String.fromCharCode(0xFEFF) + html;\n\n        // deleteData leaves an empty `TextNode` which offsets the index of all\n        // children. Definitely want to avoid this.\n        var textNode = node.firstChild;\n        if (textNode.data.length === 1) {\n          node.removeChild(textNode);\n        } else {\n          textNode.deleteData(0, 1);\n        }\n      } else {\n        node.innerHTML = html;\n      }\n    };\n  }\n  testElement = null;\n}\n\nmodule.exports = setInnerHTML;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/setInnerHTML.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n/* globals MSApp */\n\n'use strict';\n\n/**\n * Create a function which has 'unsafe' privileges (required by windows8 apps)\n */\n\nvar createMicrosoftUnsafeLocalFunction = function (func) {\n  if (typeof MSApp !== 'undefined' && MSApp.execUnsafeLocalFunction) {\n    return function (arg0, arg1, arg2, arg3) {\n      MSApp.execUnsafeLocalFunction(function () {\n        return func(arg0, arg1, arg2, arg3);\n      });\n    };\n  } else {\n    return func;\n  }\n};\n\nmodule.exports = createMicrosoftUnsafeLocalFunction;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/createMicrosoftUnsafeLocalFunction.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment');\nvar escapeTextContentForBrowser = require('./escapeTextContentForBrowser');\nvar setInnerHTML = require('./setInnerHTML');\n\n/**\n * Set the textContent property of a node, ensuring that whitespace is preserved\n * even in IE8. innerText is a poor substitute for textContent and, among many\n * issues, inserts <br> instead of the literal newline chars. innerHTML behaves\n * as it should.\n *\n * @param {DOMElement} node\n * @param {string} text\n * @internal\n */\nvar setTextContent = function (node, text) {\n  if (text) {\n    var firstChild = node.firstChild;\n\n    if (firstChild && firstChild === node.lastChild && firstChild.nodeType === 3) {\n      firstChild.nodeValue = text;\n      return;\n    }\n  }\n  node.textContent = text;\n};\n\nif (ExecutionEnvironment.canUseDOM) {\n  if (!('textContent' in document.documentElement)) {\n    setTextContent = function (node, text) {\n      if (node.nodeType === 3) {\n        node.nodeValue = text;\n        return;\n      }\n      setInnerHTML(node, escapeTextContentForBrowser(text));\n    };\n  }\n}\n\nmodule.exports = setTextContent;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/setTextContent.js","/**\n * Copyright 2016-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * Based on the escape-html library, which is used under the MIT License below:\n *\n * Copyright (c) 2012-2013 TJ Holowaychuk\n * Copyright (c) 2015 Andreas Lubbe\n * Copyright (c) 2015 Tiancheng \"Timothy\" Gu\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * 'Software'), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n *\n */\n\n'use strict';\n\n// code copied and modified from escape-html\n/**\n * Module variables.\n * @private\n */\n\nvar matchHtmlRegExp = /[\"'&<>]/;\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {string} string The string to escape for inserting into HTML\n * @return {string}\n * @public\n */\n\nfunction escapeHtml(string) {\n  var str = '' + string;\n  var match = matchHtmlRegExp.exec(str);\n\n  if (!match) {\n    return str;\n  }\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34:\n        // \"\n        escape = '&quot;';\n        break;\n      case 38:\n        // &\n        escape = '&amp;';\n        break;\n      case 39:\n        // '\n        escape = '&#x27;'; // modified from escape-html; used to be '&#39'\n        break;\n      case 60:\n        // <\n        escape = '&lt;';\n        break;\n      case 62:\n        // >\n        escape = '&gt;';\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index) {\n      html += str.substring(lastIndex, index);\n    }\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index ? html + str.substring(lastIndex, index) : html;\n}\n// end code copied and modified from escape-html\n\n\n/**\n * Escapes text to prevent scripting attacks.\n *\n * @param {*} text Text value to escape.\n * @return {string} An escaped string.\n */\nfunction escapeTextContentForBrowser(text) {\n  if (typeof text === 'boolean' || typeof text === 'number') {\n    // this shortcircuit helps perf for types that we know will never have\n    // special characters, especially given that this function is used often\n    // for numeric dom ids.\n    return '' + text;\n  }\n  return escapeHtml(text);\n}\n\nmodule.exports = escapeTextContentForBrowser;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/escapeTextContentForBrowser.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar DOMLazyTree = require('./DOMLazyTree');\nvar ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment');\n\nvar createNodesFromMarkup = require('fbjs/lib/createNodesFromMarkup');\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar invariant = require('fbjs/lib/invariant');\n\nvar Danger = {\n\n  /**\n   * Replaces a node with a string of markup at its current position within its\n   * parent. The markup must render into a single root node.\n   *\n   * @param {DOMElement} oldChild Child node to replace.\n   * @param {string} markup Markup to render in place of the child node.\n   * @internal\n   */\n  dangerouslyReplaceNodeWithMarkup: function (oldChild, markup) {\n    !ExecutionEnvironment.canUseDOM ? process.env.NODE_ENV !== 'production' ? invariant(false, 'dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString() for server rendering.') : _prodInvariant('56') : void 0;\n    !markup ? process.env.NODE_ENV !== 'production' ? invariant(false, 'dangerouslyReplaceNodeWithMarkup(...): Missing markup.') : _prodInvariant('57') : void 0;\n    !(oldChild.nodeName !== 'HTML') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See ReactDOMServer.renderToString().') : _prodInvariant('58') : void 0;\n\n    if (typeof markup === 'string') {\n      var newChild = createNodesFromMarkup(markup, emptyFunction)[0];\n      oldChild.parentNode.replaceChild(newChild, oldChild);\n    } else {\n      DOMLazyTree.replaceChildWithTree(oldChild, markup);\n    }\n  }\n\n};\n\nmodule.exports = Danger;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/Danger.js","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n */\n\n/*eslint-disable fb-www/unsafe-html*/\n\nvar ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar createArrayFromMixed = require('./createArrayFromMixed');\nvar getMarkupWrap = require('./getMarkupWrap');\nvar invariant = require('./invariant');\n\n/**\n * Dummy container used to render all markup.\n */\nvar dummyNode = ExecutionEnvironment.canUseDOM ? document.createElement('div') : null;\n\n/**\n * Pattern used by `getNodeName`.\n */\nvar nodeNamePattern = /^\\s*<(\\w+)/;\n\n/**\n * Extracts the `nodeName` of the first element in a string of markup.\n *\n * @param {string} markup String of markup.\n * @return {?string} Node name of the supplied markup.\n */\nfunction getNodeName(markup) {\n  var nodeNameMatch = markup.match(nodeNamePattern);\n  return nodeNameMatch && nodeNameMatch[1].toLowerCase();\n}\n\n/**\n * Creates an array containing the nodes rendered from the supplied markup. The\n * optionally supplied `handleScript` function will be invoked once for each\n * <script> element that is rendered. If no `handleScript` function is supplied,\n * an exception is thrown if any <script> elements are rendered.\n *\n * @param {string} markup A string of valid HTML markup.\n * @param {?function} handleScript Invoked once for each rendered <script>.\n * @return {array<DOMElement|DOMTextNode>} An array of rendered nodes.\n */\nfunction createNodesFromMarkup(markup, handleScript) {\n  var node = dummyNode;\n  !!!dummyNode ? process.env.NODE_ENV !== 'production' ? invariant(false, 'createNodesFromMarkup dummy not initialized') : invariant(false) : void 0;\n  var nodeName = getNodeName(markup);\n\n  var wrap = nodeName && getMarkupWrap(nodeName);\n  if (wrap) {\n    node.innerHTML = wrap[1] + markup + wrap[2];\n\n    var wrapDepth = wrap[0];\n    while (wrapDepth--) {\n      node = node.lastChild;\n    }\n  } else {\n    node.innerHTML = markup;\n  }\n\n  var scripts = node.getElementsByTagName('script');\n  if (scripts.length) {\n    !handleScript ? process.env.NODE_ENV !== 'production' ? invariant(false, 'createNodesFromMarkup(...): Unexpected <script> element rendered.') : invariant(false) : void 0;\n    createArrayFromMixed(scripts).forEach(handleScript);\n  }\n\n  var nodes = Array.from(node.childNodes);\n  while (node.lastChild) {\n    node.removeChild(node.lastChild);\n  }\n  return nodes;\n}\n\nmodule.exports = createNodesFromMarkup;\n\n\n// WEBPACK FOOTER //\n// ./~/fbjs/lib/createNodesFromMarkup.js","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n */\n\nvar invariant = require('./invariant');\n\n/**\n * Convert array-like objects to arrays.\n *\n * This API assumes the caller knows the contents of the data type. For less\n * well defined inputs use createArrayFromMixed.\n *\n * @param {object|function|filelist} obj\n * @return {array}\n */\nfunction toArray(obj) {\n  var length = obj.length;\n\n  // Some browsers builtin objects can report typeof 'function' (e.g. NodeList\n  // in old versions of Safari).\n  !(!Array.isArray(obj) && (typeof obj === 'object' || typeof obj === 'function')) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'toArray: Array-like object expected') : invariant(false) : void 0;\n\n  !(typeof length === 'number') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'toArray: Object needs a length property') : invariant(false) : void 0;\n\n  !(length === 0 || length - 1 in obj) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'toArray: Object should have keys for indices') : invariant(false) : void 0;\n\n  !(typeof obj.callee !== 'function') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'toArray: Object can\\'t be `arguments`. Use rest params ' + '(function(...args) {}) or Array.from() instead.') : invariant(false) : void 0;\n\n  // Old IE doesn't give collections access to hasOwnProperty. Assume inputs\n  // without method will throw during the slice call and skip straight to the\n  // fallback.\n  if (obj.hasOwnProperty) {\n    try {\n      return Array.prototype.slice.call(obj);\n    } catch (e) {\n      // IE < 9 does not support Array#slice on collections objects\n    }\n  }\n\n  // Fall back to copying key by key. This assumes all keys have a value,\n  // so will not preserve sparsely populated inputs.\n  var ret = Array(length);\n  for (var ii = 0; ii < length; ii++) {\n    ret[ii] = obj[ii];\n  }\n  return ret;\n}\n\n/**\n * Perform a heuristic test to determine if an object is \"array-like\".\n *\n *   A monk asked Joshu, a Zen master, \"Has a dog Buddha nature?\"\n *   Joshu replied: \"Mu.\"\n *\n * This function determines if its argument has \"array nature\": it returns\n * true if the argument is an actual array, an `arguments' object, or an\n * HTMLCollection (e.g. node.childNodes or node.getElementsByTagName()).\n *\n * It will return false for other array-like objects like Filelist.\n *\n * @param {*} obj\n * @return {boolean}\n */\nfunction hasArrayNature(obj) {\n  return (\n    // not null/false\n    !!obj && (\n    // arrays are objects, NodeLists are functions in Safari\n    typeof obj == 'object' || typeof obj == 'function') &&\n    // quacks like an array\n    'length' in obj &&\n    // not window\n    !('setInterval' in obj) &&\n    // no DOM node should be considered an array-like\n    // a 'select' element has 'length' and 'item' properties on IE8\n    typeof obj.nodeType != 'number' && (\n    // a real array\n    Array.isArray(obj) ||\n    // arguments\n    'callee' in obj ||\n    // HTMLCollection/NodeList\n    'item' in obj)\n  );\n}\n\n/**\n * Ensure that the argument is an array by wrapping it in an array if it is not.\n * Creates a copy of the argument if it is already an array.\n *\n * This is mostly useful idiomatically:\n *\n *   var createArrayFromMixed = require('createArrayFromMixed');\n *\n *   function takesOneOrMoreThings(things) {\n *     things = createArrayFromMixed(things);\n *     ...\n *   }\n *\n * This allows you to treat `things' as an array, but accept scalars in the API.\n *\n * If you need to convert an array-like object, like `arguments`, into an array\n * use toArray instead.\n *\n * @param {*} obj\n * @return {array}\n */\nfunction createArrayFromMixed(obj) {\n  if (!hasArrayNature(obj)) {\n    return [obj];\n  } else if (Array.isArray(obj)) {\n    return obj.slice();\n  } else {\n    return toArray(obj);\n  }\n}\n\nmodule.exports = createArrayFromMixed;\n\n\n// WEBPACK FOOTER //\n// ./~/fbjs/lib/createArrayFromMixed.js","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n/*eslint-disable fb-www/unsafe-html */\n\nvar ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar invariant = require('./invariant');\n\n/**\n * Dummy container used to detect which wraps are necessary.\n */\nvar dummyNode = ExecutionEnvironment.canUseDOM ? document.createElement('div') : null;\n\n/**\n * Some browsers cannot use `innerHTML` to render certain elements standalone,\n * so we wrap them, render the wrapped nodes, then extract the desired node.\n *\n * In IE8, certain elements cannot render alone, so wrap all elements ('*').\n */\n\nvar shouldWrap = {};\n\nvar selectWrap = [1, '<select multiple=\"true\">', '</select>'];\nvar tableWrap = [1, '<table>', '</table>'];\nvar trWrap = [3, '<table><tbody><tr>', '</tr></tbody></table>'];\n\nvar svgWrap = [1, '<svg xmlns=\"http://www.w3.org/2000/svg\">', '</svg>'];\n\nvar markupWrap = {\n  '*': [1, '?<div>', '</div>'],\n\n  'area': [1, '<map>', '</map>'],\n  'col': [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>'],\n  'legend': [1, '<fieldset>', '</fieldset>'],\n  'param': [1, '<object>', '</object>'],\n  'tr': [2, '<table><tbody>', '</tbody></table>'],\n\n  'optgroup': selectWrap,\n  'option': selectWrap,\n\n  'caption': tableWrap,\n  'colgroup': tableWrap,\n  'tbody': tableWrap,\n  'tfoot': tableWrap,\n  'thead': tableWrap,\n\n  'td': trWrap,\n  'th': trWrap\n};\n\n// Initialize the SVG elements since we know they'll always need to be wrapped\n// consistently. If they are created inside a <div> they will be initialized in\n// the wrong namespace (and will not display).\nvar svgElements = ['circle', 'clipPath', 'defs', 'ellipse', 'g', 'image', 'line', 'linearGradient', 'mask', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'text', 'tspan'];\nsvgElements.forEach(function (nodeName) {\n  markupWrap[nodeName] = svgWrap;\n  shouldWrap[nodeName] = true;\n});\n\n/**\n * Gets the markup wrap configuration for the supplied `nodeName`.\n *\n * NOTE: This lazily detects which wraps are necessary for the current browser.\n *\n * @param {string} nodeName Lowercase `nodeName`.\n * @return {?array} Markup wrap configuration, if applicable.\n */\nfunction getMarkupWrap(nodeName) {\n  !!!dummyNode ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Markup wrapping node not initialized') : invariant(false) : void 0;\n  if (!markupWrap.hasOwnProperty(nodeName)) {\n    nodeName = '*';\n  }\n  if (!shouldWrap.hasOwnProperty(nodeName)) {\n    if (nodeName === '*') {\n      dummyNode.innerHTML = '<link />';\n    } else {\n      dummyNode.innerHTML = '<' + nodeName + '></' + nodeName + '>';\n    }\n    shouldWrap[nodeName] = !dummyNode.firstChild;\n  }\n  return shouldWrap[nodeName] ? markupWrap[nodeName] : null;\n}\n\nmodule.exports = getMarkupWrap;\n\n\n// WEBPACK FOOTER //\n// ./~/fbjs/lib/getMarkupWrap.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar DOMChildrenOperations = require('./DOMChildrenOperations');\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\n\n/**\n * Operations used to process updates to DOM nodes.\n */\nvar ReactDOMIDOperations = {\n\n  /**\n   * Updates a component's children by processing a series of updates.\n   *\n   * @param {array<object>} updates List of update configurations.\n   * @internal\n   */\n  dangerouslyProcessChildrenUpdates: function (parentInst, updates) {\n    var node = ReactDOMComponentTree.getNodeFromInstance(parentInst);\n    DOMChildrenOperations.processUpdates(node, updates);\n  }\n};\n\nmodule.exports = ReactDOMIDOperations;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactDOMIDOperations.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n/* global hasOwnProperty:true */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant'),\n    _assign = require('object-assign');\n\nvar AutoFocusUtils = require('./AutoFocusUtils');\nvar CSSPropertyOperations = require('./CSSPropertyOperations');\nvar DOMLazyTree = require('./DOMLazyTree');\nvar DOMNamespaces = require('./DOMNamespaces');\nvar DOMProperty = require('./DOMProperty');\nvar DOMPropertyOperations = require('./DOMPropertyOperations');\nvar EventPluginHub = require('./EventPluginHub');\nvar EventPluginRegistry = require('./EventPluginRegistry');\nvar ReactBrowserEventEmitter = require('./ReactBrowserEventEmitter');\nvar ReactDOMComponentFlags = require('./ReactDOMComponentFlags');\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\nvar ReactDOMInput = require('./ReactDOMInput');\nvar ReactDOMOption = require('./ReactDOMOption');\nvar ReactDOMSelect = require('./ReactDOMSelect');\nvar ReactDOMTextarea = require('./ReactDOMTextarea');\nvar ReactInstrumentation = require('./ReactInstrumentation');\nvar ReactMultiChild = require('./ReactMultiChild');\nvar ReactServerRenderingTransaction = require('./ReactServerRenderingTransaction');\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar escapeTextContentForBrowser = require('./escapeTextContentForBrowser');\nvar invariant = require('fbjs/lib/invariant');\nvar isEventSupported = require('./isEventSupported');\nvar shallowEqual = require('fbjs/lib/shallowEqual');\nvar validateDOMNesting = require('./validateDOMNesting');\nvar warning = require('fbjs/lib/warning');\n\nvar Flags = ReactDOMComponentFlags;\nvar deleteListener = EventPluginHub.deleteListener;\nvar getNode = ReactDOMComponentTree.getNodeFromInstance;\nvar listenTo = ReactBrowserEventEmitter.listenTo;\nvar registrationNameModules = EventPluginRegistry.registrationNameModules;\n\n// For quickly matching children type, to test if can be treated as content.\nvar CONTENT_TYPES = { 'string': true, 'number': true };\n\nvar STYLE = 'style';\nvar HTML = '__html';\nvar RESERVED_PROPS = {\n  children: null,\n  dangerouslySetInnerHTML: null,\n  suppressContentEditableWarning: null\n};\n\n// Node type for document fragments (Node.DOCUMENT_FRAGMENT_NODE).\nvar DOC_FRAGMENT_TYPE = 11;\n\nfunction getDeclarationErrorAddendum(internalInstance) {\n  if (internalInstance) {\n    var owner = internalInstance._currentElement._owner || null;\n    if (owner) {\n      var name = owner.getName();\n      if (name) {\n        return ' This DOM node was rendered by `' + name + '`.';\n      }\n    }\n  }\n  return '';\n}\n\nfunction friendlyStringify(obj) {\n  if (typeof obj === 'object') {\n    if (Array.isArray(obj)) {\n      return '[' + obj.map(friendlyStringify).join(', ') + ']';\n    } else {\n      var pairs = [];\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var keyEscaped = /^[a-z$_][\\w$_]*$/i.test(key) ? key : JSON.stringify(key);\n          pairs.push(keyEscaped + ': ' + friendlyStringify(obj[key]));\n        }\n      }\n      return '{' + pairs.join(', ') + '}';\n    }\n  } else if (typeof obj === 'string') {\n    return JSON.stringify(obj);\n  } else if (typeof obj === 'function') {\n    return '[function object]';\n  }\n  // Differs from JSON.stringify in that undefined because undefined and that\n  // inf and nan don't become null\n  return String(obj);\n}\n\nvar styleMutationWarning = {};\n\nfunction checkAndWarnForMutatedStyle(style1, style2, component) {\n  if (style1 == null || style2 == null) {\n    return;\n  }\n  if (shallowEqual(style1, style2)) {\n    return;\n  }\n\n  var componentName = component._tag;\n  var owner = component._currentElement._owner;\n  var ownerName;\n  if (owner) {\n    ownerName = owner.getName();\n  }\n\n  var hash = ownerName + '|' + componentName;\n\n  if (styleMutationWarning.hasOwnProperty(hash)) {\n    return;\n  }\n\n  styleMutationWarning[hash] = true;\n\n  process.env.NODE_ENV !== 'production' ? warning(false, '`%s` was passed a style object that has previously been mutated. ' + 'Mutating `style` is deprecated. Consider cloning it beforehand. Check ' + 'the `render` %s. Previous style: %s. Mutated style: %s.', componentName, owner ? 'of `' + ownerName + '`' : 'using <' + componentName + '>', friendlyStringify(style1), friendlyStringify(style2)) : void 0;\n}\n\n/**\n * @param {object} component\n * @param {?object} props\n */\nfunction assertValidProps(component, props) {\n  if (!props) {\n    return;\n  }\n  // Note the use of `==` which checks for null or undefined.\n  if (voidElementTags[component._tag]) {\n    !(props.children == null && props.dangerouslySetInnerHTML == null) ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.%s', component._tag, component._currentElement._owner ? ' Check the render method of ' + component._currentElement._owner.getName() + '.' : '') : _prodInvariant('137', component._tag, component._currentElement._owner ? ' Check the render method of ' + component._currentElement._owner.getName() + '.' : '') : void 0;\n  }\n  if (props.dangerouslySetInnerHTML != null) {\n    !(props.children == null) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Can only set one of `children` or `props.dangerouslySetInnerHTML`.') : _prodInvariant('60') : void 0;\n    !(typeof props.dangerouslySetInnerHTML === 'object' && HTML in props.dangerouslySetInnerHTML) ? process.env.NODE_ENV !== 'production' ? invariant(false, '`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information.') : _prodInvariant('61') : void 0;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    process.env.NODE_ENV !== 'production' ? warning(props.innerHTML == null, 'Directly setting property `innerHTML` is not permitted. ' + 'For more information, lookup documentation on `dangerouslySetInnerHTML`.') : void 0;\n    process.env.NODE_ENV !== 'production' ? warning(props.suppressContentEditableWarning || !props.contentEditable || props.children == null, 'A component is `contentEditable` and contains `children` managed by ' + 'React. It is now your responsibility to guarantee that none of ' + 'those nodes are unexpectedly modified or duplicated. This is ' + 'probably not intentional.') : void 0;\n    process.env.NODE_ENV !== 'production' ? warning(props.onFocusIn == null && props.onFocusOut == null, 'React uses onFocus and onBlur instead of onFocusIn and onFocusOut. ' + 'All React events are normalized to bubble, so onFocusIn and onFocusOut ' + 'are not needed/supported by React.') : void 0;\n  }\n  !(props.style == null || typeof props.style === 'object') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + \\'em\\'}} when using JSX.%s', getDeclarationErrorAddendum(component)) : _prodInvariant('62', getDeclarationErrorAddendum(component)) : void 0;\n}\n\nfunction enqueuePutListener(inst, registrationName, listener, transaction) {\n  if (transaction instanceof ReactServerRenderingTransaction) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // IE8 has no API for event capturing and the `onScroll` event doesn't\n    // bubble.\n    process.env.NODE_ENV !== 'production' ? warning(registrationName !== 'onScroll' || isEventSupported('scroll', true), 'This browser doesn\\'t support the `onScroll` event') : void 0;\n  }\n  var containerInfo = inst._hostContainerInfo;\n  var isDocumentFragment = containerInfo._node && containerInfo._node.nodeType === DOC_FRAGMENT_TYPE;\n  var doc = isDocumentFragment ? containerInfo._node : containerInfo._ownerDocument;\n  listenTo(registrationName, doc);\n  transaction.getReactMountReady().enqueue(putListener, {\n    inst: inst,\n    registrationName: registrationName,\n    listener: listener\n  });\n}\n\nfunction putListener() {\n  var listenerToPut = this;\n  EventPluginHub.putListener(listenerToPut.inst, listenerToPut.registrationName, listenerToPut.listener);\n}\n\nfunction inputPostMount() {\n  var inst = this;\n  ReactDOMInput.postMountWrapper(inst);\n}\n\nfunction textareaPostMount() {\n  var inst = this;\n  ReactDOMTextarea.postMountWrapper(inst);\n}\n\nfunction optionPostMount() {\n  var inst = this;\n  ReactDOMOption.postMountWrapper(inst);\n}\n\nvar setAndValidateContentChildDev = emptyFunction;\nif (process.env.NODE_ENV !== 'production') {\n  setAndValidateContentChildDev = function (content) {\n    var hasExistingContent = this._contentDebugID != null;\n    var debugID = this._debugID;\n    // This ID represents the inlined child that has no backing instance:\n    var contentDebugID = -debugID;\n\n    if (content == null) {\n      if (hasExistingContent) {\n        ReactInstrumentation.debugTool.onUnmountComponent(this._contentDebugID);\n      }\n      this._contentDebugID = null;\n      return;\n    }\n\n    validateDOMNesting(null, String(content), this, this._ancestorInfo);\n    this._contentDebugID = contentDebugID;\n    if (hasExistingContent) {\n      ReactInstrumentation.debugTool.onBeforeUpdateComponent(contentDebugID, content);\n      ReactInstrumentation.debugTool.onUpdateComponent(contentDebugID);\n    } else {\n      ReactInstrumentation.debugTool.onBeforeMountComponent(contentDebugID, content, debugID);\n      ReactInstrumentation.debugTool.onMountComponent(contentDebugID);\n      ReactInstrumentation.debugTool.onSetChildren(debugID, [contentDebugID]);\n    }\n  };\n}\n\n// There are so many media events, it makes sense to just\n// maintain a list rather than create a `trapBubbledEvent` for each\nvar mediaEvents = {\n  topAbort: 'abort',\n  topCanPlay: 'canplay',\n  topCanPlayThrough: 'canplaythrough',\n  topDurationChange: 'durationchange',\n  topEmptied: 'emptied',\n  topEncrypted: 'encrypted',\n  topEnded: 'ended',\n  topError: 'error',\n  topLoadedData: 'loadeddata',\n  topLoadedMetadata: 'loadedmetadata',\n  topLoadStart: 'loadstart',\n  topPause: 'pause',\n  topPlay: 'play',\n  topPlaying: 'playing',\n  topProgress: 'progress',\n  topRateChange: 'ratechange',\n  topSeeked: 'seeked',\n  topSeeking: 'seeking',\n  topStalled: 'stalled',\n  topSuspend: 'suspend',\n  topTimeUpdate: 'timeupdate',\n  topVolumeChange: 'volumechange',\n  topWaiting: 'waiting'\n};\n\nfunction trapBubbledEventsLocal() {\n  var inst = this;\n  // If a component renders to null or if another component fatals and causes\n  // the state of the tree to be corrupted, `node` here can be null.\n  !inst._rootNodeID ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Must be mounted to trap events') : _prodInvariant('63') : void 0;\n  var node = getNode(inst);\n  !node ? process.env.NODE_ENV !== 'production' ? invariant(false, 'trapBubbledEvent(...): Requires node to be rendered.') : _prodInvariant('64') : void 0;\n\n  switch (inst._tag) {\n    case 'iframe':\n    case 'object':\n      inst._wrapperState.listeners = [ReactBrowserEventEmitter.trapBubbledEvent('topLoad', 'load', node)];\n      break;\n    case 'video':\n    case 'audio':\n\n      inst._wrapperState.listeners = [];\n      // Create listener for each media event\n      for (var event in mediaEvents) {\n        if (mediaEvents.hasOwnProperty(event)) {\n          inst._wrapperState.listeners.push(ReactBrowserEventEmitter.trapBubbledEvent(event, mediaEvents[event], node));\n        }\n      }\n      break;\n    case 'source':\n      inst._wrapperState.listeners = [ReactBrowserEventEmitter.trapBubbledEvent('topError', 'error', node)];\n      break;\n    case 'img':\n      inst._wrapperState.listeners = [ReactBrowserEventEmitter.trapBubbledEvent('topError', 'error', node), ReactBrowserEventEmitter.trapBubbledEvent('topLoad', 'load', node)];\n      break;\n    case 'form':\n      inst._wrapperState.listeners = [ReactBrowserEventEmitter.trapBubbledEvent('topReset', 'reset', node), ReactBrowserEventEmitter.trapBubbledEvent('topSubmit', 'submit', node)];\n      break;\n    case 'input':\n    case 'select':\n    case 'textarea':\n      inst._wrapperState.listeners = [ReactBrowserEventEmitter.trapBubbledEvent('topInvalid', 'invalid', node)];\n      break;\n  }\n}\n\nfunction postUpdateSelectWrapper() {\n  ReactDOMSelect.postUpdateWrapper(this);\n}\n\n// For HTML, certain tags should omit their close tag. We keep a whitelist for\n// those special-case tags.\n\nvar omittedCloseTags = {\n  'area': true,\n  'base': true,\n  'br': true,\n  'col': true,\n  'embed': true,\n  'hr': true,\n  'img': true,\n  'input': true,\n  'keygen': true,\n  'link': true,\n  'meta': true,\n  'param': true,\n  'source': true,\n  'track': true,\n  'wbr': true\n};\n\nvar newlineEatingTags = {\n  'listing': true,\n  'pre': true,\n  'textarea': true\n};\n\n// For HTML, certain tags cannot have children. This has the same purpose as\n// `omittedCloseTags` except that `menuitem` should still have its closing tag.\n\nvar voidElementTags = _assign({\n  'menuitem': true\n}, omittedCloseTags);\n\n// We accept any tag to be rendered but since this gets injected into arbitrary\n// HTML, we want to make sure that it's a safe tag.\n// http://www.w3.org/TR/REC-xml/#NT-Name\n\nvar VALID_TAG_REGEX = /^[a-zA-Z][a-zA-Z:_\\.\\-\\d]*$/; // Simplified subset\nvar validatedTagCache = {};\nvar hasOwnProperty = {}.hasOwnProperty;\n\nfunction validateDangerousTag(tag) {\n  if (!hasOwnProperty.call(validatedTagCache, tag)) {\n    !VALID_TAG_REGEX.test(tag) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Invalid tag: %s', tag) : _prodInvariant('65', tag) : void 0;\n    validatedTagCache[tag] = true;\n  }\n}\n\nfunction isCustomComponent(tagName, props) {\n  return tagName.indexOf('-') >= 0 || props.is != null;\n}\n\nvar globalIdCounter = 1;\n\n/**\n * Creates a new React class that is idempotent and capable of containing other\n * React components. It accepts event listeners and DOM properties that are\n * valid according to `DOMProperty`.\n *\n *  - Event listeners: `onClick`, `onMouseDown`, etc.\n *  - DOM properties: `className`, `name`, `title`, etc.\n *\n * The `style` property functions differently from the DOM API. It accepts an\n * object mapping of style properties to values.\n *\n * @constructor ReactDOMComponent\n * @extends ReactMultiChild\n */\nfunction ReactDOMComponent(element) {\n  var tag = element.type;\n  validateDangerousTag(tag);\n  this._currentElement = element;\n  this._tag = tag.toLowerCase();\n  this._namespaceURI = null;\n  this._renderedChildren = null;\n  this._previousStyle = null;\n  this._previousStyleCopy = null;\n  this._hostNode = null;\n  this._hostParent = null;\n  this._rootNodeID = 0;\n  this._domID = 0;\n  this._hostContainerInfo = null;\n  this._wrapperState = null;\n  this._topLevelWrapper = null;\n  this._flags = 0;\n  if (process.env.NODE_ENV !== 'production') {\n    this._ancestorInfo = null;\n    setAndValidateContentChildDev.call(this, null);\n  }\n}\n\nReactDOMComponent.displayName = 'ReactDOMComponent';\n\nReactDOMComponent.Mixin = {\n\n  /**\n   * Generates root tag markup then recurses. This method has side effects and\n   * is not idempotent.\n   *\n   * @internal\n   * @param {ReactReconcileTransaction|ReactServerRenderingTransaction} transaction\n   * @param {?ReactDOMComponent} the parent component instance\n   * @param {?object} info about the host container\n   * @param {object} context\n   * @return {string} The computed markup.\n   */\n  mountComponent: function (transaction, hostParent, hostContainerInfo, context) {\n    this._rootNodeID = globalIdCounter++;\n    this._domID = hostContainerInfo._idCounter++;\n    this._hostParent = hostParent;\n    this._hostContainerInfo = hostContainerInfo;\n\n    var props = this._currentElement.props;\n\n    switch (this._tag) {\n      case 'audio':\n      case 'form':\n      case 'iframe':\n      case 'img':\n      case 'link':\n      case 'object':\n      case 'source':\n      case 'video':\n        this._wrapperState = {\n          listeners: null\n        };\n        transaction.getReactMountReady().enqueue(trapBubbledEventsLocal, this);\n        break;\n      case 'input':\n        ReactDOMInput.mountWrapper(this, props, hostParent);\n        props = ReactDOMInput.getHostProps(this, props);\n        transaction.getReactMountReady().enqueue(trapBubbledEventsLocal, this);\n        break;\n      case 'option':\n        ReactDOMOption.mountWrapper(this, props, hostParent);\n        props = ReactDOMOption.getHostProps(this, props);\n        break;\n      case 'select':\n        ReactDOMSelect.mountWrapper(this, props, hostParent);\n        props = ReactDOMSelect.getHostProps(this, props);\n        transaction.getReactMountReady().enqueue(trapBubbledEventsLocal, this);\n        break;\n      case 'textarea':\n        ReactDOMTextarea.mountWrapper(this, props, hostParent);\n        props = ReactDOMTextarea.getHostProps(this, props);\n        transaction.getReactMountReady().enqueue(trapBubbledEventsLocal, this);\n        break;\n    }\n\n    assertValidProps(this, props);\n\n    // We create tags in the namespace of their parent container, except HTML\n    // tags get no namespace.\n    var namespaceURI;\n    var parentTag;\n    if (hostParent != null) {\n      namespaceURI = hostParent._namespaceURI;\n      parentTag = hostParent._tag;\n    } else if (hostContainerInfo._tag) {\n      namespaceURI = hostContainerInfo._namespaceURI;\n      parentTag = hostContainerInfo._tag;\n    }\n    if (namespaceURI == null || namespaceURI === DOMNamespaces.svg && parentTag === 'foreignobject') {\n      namespaceURI = DOMNamespaces.html;\n    }\n    if (namespaceURI === DOMNamespaces.html) {\n      if (this._tag === 'svg') {\n        namespaceURI = DOMNamespaces.svg;\n      } else if (this._tag === 'math') {\n        namespaceURI = DOMNamespaces.mathml;\n      }\n    }\n    this._namespaceURI = namespaceURI;\n\n    if (process.env.NODE_ENV !== 'production') {\n      var parentInfo;\n      if (hostParent != null) {\n        parentInfo = hostParent._ancestorInfo;\n      } else if (hostContainerInfo._tag) {\n        parentInfo = hostContainerInfo._ancestorInfo;\n      }\n      if (parentInfo) {\n        // parentInfo should always be present except for the top-level\n        // component when server rendering\n        validateDOMNesting(this._tag, null, this, parentInfo);\n      }\n      this._ancestorInfo = validateDOMNesting.updatedAncestorInfo(parentInfo, this._tag, this);\n    }\n\n    var mountImage;\n    if (transaction.useCreateElement) {\n      var ownerDocument = hostContainerInfo._ownerDocument;\n      var el;\n      if (namespaceURI === DOMNamespaces.html) {\n        if (this._tag === 'script') {\n          // Create the script via .innerHTML so its \"parser-inserted\" flag is\n          // set to true and it does not execute\n          var div = ownerDocument.createElement('div');\n          var type = this._currentElement.type;\n          div.innerHTML = '<' + type + '></' + type + '>';\n          el = div.removeChild(div.firstChild);\n        } else if (props.is) {\n          el = ownerDocument.createElement(this._currentElement.type, props.is);\n        } else {\n          // Separate else branch instead of using `props.is || undefined` above becuase of a Firefox bug.\n          // See discussion in https://github.com/facebook/react/pull/6896\n          // and discussion in https://bugzilla.mozilla.org/show_bug.cgi?id=1276240\n          el = ownerDocument.createElement(this._currentElement.type);\n        }\n      } else {\n        el = ownerDocument.createElementNS(namespaceURI, this._currentElement.type);\n      }\n      ReactDOMComponentTree.precacheNode(this, el);\n      this._flags |= Flags.hasCachedChildNodes;\n      if (!this._hostParent) {\n        DOMPropertyOperations.setAttributeForRoot(el);\n      }\n      this._updateDOMProperties(null, props, transaction);\n      var lazyTree = DOMLazyTree(el);\n      this._createInitialChildren(transaction, props, context, lazyTree);\n      mountImage = lazyTree;\n    } else {\n      var tagOpen = this._createOpenTagMarkupAndPutListeners(transaction, props);\n      var tagContent = this._createContentMarkup(transaction, props, context);\n      if (!tagContent && omittedCloseTags[this._tag]) {\n        mountImage = tagOpen + '/>';\n      } else {\n        mountImage = tagOpen + '>' + tagContent + '</' + this._currentElement.type + '>';\n      }\n    }\n\n    switch (this._tag) {\n      case 'input':\n        transaction.getReactMountReady().enqueue(inputPostMount, this);\n        if (props.autoFocus) {\n          transaction.getReactMountReady().enqueue(AutoFocusUtils.focusDOMComponent, this);\n        }\n        break;\n      case 'textarea':\n        transaction.getReactMountReady().enqueue(textareaPostMount, this);\n        if (props.autoFocus) {\n          transaction.getReactMountReady().enqueue(AutoFocusUtils.focusDOMComponent, this);\n        }\n        break;\n      case 'select':\n        if (props.autoFocus) {\n          transaction.getReactMountReady().enqueue(AutoFocusUtils.focusDOMComponent, this);\n        }\n        break;\n      case 'button':\n        if (props.autoFocus) {\n          transaction.getReactMountReady().enqueue(AutoFocusUtils.focusDOMComponent, this);\n        }\n        break;\n      case 'option':\n        transaction.getReactMountReady().enqueue(optionPostMount, this);\n        break;\n    }\n\n    return mountImage;\n  },\n\n  /**\n   * Creates markup for the open tag and all attributes.\n   *\n   * This method has side effects because events get registered.\n   *\n   * Iterating over object properties is faster than iterating over arrays.\n   * @see http://jsperf.com/obj-vs-arr-iteration\n   *\n   * @private\n   * @param {ReactReconcileTransaction|ReactServerRenderingTransaction} transaction\n   * @param {object} props\n   * @return {string} Markup of opening tag.\n   */\n  _createOpenTagMarkupAndPutListeners: function (transaction, props) {\n    var ret = '<' + this._currentElement.type;\n\n    for (var propKey in props) {\n      if (!props.hasOwnProperty(propKey)) {\n        continue;\n      }\n      var propValue = props[propKey];\n      if (propValue == null) {\n        continue;\n      }\n      if (registrationNameModules.hasOwnProperty(propKey)) {\n        if (propValue) {\n          enqueuePutListener(this, propKey, propValue, transaction);\n        }\n      } else {\n        if (propKey === STYLE) {\n          if (propValue) {\n            if (process.env.NODE_ENV !== 'production') {\n              // See `_updateDOMProperties`. style block\n              this._previousStyle = propValue;\n            }\n            propValue = this._previousStyleCopy = _assign({}, props.style);\n          }\n          propValue = CSSPropertyOperations.createMarkupForStyles(propValue, this);\n        }\n        var markup = null;\n        if (this._tag != null && isCustomComponent(this._tag, props)) {\n          if (!RESERVED_PROPS.hasOwnProperty(propKey)) {\n            markup = DOMPropertyOperations.createMarkupForCustomAttribute(propKey, propValue);\n          }\n        } else {\n          markup = DOMPropertyOperations.createMarkupForProperty(propKey, propValue);\n        }\n        if (markup) {\n          ret += ' ' + markup;\n        }\n      }\n    }\n\n    // For static pages, no need to put React ID and checksum. Saves lots of\n    // bytes.\n    if (transaction.renderToStaticMarkup) {\n      return ret;\n    }\n\n    if (!this._hostParent) {\n      ret += ' ' + DOMPropertyOperations.createMarkupForRoot();\n    }\n    ret += ' ' + DOMPropertyOperations.createMarkupForID(this._domID);\n    return ret;\n  },\n\n  /**\n   * Creates markup for the content between the tags.\n   *\n   * @private\n   * @param {ReactReconcileTransaction|ReactServerRenderingTransaction} transaction\n   * @param {object} props\n   * @param {object} context\n   * @return {string} Content markup.\n   */\n  _createContentMarkup: function (transaction, props, context) {\n    var ret = '';\n\n    // Intentional use of != to avoid catching zero/false.\n    var innerHTML = props.dangerouslySetInnerHTML;\n    if (innerHTML != null) {\n      if (innerHTML.__html != null) {\n        ret = innerHTML.__html;\n      }\n    } else {\n      var contentToUse = CONTENT_TYPES[typeof props.children] ? props.children : null;\n      var childrenToUse = contentToUse != null ? null : props.children;\n      if (contentToUse != null) {\n        // TODO: Validate that text is allowed as a child of this node\n        ret = escapeTextContentForBrowser(contentToUse);\n        if (process.env.NODE_ENV !== 'production') {\n          setAndValidateContentChildDev.call(this, contentToUse);\n        }\n      } else if (childrenToUse != null) {\n        var mountImages = this.mountChildren(childrenToUse, transaction, context);\n        ret = mountImages.join('');\n      }\n    }\n    if (newlineEatingTags[this._tag] && ret.charAt(0) === '\\n') {\n      // text/html ignores the first character in these tags if it's a newline\n      // Prefer to break application/xml over text/html (for now) by adding\n      // a newline specifically to get eaten by the parser. (Alternately for\n      // textareas, replacing \"^\\n\" with \"\\r\\n\" doesn't get eaten, and the first\n      // \\r is normalized out by HTMLTextAreaElement#value.)\n      // See: <http://www.w3.org/TR/html-polyglot/#newlines-in-textarea-and-pre>\n      // See: <http://www.w3.org/TR/html5/syntax.html#element-restrictions>\n      // See: <http://www.w3.org/TR/html5/syntax.html#newlines>\n      // See: Parsing of \"textarea\" \"listing\" and \"pre\" elements\n      //  from <http://www.w3.org/TR/html5/syntax.html#parsing-main-inbody>\n      return '\\n' + ret;\n    } else {\n      return ret;\n    }\n  },\n\n  _createInitialChildren: function (transaction, props, context, lazyTree) {\n    // Intentional use of != to avoid catching zero/false.\n    var innerHTML = props.dangerouslySetInnerHTML;\n    if (innerHTML != null) {\n      if (innerHTML.__html != null) {\n        DOMLazyTree.queueHTML(lazyTree, innerHTML.__html);\n      }\n    } else {\n      var contentToUse = CONTENT_TYPES[typeof props.children] ? props.children : null;\n      var childrenToUse = contentToUse != null ? null : props.children;\n      // TODO: Validate that text is allowed as a child of this node\n      if (contentToUse != null) {\n        // Avoid setting textContent when the text is empty. In IE11 setting\n        // textContent on a text area will cause the placeholder to not\n        // show within the textarea until it has been focused and blurred again.\n        // https://github.com/facebook/react/issues/6731#issuecomment-254874553\n        if (contentToUse !== '') {\n          if (process.env.NODE_ENV !== 'production') {\n            setAndValidateContentChildDev.call(this, contentToUse);\n          }\n          DOMLazyTree.queueText(lazyTree, contentToUse);\n        }\n      } else if (childrenToUse != null) {\n        var mountImages = this.mountChildren(childrenToUse, transaction, context);\n        for (var i = 0; i < mountImages.length; i++) {\n          DOMLazyTree.queueChild(lazyTree, mountImages[i]);\n        }\n      }\n    }\n  },\n\n  /**\n   * Receives a next element and updates the component.\n   *\n   * @internal\n   * @param {ReactElement} nextElement\n   * @param {ReactReconcileTransaction|ReactServerRenderingTransaction} transaction\n   * @param {object} context\n   */\n  receiveComponent: function (nextElement, transaction, context) {\n    var prevElement = this._currentElement;\n    this._currentElement = nextElement;\n    this.updateComponent(transaction, prevElement, nextElement, context);\n  },\n\n  /**\n   * Updates a DOM component after it has already been allocated and\n   * attached to the DOM. Reconciles the root DOM node, then recurses.\n   *\n   * @param {ReactReconcileTransaction} transaction\n   * @param {ReactElement} prevElement\n   * @param {ReactElement} nextElement\n   * @internal\n   * @overridable\n   */\n  updateComponent: function (transaction, prevElement, nextElement, context) {\n    var lastProps = prevElement.props;\n    var nextProps = this._currentElement.props;\n\n    switch (this._tag) {\n      case 'input':\n        lastProps = ReactDOMInput.getHostProps(this, lastProps);\n        nextProps = ReactDOMInput.getHostProps(this, nextProps);\n        break;\n      case 'option':\n        lastProps = ReactDOMOption.getHostProps(this, lastProps);\n        nextProps = ReactDOMOption.getHostProps(this, nextProps);\n        break;\n      case 'select':\n        lastProps = ReactDOMSelect.getHostProps(this, lastProps);\n        nextProps = ReactDOMSelect.getHostProps(this, nextProps);\n        break;\n      case 'textarea':\n        lastProps = ReactDOMTextarea.getHostProps(this, lastProps);\n        nextProps = ReactDOMTextarea.getHostProps(this, nextProps);\n        break;\n    }\n\n    assertValidProps(this, nextProps);\n    this._updateDOMProperties(lastProps, nextProps, transaction);\n    this._updateDOMChildren(lastProps, nextProps, transaction, context);\n\n    switch (this._tag) {\n      case 'input':\n        // Update the wrapper around inputs *after* updating props. This has to\n        // happen after `_updateDOMProperties`. Otherwise HTML5 input validations\n        // raise warnings and prevent the new value from being assigned.\n        ReactDOMInput.updateWrapper(this);\n        break;\n      case 'textarea':\n        ReactDOMTextarea.updateWrapper(this);\n        break;\n      case 'select':\n        // <select> value update needs to occur after <option> children\n        // reconciliation\n        transaction.getReactMountReady().enqueue(postUpdateSelectWrapper, this);\n        break;\n    }\n  },\n\n  /**\n   * Reconciles the properties by detecting differences in property values and\n   * updating the DOM as necessary. This function is probably the single most\n   * critical path for performance optimization.\n   *\n   * TODO: Benchmark whether checking for changed values in memory actually\n   *       improves performance (especially statically positioned elements).\n   * TODO: Benchmark the effects of putting this at the top since 99% of props\n   *       do not change for a given reconciliation.\n   * TODO: Benchmark areas that can be improved with caching.\n   *\n   * @private\n   * @param {object} lastProps\n   * @param {object} nextProps\n   * @param {?DOMElement} node\n   */\n  _updateDOMProperties: function (lastProps, nextProps, transaction) {\n    var propKey;\n    var styleName;\n    var styleUpdates;\n    for (propKey in lastProps) {\n      if (nextProps.hasOwnProperty(propKey) || !lastProps.hasOwnProperty(propKey) || lastProps[propKey] == null) {\n        continue;\n      }\n      if (propKey === STYLE) {\n        var lastStyle = this._previousStyleCopy;\n        for (styleName in lastStyle) {\n          if (lastStyle.hasOwnProperty(styleName)) {\n            styleUpdates = styleUpdates || {};\n            styleUpdates[styleName] = '';\n          }\n        }\n        this._previousStyleCopy = null;\n      } else if (registrationNameModules.hasOwnProperty(propKey)) {\n        if (lastProps[propKey]) {\n          // Only call deleteListener if there was a listener previously or\n          // else willDeleteListener gets called when there wasn't actually a\n          // listener (e.g., onClick={null})\n          deleteListener(this, propKey);\n        }\n      } else if (isCustomComponent(this._tag, lastProps)) {\n        if (!RESERVED_PROPS.hasOwnProperty(propKey)) {\n          DOMPropertyOperations.deleteValueForAttribute(getNode(this), propKey);\n        }\n      } else if (DOMProperty.properties[propKey] || DOMProperty.isCustomAttribute(propKey)) {\n        DOMPropertyOperations.deleteValueForProperty(getNode(this), propKey);\n      }\n    }\n    for (propKey in nextProps) {\n      var nextProp = nextProps[propKey];\n      var lastProp = propKey === STYLE ? this._previousStyleCopy : lastProps != null ? lastProps[propKey] : undefined;\n      if (!nextProps.hasOwnProperty(propKey) || nextProp === lastProp || nextProp == null && lastProp == null) {\n        continue;\n      }\n      if (propKey === STYLE) {\n        if (nextProp) {\n          if (process.env.NODE_ENV !== 'production') {\n            checkAndWarnForMutatedStyle(this._previousStyleCopy, this._previousStyle, this);\n            this._previousStyle = nextProp;\n          }\n          nextProp = this._previousStyleCopy = _assign({}, nextProp);\n        } else {\n          this._previousStyleCopy = null;\n        }\n        if (lastProp) {\n          // Unset styles on `lastProp` but not on `nextProp`.\n          for (styleName in lastProp) {\n            if (lastProp.hasOwnProperty(styleName) && (!nextProp || !nextProp.hasOwnProperty(styleName))) {\n              styleUpdates = styleUpdates || {};\n              styleUpdates[styleName] = '';\n            }\n          }\n          // Update styles that changed since `lastProp`.\n          for (styleName in nextProp) {\n            if (nextProp.hasOwnProperty(styleName) && lastProp[styleName] !== nextProp[styleName]) {\n              styleUpdates = styleUpdates || {};\n              styleUpdates[styleName] = nextProp[styleName];\n            }\n          }\n        } else {\n          // Relies on `updateStylesByID` not mutating `styleUpdates`.\n          styleUpdates = nextProp;\n        }\n      } else if (registrationNameModules.hasOwnProperty(propKey)) {\n        if (nextProp) {\n          enqueuePutListener(this, propKey, nextProp, transaction);\n        } else if (lastProp) {\n          deleteListener(this, propKey);\n        }\n      } else if (isCustomComponent(this._tag, nextProps)) {\n        if (!RESERVED_PROPS.hasOwnProperty(propKey)) {\n          DOMPropertyOperations.setValueForAttribute(getNode(this), propKey, nextProp);\n        }\n      } else if (DOMProperty.properties[propKey] || DOMProperty.isCustomAttribute(propKey)) {\n        var node = getNode(this);\n        // If we're updating to null or undefined, we should remove the property\n        // from the DOM node instead of inadvertently setting to a string. This\n        // brings us in line with the same behavior we have on initial render.\n        if (nextProp != null) {\n          DOMPropertyOperations.setValueForProperty(node, propKey, nextProp);\n        } else {\n          DOMPropertyOperations.deleteValueForProperty(node, propKey);\n        }\n      }\n    }\n    if (styleUpdates) {\n      CSSPropertyOperations.setValueForStyles(getNode(this), styleUpdates, this);\n    }\n  },\n\n  /**\n   * Reconciles the children with the various properties that affect the\n   * children content.\n   *\n   * @param {object} lastProps\n   * @param {object} nextProps\n   * @param {ReactReconcileTransaction} transaction\n   * @param {object} context\n   */\n  _updateDOMChildren: function (lastProps, nextProps, transaction, context) {\n    var lastContent = CONTENT_TYPES[typeof lastProps.children] ? lastProps.children : null;\n    var nextContent = CONTENT_TYPES[typeof nextProps.children] ? nextProps.children : null;\n\n    var lastHtml = lastProps.dangerouslySetInnerHTML && lastProps.dangerouslySetInnerHTML.__html;\n    var nextHtml = nextProps.dangerouslySetInnerHTML && nextProps.dangerouslySetInnerHTML.__html;\n\n    // Note the use of `!=` which checks for null or undefined.\n    var lastChildren = lastContent != null ? null : lastProps.children;\n    var nextChildren = nextContent != null ? null : nextProps.children;\n\n    // If we're switching from children to content/html or vice versa, remove\n    // the old content\n    var lastHasContentOrHtml = lastContent != null || lastHtml != null;\n    var nextHasContentOrHtml = nextContent != null || nextHtml != null;\n    if (lastChildren != null && nextChildren == null) {\n      this.updateChildren(null, transaction, context);\n    } else if (lastHasContentOrHtml && !nextHasContentOrHtml) {\n      this.updateTextContent('');\n      if (process.env.NODE_ENV !== 'production') {\n        ReactInstrumentation.debugTool.onSetChildren(this._debugID, []);\n      }\n    }\n\n    if (nextContent != null) {\n      if (lastContent !== nextContent) {\n        this.updateTextContent('' + nextContent);\n        if (process.env.NODE_ENV !== 'production') {\n          setAndValidateContentChildDev.call(this, nextContent);\n        }\n      }\n    } else if (nextHtml != null) {\n      if (lastHtml !== nextHtml) {\n        this.updateMarkup('' + nextHtml);\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        ReactInstrumentation.debugTool.onSetChildren(this._debugID, []);\n      }\n    } else if (nextChildren != null) {\n      if (process.env.NODE_ENV !== 'production') {\n        setAndValidateContentChildDev.call(this, null);\n      }\n\n      this.updateChildren(nextChildren, transaction, context);\n    }\n  },\n\n  getHostNode: function () {\n    return getNode(this);\n  },\n\n  /**\n   * Destroys all event registrations for this instance. Does not remove from\n   * the DOM. That must be done by the parent.\n   *\n   * @internal\n   */\n  unmountComponent: function (safely) {\n    switch (this._tag) {\n      case 'audio':\n      case 'form':\n      case 'iframe':\n      case 'img':\n      case 'link':\n      case 'object':\n      case 'source':\n      case 'video':\n        var listeners = this._wrapperState.listeners;\n        if (listeners) {\n          for (var i = 0; i < listeners.length; i++) {\n            listeners[i].remove();\n          }\n        }\n        break;\n      case 'html':\n      case 'head':\n      case 'body':\n        /**\n         * Components like <html> <head> and <body> can't be removed or added\n         * easily in a cross-browser way, however it's valuable to be able to\n         * take advantage of React's reconciliation for styling and <title>\n         * management. So we just document it and throw in dangerous cases.\n         */\n        !false ? process.env.NODE_ENV !== 'production' ? invariant(false, '<%s> tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.', this._tag) : _prodInvariant('66', this._tag) : void 0;\n        break;\n    }\n\n    this.unmountChildren(safely);\n    ReactDOMComponentTree.uncacheNode(this);\n    EventPluginHub.deleteAllListeners(this);\n    this._rootNodeID = 0;\n    this._domID = 0;\n    this._wrapperState = null;\n\n    if (process.env.NODE_ENV !== 'production') {\n      setAndValidateContentChildDev.call(this, null);\n    }\n  },\n\n  getPublicInstance: function () {\n    return getNode(this);\n  }\n\n};\n\n_assign(ReactDOMComponent.prototype, ReactDOMComponent.Mixin, ReactMultiChild.Mixin);\n\nmodule.exports = ReactDOMComponent;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactDOMComponent.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\n\nvar focusNode = require('fbjs/lib/focusNode');\n\nvar AutoFocusUtils = {\n  focusDOMComponent: function () {\n    focusNode(ReactDOMComponentTree.getNodeFromInstance(this));\n  }\n};\n\nmodule.exports = AutoFocusUtils;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/AutoFocusUtils.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\n/**\n * @param {DOMElement} node input/textarea to focus\n */\n\nfunction focusNode(node) {\n  // IE8 can throw \"Can't move focus to the control because it is invisible,\n  // not enabled, or of a type that does not accept the focus.\" for all kinds of\n  // reasons that are too expensive and fragile to test.\n  try {\n    node.focus();\n  } catch (e) {}\n}\n\nmodule.exports = focusNode;\n\n\n// WEBPACK FOOTER //\n// ./~/fbjs/lib/focusNode.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar CSSProperty = require('./CSSProperty');\nvar ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment');\nvar ReactInstrumentation = require('./ReactInstrumentation');\n\nvar camelizeStyleName = require('fbjs/lib/camelizeStyleName');\nvar dangerousStyleValue = require('./dangerousStyleValue');\nvar hyphenateStyleName = require('fbjs/lib/hyphenateStyleName');\nvar memoizeStringOnly = require('fbjs/lib/memoizeStringOnly');\nvar warning = require('fbjs/lib/warning');\n\nvar processStyleName = memoizeStringOnly(function (styleName) {\n  return hyphenateStyleName(styleName);\n});\n\nvar hasShorthandPropertyBug = false;\nvar styleFloatAccessor = 'cssFloat';\nif (ExecutionEnvironment.canUseDOM) {\n  var tempStyle = document.createElement('div').style;\n  try {\n    // IE8 throws \"Invalid argument.\" if resetting shorthand style properties.\n    tempStyle.font = '';\n  } catch (e) {\n    hasShorthandPropertyBug = true;\n  }\n  // IE8 only supports accessing cssFloat (standard) as styleFloat\n  if (document.documentElement.style.cssFloat === undefined) {\n    styleFloatAccessor = 'styleFloat';\n  }\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  // 'msTransform' is correct, but the other prefixes should be capitalized\n  var badVendoredStyleNamePattern = /^(?:webkit|moz|o)[A-Z]/;\n\n  // style values shouldn't contain a semicolon\n  var badStyleValueWithSemicolonPattern = /;\\s*$/;\n\n  var warnedStyleNames = {};\n  var warnedStyleValues = {};\n  var warnedForNaNValue = false;\n\n  var warnHyphenatedStyleName = function (name, owner) {\n    if (warnedStyleNames.hasOwnProperty(name) && warnedStyleNames[name]) {\n      return;\n    }\n\n    warnedStyleNames[name] = true;\n    process.env.NODE_ENV !== 'production' ? warning(false, 'Unsupported style property %s. Did you mean %s?%s', name, camelizeStyleName(name), checkRenderMessage(owner)) : void 0;\n  };\n\n  var warnBadVendoredStyleName = function (name, owner) {\n    if (warnedStyleNames.hasOwnProperty(name) && warnedStyleNames[name]) {\n      return;\n    }\n\n    warnedStyleNames[name] = true;\n    process.env.NODE_ENV !== 'production' ? warning(false, 'Unsupported vendor-prefixed style property %s. Did you mean %s?%s', name, name.charAt(0).toUpperCase() + name.slice(1), checkRenderMessage(owner)) : void 0;\n  };\n\n  var warnStyleValueWithSemicolon = function (name, value, owner) {\n    if (warnedStyleValues.hasOwnProperty(value) && warnedStyleValues[value]) {\n      return;\n    }\n\n    warnedStyleValues[value] = true;\n    process.env.NODE_ENV !== 'production' ? warning(false, 'Style property values shouldn\\'t contain a semicolon.%s ' + 'Try \"%s: %s\" instead.', checkRenderMessage(owner), name, value.replace(badStyleValueWithSemicolonPattern, '')) : void 0;\n  };\n\n  var warnStyleValueIsNaN = function (name, value, owner) {\n    if (warnedForNaNValue) {\n      return;\n    }\n\n    warnedForNaNValue = true;\n    process.env.NODE_ENV !== 'production' ? warning(false, '`NaN` is an invalid value for the `%s` css style property.%s', name, checkRenderMessage(owner)) : void 0;\n  };\n\n  var checkRenderMessage = function (owner) {\n    if (owner) {\n      var name = owner.getName();\n      if (name) {\n        return ' Check the render method of `' + name + '`.';\n      }\n    }\n    return '';\n  };\n\n  /**\n   * @param {string} name\n   * @param {*} value\n   * @param {ReactDOMComponent} component\n   */\n  var warnValidStyle = function (name, value, component) {\n    var owner;\n    if (component) {\n      owner = component._currentElement._owner;\n    }\n    if (name.indexOf('-') > -1) {\n      warnHyphenatedStyleName(name, owner);\n    } else if (badVendoredStyleNamePattern.test(name)) {\n      warnBadVendoredStyleName(name, owner);\n    } else if (badStyleValueWithSemicolonPattern.test(value)) {\n      warnStyleValueWithSemicolon(name, value, owner);\n    }\n\n    if (typeof value === 'number' && isNaN(value)) {\n      warnStyleValueIsNaN(name, value, owner);\n    }\n  };\n}\n\n/**\n * Operations for dealing with CSS properties.\n */\nvar CSSPropertyOperations = {\n\n  /**\n   * Serializes a mapping of style properties for use as inline styles:\n   *\n   *   > createMarkupForStyles({width: '200px', height: 0})\n   *   \"width:200px;height:0;\"\n   *\n   * Undefined values are ignored so that declarative programming is easier.\n   * The result should be HTML-escaped before insertion into the DOM.\n   *\n   * @param {object} styles\n   * @param {ReactDOMComponent} component\n   * @return {?string}\n   */\n  createMarkupForStyles: function (styles, component) {\n    var serialized = '';\n    for (var styleName in styles) {\n      if (!styles.hasOwnProperty(styleName)) {\n        continue;\n      }\n      var styleValue = styles[styleName];\n      if (process.env.NODE_ENV !== 'production') {\n        warnValidStyle(styleName, styleValue, component);\n      }\n      if (styleValue != null) {\n        serialized += processStyleName(styleName) + ':';\n        serialized += dangerousStyleValue(styleName, styleValue, component) + ';';\n      }\n    }\n    return serialized || null;\n  },\n\n  /**\n   * Sets the value for multiple styles on a node.  If a value is specified as\n   * '' (empty string), the corresponding style property will be unset.\n   *\n   * @param {DOMElement} node\n   * @param {object} styles\n   * @param {ReactDOMComponent} component\n   */\n  setValueForStyles: function (node, styles, component) {\n    if (process.env.NODE_ENV !== 'production') {\n      ReactInstrumentation.debugTool.onHostOperation({\n        instanceID: component._debugID,\n        type: 'update styles',\n        payload: styles\n      });\n    }\n\n    var style = node.style;\n    for (var styleName in styles) {\n      if (!styles.hasOwnProperty(styleName)) {\n        continue;\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        warnValidStyle(styleName, styles[styleName], component);\n      }\n      var styleValue = dangerousStyleValue(styleName, styles[styleName], component);\n      if (styleName === 'float' || styleName === 'cssFloat') {\n        styleName = styleFloatAccessor;\n      }\n      if (styleValue) {\n        style[styleName] = styleValue;\n      } else {\n        var expansion = hasShorthandPropertyBug && CSSProperty.shorthandPropertyExpansions[styleName];\n        if (expansion) {\n          // Shorthand property that IE8 won't like unsetting, so unset each\n          // component to placate it\n          for (var individualStyleName in expansion) {\n            style[individualStyleName] = '';\n          }\n        } else {\n          style[styleName] = '';\n        }\n      }\n    }\n  }\n\n};\n\nmodule.exports = CSSPropertyOperations;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/CSSPropertyOperations.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\n/**\n * CSS properties which accept numbers but are not in units of \"px\".\n */\n\nvar isUnitlessNumber = {\n  animationIterationCount: true,\n  borderImageOutset: true,\n  borderImageSlice: true,\n  borderImageWidth: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridColumn: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n\n  // SVG-related properties\n  fillOpacity: true,\n  floodOpacity: true,\n  stopOpacity: true,\n  strokeDasharray: true,\n  strokeDashoffset: true,\n  strokeMiterlimit: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\n\n/**\n * @param {string} prefix vendor-specific prefix, eg: Webkit\n * @param {string} key style name, eg: transitionDuration\n * @return {string} style name prefixed with `prefix`, properly camelCased, eg:\n * WebkitTransitionDuration\n */\nfunction prefixKey(prefix, key) {\n  return prefix + key.charAt(0).toUpperCase() + key.substring(1);\n}\n\n/**\n * Support style names that may come passed in prefixed by adding permutations\n * of vendor prefixes.\n */\nvar prefixes = ['Webkit', 'ms', 'Moz', 'O'];\n\n// Using Object.keys here, or else the vanilla for-in loop makes IE8 go into an\n// infinite loop, because it iterates over the newly added props too.\nObject.keys(isUnitlessNumber).forEach(function (prop) {\n  prefixes.forEach(function (prefix) {\n    isUnitlessNumber[prefixKey(prefix, prop)] = isUnitlessNumber[prop];\n  });\n});\n\n/**\n * Most style properties can be unset by doing .style[prop] = '' but IE8\n * doesn't like doing that with shorthand properties so for the properties that\n * IE8 breaks on, which are listed here, we instead unset each of the\n * individual properties. See http://bugs.jquery.com/ticket/12385.\n * The 4-value 'clock' properties like margin, padding, border-width seem to\n * behave without any problems. Curiously, list-style works too without any\n * special prodding.\n */\nvar shorthandPropertyExpansions = {\n  background: {\n    backgroundAttachment: true,\n    backgroundColor: true,\n    backgroundImage: true,\n    backgroundPositionX: true,\n    backgroundPositionY: true,\n    backgroundRepeat: true\n  },\n  backgroundPosition: {\n    backgroundPositionX: true,\n    backgroundPositionY: true\n  },\n  border: {\n    borderWidth: true,\n    borderStyle: true,\n    borderColor: true\n  },\n  borderBottom: {\n    borderBottomWidth: true,\n    borderBottomStyle: true,\n    borderBottomColor: true\n  },\n  borderLeft: {\n    borderLeftWidth: true,\n    borderLeftStyle: true,\n    borderLeftColor: true\n  },\n  borderRight: {\n    borderRightWidth: true,\n    borderRightStyle: true,\n    borderRightColor: true\n  },\n  borderTop: {\n    borderTopWidth: true,\n    borderTopStyle: true,\n    borderTopColor: true\n  },\n  font: {\n    fontStyle: true,\n    fontVariant: true,\n    fontWeight: true,\n    fontSize: true,\n    lineHeight: true,\n    fontFamily: true\n  },\n  outline: {\n    outlineWidth: true,\n    outlineStyle: true,\n    outlineColor: true\n  }\n};\n\nvar CSSProperty = {\n  isUnitlessNumber: isUnitlessNumber,\n  shorthandPropertyExpansions: shorthandPropertyExpansions\n};\n\nmodule.exports = CSSProperty;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/CSSProperty.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n */\n\n'use strict';\n\nvar camelize = require('./camelize');\n\nvar msPattern = /^-ms-/;\n\n/**\n * Camelcases a hyphenated CSS property name, for example:\n *\n *   > camelizeStyleName('background-color')\n *   < \"backgroundColor\"\n *   > camelizeStyleName('-moz-transition')\n *   < \"MozTransition\"\n *   > camelizeStyleName('-ms-transition')\n *   < \"msTransition\"\n *\n * As Andi Smith suggests\n * (http://www.andismith.com/blog/2012/02/modernizr-prefixed/), an `-ms` prefix\n * is converted to lowercase `ms`.\n *\n * @param {string} string\n * @return {string}\n */\nfunction camelizeStyleName(string) {\n  return camelize(string.replace(msPattern, 'ms-'));\n}\n\nmodule.exports = camelizeStyleName;\n\n\n// WEBPACK FOOTER //\n// ./~/fbjs/lib/camelizeStyleName.js","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n */\n\nvar _hyphenPattern = /-(.)/g;\n\n/**\n * Camelcases a hyphenated string, for example:\n *\n *   > camelize('background-color')\n *   < \"backgroundColor\"\n *\n * @param {string} string\n * @return {string}\n */\nfunction camelize(string) {\n  return string.replace(_hyphenPattern, function (_, character) {\n    return character.toUpperCase();\n  });\n}\n\nmodule.exports = camelize;\n\n\n// WEBPACK FOOTER //\n// ./~/fbjs/lib/camelize.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar CSSProperty = require('./CSSProperty');\nvar warning = require('fbjs/lib/warning');\n\nvar isUnitlessNumber = CSSProperty.isUnitlessNumber;\nvar styleWarnings = {};\n\n/**\n * Convert a value into the proper css writable value. The style name `name`\n * should be logical (no hyphens), as specified\n * in `CSSProperty.isUnitlessNumber`.\n *\n * @param {string} name CSS property name such as `topMargin`.\n * @param {*} value CSS property value such as `10px`.\n * @param {ReactDOMComponent} component\n * @return {string} Normalized style value with dimensions applied.\n */\nfunction dangerousStyleValue(name, value, component) {\n  // Note that we've removed escapeTextForBrowser() calls here since the\n  // whole string will be escaped when the attribute is injected into\n  // the markup. If you provide unsafe user data here they can inject\n  // arbitrary CSS which may be problematic (I couldn't repro this):\n  // https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet\n  // http://www.thespanner.co.uk/2007/11/26/ultimate-xss-css-injection/\n  // This is not an XSS hole but instead a potential CSS injection issue\n  // which has lead to a greater discussion about how we're going to\n  // trust URLs moving forward. See #2115901\n\n  var isEmpty = value == null || typeof value === 'boolean' || value === '';\n  if (isEmpty) {\n    return '';\n  }\n\n  var isNonNumeric = isNaN(value);\n  if (isNonNumeric || value === 0 || isUnitlessNumber.hasOwnProperty(name) && isUnitlessNumber[name]) {\n    return '' + value; // cast to string\n  }\n\n  if (typeof value === 'string') {\n    if (process.env.NODE_ENV !== 'production') {\n      // Allow '0' to pass through without warning. 0 is already special and\n      // doesn't require units, so we don't need to warn about it.\n      if (component && value !== '0') {\n        var owner = component._currentElement._owner;\n        var ownerName = owner ? owner.getName() : null;\n        if (ownerName && !styleWarnings[ownerName]) {\n          styleWarnings[ownerName] = {};\n        }\n        var warned = false;\n        if (ownerName) {\n          var warnings = styleWarnings[ownerName];\n          warned = warnings[name];\n          if (!warned) {\n            warnings[name] = true;\n          }\n        }\n        if (!warned) {\n          process.env.NODE_ENV !== 'production' ? warning(false, 'a `%s` tag (owner: `%s`) was passed a numeric string value ' + 'for CSS property `%s` (value: `%s`) which will be treated ' + 'as a unitless number in a future version of React.', component._currentElement.type, ownerName || 'unknown', name, value) : void 0;\n        }\n      }\n    }\n    value = value.trim();\n  }\n  return value + 'px';\n}\n\nmodule.exports = dangerousStyleValue;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/dangerousStyleValue.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n */\n\n'use strict';\n\nvar hyphenate = require('./hyphenate');\n\nvar msPattern = /^ms-/;\n\n/**\n * Hyphenates a camelcased CSS property name, for example:\n *\n *   > hyphenateStyleName('backgroundColor')\n *   < \"background-color\"\n *   > hyphenateStyleName('MozTransition')\n *   < \"-moz-transition\"\n *   > hyphenateStyleName('msTransition')\n *   < \"-ms-transition\"\n *\n * As Modernizr suggests (http://modernizr.com/docs/#prefixed), an `ms` prefix\n * is converted to `-ms-`.\n *\n * @param {string} string\n * @return {string}\n */\nfunction hyphenateStyleName(string) {\n  return hyphenate(string).replace(msPattern, '-ms-');\n}\n\nmodule.exports = hyphenateStyleName;\n\n\n// WEBPACK FOOTER //\n// ./~/fbjs/lib/hyphenateStyleName.js","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n */\n\nvar _uppercasePattern = /([A-Z])/g;\n\n/**\n * Hyphenates a camelcased string, for example:\n *\n *   > hyphenate('backgroundColor')\n *   < \"background-color\"\n *\n * For CSS style names, use `hyphenateStyleName` instead which works properly\n * with all vendor prefixes, including `ms`.\n *\n * @param {string} string\n * @return {string}\n */\nfunction hyphenate(string) {\n  return string.replace(_uppercasePattern, '-$1').toLowerCase();\n}\n\nmodule.exports = hyphenate;\n\n\n// WEBPACK FOOTER //\n// ./~/fbjs/lib/hyphenate.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n * @typechecks static-only\n */\n\n'use strict';\n\n/**\n * Memoizes the return value of a function that accepts one string argument.\n */\n\nfunction memoizeStringOnly(callback) {\n  var cache = {};\n  return function (string) {\n    if (!cache.hasOwnProperty(string)) {\n      cache[string] = callback.call(this, string);\n    }\n    return cache[string];\n  };\n}\n\nmodule.exports = memoizeStringOnly;\n\n\n// WEBPACK FOOTER //\n// ./~/fbjs/lib/memoizeStringOnly.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar DOMProperty = require('./DOMProperty');\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\nvar ReactInstrumentation = require('./ReactInstrumentation');\n\nvar quoteAttributeValueForBrowser = require('./quoteAttributeValueForBrowser');\nvar warning = require('fbjs/lib/warning');\n\nvar VALID_ATTRIBUTE_NAME_REGEX = new RegExp('^[' + DOMProperty.ATTRIBUTE_NAME_START_CHAR + '][' + DOMProperty.ATTRIBUTE_NAME_CHAR + ']*$');\nvar illegalAttributeNameCache = {};\nvar validatedAttributeNameCache = {};\n\nfunction isAttributeNameSafe(attributeName) {\n  if (validatedAttributeNameCache.hasOwnProperty(attributeName)) {\n    return true;\n  }\n  if (illegalAttributeNameCache.hasOwnProperty(attributeName)) {\n    return false;\n  }\n  if (VALID_ATTRIBUTE_NAME_REGEX.test(attributeName)) {\n    validatedAttributeNameCache[attributeName] = true;\n    return true;\n  }\n  illegalAttributeNameCache[attributeName] = true;\n  process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid attribute name: `%s`', attributeName) : void 0;\n  return false;\n}\n\nfunction shouldIgnoreValue(propertyInfo, value) {\n  return value == null || propertyInfo.hasBooleanValue && !value || propertyInfo.hasNumericValue && isNaN(value) || propertyInfo.hasPositiveNumericValue && value < 1 || propertyInfo.hasOverloadedBooleanValue && value === false;\n}\n\n/**\n * Operations for dealing with DOM properties.\n */\nvar DOMPropertyOperations = {\n\n  /**\n   * Creates markup for the ID property.\n   *\n   * @param {string} id Unescaped ID.\n   * @return {string} Markup string.\n   */\n  createMarkupForID: function (id) {\n    return DOMProperty.ID_ATTRIBUTE_NAME + '=' + quoteAttributeValueForBrowser(id);\n  },\n\n  setAttributeForID: function (node, id) {\n    node.setAttribute(DOMProperty.ID_ATTRIBUTE_NAME, id);\n  },\n\n  createMarkupForRoot: function () {\n    return DOMProperty.ROOT_ATTRIBUTE_NAME + '=\"\"';\n  },\n\n  setAttributeForRoot: function (node) {\n    node.setAttribute(DOMProperty.ROOT_ATTRIBUTE_NAME, '');\n  },\n\n  /**\n   * Creates markup for a property.\n   *\n   * @param {string} name\n   * @param {*} value\n   * @return {?string} Markup string, or null if the property was invalid.\n   */\n  createMarkupForProperty: function (name, value) {\n    var propertyInfo = DOMProperty.properties.hasOwnProperty(name) ? DOMProperty.properties[name] : null;\n    if (propertyInfo) {\n      if (shouldIgnoreValue(propertyInfo, value)) {\n        return '';\n      }\n      var attributeName = propertyInfo.attributeName;\n      if (propertyInfo.hasBooleanValue || propertyInfo.hasOverloadedBooleanValue && value === true) {\n        return attributeName + '=\"\"';\n      }\n      return attributeName + '=' + quoteAttributeValueForBrowser(value);\n    } else if (DOMProperty.isCustomAttribute(name)) {\n      if (value == null) {\n        return '';\n      }\n      return name + '=' + quoteAttributeValueForBrowser(value);\n    }\n    return null;\n  },\n\n  /**\n   * Creates markup for a custom property.\n   *\n   * @param {string} name\n   * @param {*} value\n   * @return {string} Markup string, or empty string if the property was invalid.\n   */\n  createMarkupForCustomAttribute: function (name, value) {\n    if (!isAttributeNameSafe(name) || value == null) {\n      return '';\n    }\n    return name + '=' + quoteAttributeValueForBrowser(value);\n  },\n\n  /**\n   * Sets the value for a property on a node.\n   *\n   * @param {DOMElement} node\n   * @param {string} name\n   * @param {*} value\n   */\n  setValueForProperty: function (node, name, value) {\n    var propertyInfo = DOMProperty.properties.hasOwnProperty(name) ? DOMProperty.properties[name] : null;\n    if (propertyInfo) {\n      var mutationMethod = propertyInfo.mutationMethod;\n      if (mutationMethod) {\n        mutationMethod(node, value);\n      } else if (shouldIgnoreValue(propertyInfo, value)) {\n        this.deleteValueForProperty(node, name);\n        return;\n      } else if (propertyInfo.mustUseProperty) {\n        // Contrary to `setAttribute`, object properties are properly\n        // `toString`ed by IE8/9.\n        node[propertyInfo.propertyName] = value;\n      } else {\n        var attributeName = propertyInfo.attributeName;\n        var namespace = propertyInfo.attributeNamespace;\n        // `setAttribute` with objects becomes only `[object]` in IE8/9,\n        // ('' + value) makes it output the correct toString()-value.\n        if (namespace) {\n          node.setAttributeNS(namespace, attributeName, '' + value);\n        } else if (propertyInfo.hasBooleanValue || propertyInfo.hasOverloadedBooleanValue && value === true) {\n          node.setAttribute(attributeName, '');\n        } else {\n          node.setAttribute(attributeName, '' + value);\n        }\n      }\n    } else if (DOMProperty.isCustomAttribute(name)) {\n      DOMPropertyOperations.setValueForAttribute(node, name, value);\n      return;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var payload = {};\n      payload[name] = value;\n      ReactInstrumentation.debugTool.onHostOperation({\n        instanceID: ReactDOMComponentTree.getInstanceFromNode(node)._debugID,\n        type: 'update attribute',\n        payload: payload\n      });\n    }\n  },\n\n  setValueForAttribute: function (node, name, value) {\n    if (!isAttributeNameSafe(name)) {\n      return;\n    }\n    if (value == null) {\n      node.removeAttribute(name);\n    } else {\n      node.setAttribute(name, '' + value);\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var payload = {};\n      payload[name] = value;\n      ReactInstrumentation.debugTool.onHostOperation({\n        instanceID: ReactDOMComponentTree.getInstanceFromNode(node)._debugID,\n        type: 'update attribute',\n        payload: payload\n      });\n    }\n  },\n\n  /**\n   * Deletes an attributes from a node.\n   *\n   * @param {DOMElement} node\n   * @param {string} name\n   */\n  deleteValueForAttribute: function (node, name) {\n    node.removeAttribute(name);\n    if (process.env.NODE_ENV !== 'production') {\n      ReactInstrumentation.debugTool.onHostOperation({\n        instanceID: ReactDOMComponentTree.getInstanceFromNode(node)._debugID,\n        type: 'remove attribute',\n        payload: name\n      });\n    }\n  },\n\n  /**\n   * Deletes the value for a property on a node.\n   *\n   * @param {DOMElement} node\n   * @param {string} name\n   */\n  deleteValueForProperty: function (node, name) {\n    var propertyInfo = DOMProperty.properties.hasOwnProperty(name) ? DOMProperty.properties[name] : null;\n    if (propertyInfo) {\n      var mutationMethod = propertyInfo.mutationMethod;\n      if (mutationMethod) {\n        mutationMethod(node, undefined);\n      } else if (propertyInfo.mustUseProperty) {\n        var propName = propertyInfo.propertyName;\n        if (propertyInfo.hasBooleanValue) {\n          node[propName] = false;\n        } else {\n          node[propName] = '';\n        }\n      } else {\n        node.removeAttribute(propertyInfo.attributeName);\n      }\n    } else if (DOMProperty.isCustomAttribute(name)) {\n      node.removeAttribute(name);\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      ReactInstrumentation.debugTool.onHostOperation({\n        instanceID: ReactDOMComponentTree.getInstanceFromNode(node)._debugID,\n        type: 'remove attribute',\n        payload: name\n      });\n    }\n  }\n\n};\n\nmodule.exports = DOMPropertyOperations;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/DOMPropertyOperations.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar escapeTextContentForBrowser = require('./escapeTextContentForBrowser');\n\n/**\n * Escapes attribute value to prevent scripting attacks.\n *\n * @param {*} value Value to escape.\n * @return {string} An escaped string.\n */\nfunction quoteAttributeValueForBrowser(value) {\n  return '\"' + escapeTextContentForBrowser(value) + '\"';\n}\n\nmodule.exports = quoteAttributeValueForBrowser;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/quoteAttributeValueForBrowser.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar EventPluginRegistry = require('./EventPluginRegistry');\nvar ReactEventEmitterMixin = require('./ReactEventEmitterMixin');\nvar ViewportMetrics = require('./ViewportMetrics');\n\nvar getVendorPrefixedEventName = require('./getVendorPrefixedEventName');\nvar isEventSupported = require('./isEventSupported');\n\n/**\n * Summary of `ReactBrowserEventEmitter` event handling:\n *\n *  - Top-level delegation is used to trap most native browser events. This\n *    may only occur in the main thread and is the responsibility of\n *    ReactEventListener, which is injected and can therefore support pluggable\n *    event sources. This is the only work that occurs in the main thread.\n *\n *  - We normalize and de-duplicate events to account for browser quirks. This\n *    may be done in the worker thread.\n *\n *  - Forward these native events (with the associated top-level type used to\n *    trap it) to `EventPluginHub`, which in turn will ask plugins if they want\n *    to extract any synthetic events.\n *\n *  - The `EventPluginHub` will then process each event by annotating them with\n *    \"dispatches\", a sequence of listeners and IDs that care about that event.\n *\n *  - The `EventPluginHub` then dispatches the events.\n *\n * Overview of React and the event system:\n *\n * +------------+    .\n * |    DOM     |    .\n * +------------+    .\n *       |           .\n *       v           .\n * +------------+    .\n * | ReactEvent |    .\n * |  Listener  |    .\n * +------------+    .                         +-----------+\n *       |           .               +--------+|SimpleEvent|\n *       |           .               |         |Plugin     |\n * +-----|------+    .               v         +-----------+\n * |     |      |    .    +--------------+                    +------------+\n * |     +-----------.--->|EventPluginHub|                    |    Event   |\n * |            |    .    |              |     +-----------+  | Propagators|\n * | ReactEvent |    .    |              |     |TapEvent   |  |------------|\n * |  Emitter   |    .    |              |<---+|Plugin     |  |other plugin|\n * |            |    .    |              |     +-----------+  |  utilities |\n * |     +-----------.--->|              |                    +------------+\n * |     |      |    .    +--------------+\n * +-----|------+    .                ^        +-----------+\n *       |           .                |        |Enter/Leave|\n *       +           .                +-------+|Plugin     |\n * +-------------+   .                         +-----------+\n * | application |   .\n * |-------------|   .\n * |             |   .\n * |             |   .\n * +-------------+   .\n *                   .\n *    React Core     .  General Purpose Event Plugin System\n */\n\nvar hasEventPageXY;\nvar alreadyListeningTo = {};\nvar isMonitoringScrollValue = false;\nvar reactTopListenersCounter = 0;\n\n// For events like 'submit' which don't consistently bubble (which we trap at a\n// lower node than `document`), binding at `document` would cause duplicate\n// events so we don't include them here\nvar topEventMapping = {\n  topAbort: 'abort',\n  topAnimationEnd: getVendorPrefixedEventName('animationend') || 'animationend',\n  topAnimationIteration: getVendorPrefixedEventName('animationiteration') || 'animationiteration',\n  topAnimationStart: getVendorPrefixedEventName('animationstart') || 'animationstart',\n  topBlur: 'blur',\n  topCanPlay: 'canplay',\n  topCanPlayThrough: 'canplaythrough',\n  topChange: 'change',\n  topClick: 'click',\n  topCompositionEnd: 'compositionend',\n  topCompositionStart: 'compositionstart',\n  topCompositionUpdate: 'compositionupdate',\n  topContextMenu: 'contextmenu',\n  topCopy: 'copy',\n  topCut: 'cut',\n  topDoubleClick: 'dblclick',\n  topDrag: 'drag',\n  topDragEnd: 'dragend',\n  topDragEnter: 'dragenter',\n  topDragExit: 'dragexit',\n  topDragLeave: 'dragleave',\n  topDragOver: 'dragover',\n  topDragStart: 'dragstart',\n  topDrop: 'drop',\n  topDurationChange: 'durationchange',\n  topEmptied: 'emptied',\n  topEncrypted: 'encrypted',\n  topEnded: 'ended',\n  topError: 'error',\n  topFocus: 'focus',\n  topInput: 'input',\n  topKeyDown: 'keydown',\n  topKeyPress: 'keypress',\n  topKeyUp: 'keyup',\n  topLoadedData: 'loadeddata',\n  topLoadedMetadata: 'loadedmetadata',\n  topLoadStart: 'loadstart',\n  topMouseDown: 'mousedown',\n  topMouseMove: 'mousemove',\n  topMouseOut: 'mouseout',\n  topMouseOver: 'mouseover',\n  topMouseUp: 'mouseup',\n  topPaste: 'paste',\n  topPause: 'pause',\n  topPlay: 'play',\n  topPlaying: 'playing',\n  topProgress: 'progress',\n  topRateChange: 'ratechange',\n  topScroll: 'scroll',\n  topSeeked: 'seeked',\n  topSeeking: 'seeking',\n  topSelectionChange: 'selectionchange',\n  topStalled: 'stalled',\n  topSuspend: 'suspend',\n  topTextInput: 'textInput',\n  topTimeUpdate: 'timeupdate',\n  topTouchCancel: 'touchcancel',\n  topTouchEnd: 'touchend',\n  topTouchMove: 'touchmove',\n  topTouchStart: 'touchstart',\n  topTransitionEnd: getVendorPrefixedEventName('transitionend') || 'transitionend',\n  topVolumeChange: 'volumechange',\n  topWaiting: 'waiting',\n  topWheel: 'wheel'\n};\n\n/**\n * To ensure no conflicts with other potential React instances on the page\n */\nvar topListenersIDKey = '_reactListenersID' + String(Math.random()).slice(2);\n\nfunction getListeningForDocument(mountAt) {\n  // In IE8, `mountAt` is a host object and doesn't have `hasOwnProperty`\n  // directly.\n  if (!Object.prototype.hasOwnProperty.call(mountAt, topListenersIDKey)) {\n    mountAt[topListenersIDKey] = reactTopListenersCounter++;\n    alreadyListeningTo[mountAt[topListenersIDKey]] = {};\n  }\n  return alreadyListeningTo[mountAt[topListenersIDKey]];\n}\n\n/**\n * `ReactBrowserEventEmitter` is used to attach top-level event listeners. For\n * example:\n *\n *   EventPluginHub.putListener('myID', 'onClick', myFunction);\n *\n * This would allocate a \"registration\" of `('onClick', myFunction)` on 'myID'.\n *\n * @internal\n */\nvar ReactBrowserEventEmitter = _assign({}, ReactEventEmitterMixin, {\n\n  /**\n   * Injectable event backend\n   */\n  ReactEventListener: null,\n\n  injection: {\n    /**\n     * @param {object} ReactEventListener\n     */\n    injectReactEventListener: function (ReactEventListener) {\n      ReactEventListener.setHandleTopLevel(ReactBrowserEventEmitter.handleTopLevel);\n      ReactBrowserEventEmitter.ReactEventListener = ReactEventListener;\n    }\n  },\n\n  /**\n   * Sets whether or not any created callbacks should be enabled.\n   *\n   * @param {boolean} enabled True if callbacks should be enabled.\n   */\n  setEnabled: function (enabled) {\n    if (ReactBrowserEventEmitter.ReactEventListener) {\n      ReactBrowserEventEmitter.ReactEventListener.setEnabled(enabled);\n    }\n  },\n\n  /**\n   * @return {boolean} True if callbacks are enabled.\n   */\n  isEnabled: function () {\n    return !!(ReactBrowserEventEmitter.ReactEventListener && ReactBrowserEventEmitter.ReactEventListener.isEnabled());\n  },\n\n  /**\n   * We listen for bubbled touch events on the document object.\n   *\n   * Firefox v8.01 (and possibly others) exhibited strange behavior when\n   * mounting `onmousemove` events at some node that was not the document\n   * element. The symptoms were that if your mouse is not moving over something\n   * contained within that mount point (for example on the background) the\n   * top-level listeners for `onmousemove` won't be called. However, if you\n   * register the `mousemove` on the document object, then it will of course\n   * catch all `mousemove`s. This along with iOS quirks, justifies restricting\n   * top-level listeners to the document object only, at least for these\n   * movement types of events and possibly all events.\n   *\n   * @see http://www.quirksmode.org/blog/archives/2010/09/click_event_del.html\n   *\n   * Also, `keyup`/`keypress`/`keydown` do not bubble to the window on IE, but\n   * they bubble to document.\n   *\n   * @param {string} registrationName Name of listener (e.g. `onClick`).\n   * @param {object} contentDocumentHandle Document which owns the container\n   */\n  listenTo: function (registrationName, contentDocumentHandle) {\n    var mountAt = contentDocumentHandle;\n    var isListening = getListeningForDocument(mountAt);\n    var dependencies = EventPluginRegistry.registrationNameDependencies[registrationName];\n\n    for (var i = 0; i < dependencies.length; i++) {\n      var dependency = dependencies[i];\n      if (!(isListening.hasOwnProperty(dependency) && isListening[dependency])) {\n        if (dependency === 'topWheel') {\n          if (isEventSupported('wheel')) {\n            ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent('topWheel', 'wheel', mountAt);\n          } else if (isEventSupported('mousewheel')) {\n            ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent('topWheel', 'mousewheel', mountAt);\n          } else {\n            // Firefox needs to capture a different mouse scroll event.\n            // @see http://www.quirksmode.org/dom/events/tests/scroll.html\n            ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent('topWheel', 'DOMMouseScroll', mountAt);\n          }\n        } else if (dependency === 'topScroll') {\n\n          if (isEventSupported('scroll', true)) {\n            ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent('topScroll', 'scroll', mountAt);\n          } else {\n            ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent('topScroll', 'scroll', ReactBrowserEventEmitter.ReactEventListener.WINDOW_HANDLE);\n          }\n        } else if (dependency === 'topFocus' || dependency === 'topBlur') {\n\n          if (isEventSupported('focus', true)) {\n            ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent('topFocus', 'focus', mountAt);\n            ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent('topBlur', 'blur', mountAt);\n          } else if (isEventSupported('focusin')) {\n            // IE has `focusin` and `focusout` events which bubble.\n            // @see http://www.quirksmode.org/blog/archives/2008/04/delegating_the.html\n            ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent('topFocus', 'focusin', mountAt);\n            ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent('topBlur', 'focusout', mountAt);\n          }\n\n          // to make sure blur and focus event listeners are only attached once\n          isListening.topBlur = true;\n          isListening.topFocus = true;\n        } else if (topEventMapping.hasOwnProperty(dependency)) {\n          ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(dependency, topEventMapping[dependency], mountAt);\n        }\n\n        isListening[dependency] = true;\n      }\n    }\n  },\n\n  trapBubbledEvent: function (topLevelType, handlerBaseName, handle) {\n    return ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelType, handlerBaseName, handle);\n  },\n\n  trapCapturedEvent: function (topLevelType, handlerBaseName, handle) {\n    return ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelType, handlerBaseName, handle);\n  },\n\n  /**\n   * Protect against document.createEvent() returning null\n   * Some popup blocker extensions appear to do this:\n   * https://github.com/facebook/react/issues/6887\n   */\n  supportsEventPageXY: function () {\n    if (!document.createEvent) {\n      return false;\n    }\n    var ev = document.createEvent('MouseEvent');\n    return ev != null && 'pageX' in ev;\n  },\n\n  /**\n   * Listens to window scroll and resize events. We cache scroll values so that\n   * application code can access them without triggering reflows.\n   *\n   * ViewportMetrics is only used by SyntheticMouse/TouchEvent and only when\n   * pageX/pageY isn't supported (legacy browsers).\n   *\n   * NOTE: Scroll events do not bubble.\n   *\n   * @see http://www.quirksmode.org/dom/events/scroll.html\n   */\n  ensureScrollValueMonitoring: function () {\n    if (hasEventPageXY === undefined) {\n      hasEventPageXY = ReactBrowserEventEmitter.supportsEventPageXY();\n    }\n    if (!hasEventPageXY && !isMonitoringScrollValue) {\n      var refresh = ViewportMetrics.refreshScrollValues;\n      ReactBrowserEventEmitter.ReactEventListener.monitorScrollValue(refresh);\n      isMonitoringScrollValue = true;\n    }\n  }\n\n});\n\nmodule.exports = ReactBrowserEventEmitter;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactBrowserEventEmitter.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar EventPluginHub = require('./EventPluginHub');\n\nfunction runEventQueueInBatch(events) {\n  EventPluginHub.enqueueEvents(events);\n  EventPluginHub.processEventQueue(false);\n}\n\nvar ReactEventEmitterMixin = {\n\n  /**\n   * Streams a fired top-level event to `EventPluginHub` where plugins have the\n   * opportunity to create `ReactEvent`s to be dispatched.\n   */\n  handleTopLevel: function (topLevelType, targetInst, nativeEvent, nativeEventTarget) {\n    var events = EventPluginHub.extractEvents(topLevelType, targetInst, nativeEvent, nativeEventTarget);\n    runEventQueueInBatch(events);\n  }\n};\n\nmodule.exports = ReactEventEmitterMixin;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactEventEmitterMixin.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment');\n\n/**\n * Generate a mapping of standard vendor prefixes using the defined style property and event name.\n *\n * @param {string} styleProp\n * @param {string} eventName\n * @returns {object}\n */\nfunction makePrefixMap(styleProp, eventName) {\n  var prefixes = {};\n\n  prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();\n  prefixes['Webkit' + styleProp] = 'webkit' + eventName;\n  prefixes['Moz' + styleProp] = 'moz' + eventName;\n  prefixes['ms' + styleProp] = 'MS' + eventName;\n  prefixes['O' + styleProp] = 'o' + eventName.toLowerCase();\n\n  return prefixes;\n}\n\n/**\n * A list of event names to a configurable list of vendor prefixes.\n */\nvar vendorPrefixes = {\n  animationend: makePrefixMap('Animation', 'AnimationEnd'),\n  animationiteration: makePrefixMap('Animation', 'AnimationIteration'),\n  animationstart: makePrefixMap('Animation', 'AnimationStart'),\n  transitionend: makePrefixMap('Transition', 'TransitionEnd')\n};\n\n/**\n * Event names that have already been detected and prefixed (if applicable).\n */\nvar prefixedEventNames = {};\n\n/**\n * Element to check for prefixes on.\n */\nvar style = {};\n\n/**\n * Bootstrap if a DOM exists.\n */\nif (ExecutionEnvironment.canUseDOM) {\n  style = document.createElement('div').style;\n\n  // On some platforms, in particular some releases of Android 4.x,\n  // the un-prefixed \"animation\" and \"transition\" properties are defined on the\n  // style object but the events that fire will still be prefixed, so we need\n  // to check if the un-prefixed events are usable, and if not remove them from the map.\n  if (!('AnimationEvent' in window)) {\n    delete vendorPrefixes.animationend.animation;\n    delete vendorPrefixes.animationiteration.animation;\n    delete vendorPrefixes.animationstart.animation;\n  }\n\n  // Same as above\n  if (!('TransitionEvent' in window)) {\n    delete vendorPrefixes.transitionend.transition;\n  }\n}\n\n/**\n * Attempts to determine the correct vendor prefixed event name.\n *\n * @param {string} eventName\n * @returns {string}\n */\nfunction getVendorPrefixedEventName(eventName) {\n  if (prefixedEventNames[eventName]) {\n    return prefixedEventNames[eventName];\n  } else if (!vendorPrefixes[eventName]) {\n    return eventName;\n  }\n\n  var prefixMap = vendorPrefixes[eventName];\n\n  for (var styleProp in prefixMap) {\n    if (prefixMap.hasOwnProperty(styleProp) && styleProp in style) {\n      return prefixedEventNames[eventName] = prefixMap[styleProp];\n    }\n  }\n\n  return '';\n}\n\nmodule.exports = getVendorPrefixedEventName;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/getVendorPrefixedEventName.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant'),\n    _assign = require('object-assign');\n\nvar DOMPropertyOperations = require('./DOMPropertyOperations');\nvar LinkedValueUtils = require('./LinkedValueUtils');\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\nvar ReactUpdates = require('./ReactUpdates');\n\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\nvar didWarnValueLink = false;\nvar didWarnCheckedLink = false;\nvar didWarnValueDefaultValue = false;\nvar didWarnCheckedDefaultChecked = false;\nvar didWarnControlledToUncontrolled = false;\nvar didWarnUncontrolledToControlled = false;\n\nfunction forceUpdateIfMounted() {\n  if (this._rootNodeID) {\n    // DOM component is still mounted; update\n    ReactDOMInput.updateWrapper(this);\n  }\n}\n\nfunction isControlled(props) {\n  var usesChecked = props.type === 'checkbox' || props.type === 'radio';\n  return usesChecked ? props.checked != null : props.value != null;\n}\n\n/**\n * Implements an <input> host component that allows setting these optional\n * props: `checked`, `value`, `defaultChecked`, and `defaultValue`.\n *\n * If `checked` or `value` are not supplied (or null/undefined), user actions\n * that affect the checked state or value will trigger updates to the element.\n *\n * If they are supplied (and not null/undefined), the rendered element will not\n * trigger updates to the element. Instead, the props must change in order for\n * the rendered element to be updated.\n *\n * The rendered element will be initialized as unchecked (or `defaultChecked`)\n * with an empty value (or `defaultValue`).\n *\n * @see http://www.w3.org/TR/2012/WD-html5-20121025/the-input-element.html\n */\nvar ReactDOMInput = {\n  getHostProps: function (inst, props) {\n    var value = LinkedValueUtils.getValue(props);\n    var checked = LinkedValueUtils.getChecked(props);\n\n    var hostProps = _assign({\n      // Make sure we set .type before any other properties (setting .value\n      // before .type means .value is lost in IE11 and below)\n      type: undefined,\n      // Make sure we set .step before .value (setting .value before .step\n      // means .value is rounded on mount, based upon step precision)\n      step: undefined,\n      // Make sure we set .min & .max before .value (to ensure proper order\n      // in corner cases such as min or max deriving from value, e.g. Issue #7170)\n      min: undefined,\n      max: undefined\n    }, props, {\n      defaultChecked: undefined,\n      defaultValue: undefined,\n      value: value != null ? value : inst._wrapperState.initialValue,\n      checked: checked != null ? checked : inst._wrapperState.initialChecked,\n      onChange: inst._wrapperState.onChange\n    });\n\n    return hostProps;\n  },\n\n  mountWrapper: function (inst, props) {\n    if (process.env.NODE_ENV !== 'production') {\n      LinkedValueUtils.checkPropTypes('input', props, inst._currentElement._owner);\n\n      var owner = inst._currentElement._owner;\n\n      if (props.valueLink !== undefined && !didWarnValueLink) {\n        process.env.NODE_ENV !== 'production' ? warning(false, '`valueLink` prop on `input` is deprecated; set `value` and `onChange` instead.') : void 0;\n        didWarnValueLink = true;\n      }\n      if (props.checkedLink !== undefined && !didWarnCheckedLink) {\n        process.env.NODE_ENV !== 'production' ? warning(false, '`checkedLink` prop on `input` is deprecated; set `value` and `onChange` instead.') : void 0;\n        didWarnCheckedLink = true;\n      }\n      if (props.checked !== undefined && props.defaultChecked !== undefined && !didWarnCheckedDefaultChecked) {\n        process.env.NODE_ENV !== 'production' ? warning(false, '%s contains an input of type %s with both checked and defaultChecked props. ' + 'Input elements must be either controlled or uncontrolled ' + '(specify either the checked prop, or the defaultChecked prop, but not ' + 'both). Decide between using a controlled or uncontrolled input ' + 'element and remove one of these props. More info: ' + 'https://fb.me/react-controlled-components', owner && owner.getName() || 'A component', props.type) : void 0;\n        didWarnCheckedDefaultChecked = true;\n      }\n      if (props.value !== undefined && props.defaultValue !== undefined && !didWarnValueDefaultValue) {\n        process.env.NODE_ENV !== 'production' ? warning(false, '%s contains an input of type %s with both value and defaultValue props. ' + 'Input elements must be either controlled or uncontrolled ' + '(specify either the value prop, or the defaultValue prop, but not ' + 'both). Decide between using a controlled or uncontrolled input ' + 'element and remove one of these props. More info: ' + 'https://fb.me/react-controlled-components', owner && owner.getName() || 'A component', props.type) : void 0;\n        didWarnValueDefaultValue = true;\n      }\n    }\n\n    var defaultValue = props.defaultValue;\n    inst._wrapperState = {\n      initialChecked: props.checked != null ? props.checked : props.defaultChecked,\n      initialValue: props.value != null ? props.value : defaultValue,\n      listeners: null,\n      onChange: _handleChange.bind(inst)\n    };\n\n    if (process.env.NODE_ENV !== 'production') {\n      inst._wrapperState.controlled = isControlled(props);\n    }\n  },\n\n  updateWrapper: function (inst) {\n    var props = inst._currentElement.props;\n\n    if (process.env.NODE_ENV !== 'production') {\n      var controlled = isControlled(props);\n      var owner = inst._currentElement._owner;\n\n      if (!inst._wrapperState.controlled && controlled && !didWarnUncontrolledToControlled) {\n        process.env.NODE_ENV !== 'production' ? warning(false, '%s is changing an uncontrolled input of type %s to be controlled. ' + 'Input elements should not switch from uncontrolled to controlled (or vice versa). ' + 'Decide between using a controlled or uncontrolled input ' + 'element for the lifetime of the component. More info: https://fb.me/react-controlled-components', owner && owner.getName() || 'A component', props.type) : void 0;\n        didWarnUncontrolledToControlled = true;\n      }\n      if (inst._wrapperState.controlled && !controlled && !didWarnControlledToUncontrolled) {\n        process.env.NODE_ENV !== 'production' ? warning(false, '%s is changing a controlled input of type %s to be uncontrolled. ' + 'Input elements should not switch from controlled to uncontrolled (or vice versa). ' + 'Decide between using a controlled or uncontrolled input ' + 'element for the lifetime of the component. More info: https://fb.me/react-controlled-components', owner && owner.getName() || 'A component', props.type) : void 0;\n        didWarnControlledToUncontrolled = true;\n      }\n    }\n\n    // TODO: Shouldn't this be getChecked(props)?\n    var checked = props.checked;\n    if (checked != null) {\n      DOMPropertyOperations.setValueForProperty(ReactDOMComponentTree.getNodeFromInstance(inst), 'checked', checked || false);\n    }\n\n    var node = ReactDOMComponentTree.getNodeFromInstance(inst);\n    var value = LinkedValueUtils.getValue(props);\n    if (value != null) {\n\n      // Cast `value` to a string to ensure the value is set correctly. While\n      // browsers typically do this as necessary, jsdom doesn't.\n      var newValue = '' + value;\n\n      // To avoid side effects (such as losing text selection), only set value if changed\n      if (newValue !== node.value) {\n        node.value = newValue;\n      }\n    } else {\n      if (props.value == null && props.defaultValue != null) {\n        // In Chrome, assigning defaultValue to certain input types triggers input validation.\n        // For number inputs, the display value loses trailing decimal points. For email inputs,\n        // Chrome raises \"The specified value <x> is not a valid email address\".\n        //\n        // Here we check to see if the defaultValue has actually changed, avoiding these problems\n        // when the user is inputting text\n        //\n        // https://github.com/facebook/react/issues/7253\n        if (node.defaultValue !== '' + props.defaultValue) {\n          node.defaultValue = '' + props.defaultValue;\n        }\n      }\n      if (props.checked == null && props.defaultChecked != null) {\n        node.defaultChecked = !!props.defaultChecked;\n      }\n    }\n  },\n\n  postMountWrapper: function (inst) {\n    var props = inst._currentElement.props;\n\n    // This is in postMount because we need access to the DOM node, which is not\n    // available until after the component has mounted.\n    var node = ReactDOMComponentTree.getNodeFromInstance(inst);\n\n    // Detach value from defaultValue. We won't do anything if we're working on\n    // submit or reset inputs as those values & defaultValues are linked. They\n    // are not resetable nodes so this operation doesn't matter and actually\n    // removes browser-default values (eg \"Submit Query\") when no value is\n    // provided.\n\n    switch (props.type) {\n      case 'submit':\n      case 'reset':\n        break;\n      case 'color':\n      case 'date':\n      case 'datetime':\n      case 'datetime-local':\n      case 'month':\n      case 'time':\n      case 'week':\n        // This fixes the no-show issue on iOS Safari and Android Chrome:\n        // https://github.com/facebook/react/issues/7233\n        node.value = '';\n        node.value = node.defaultValue;\n        break;\n      default:\n        node.value = node.value;\n        break;\n    }\n\n    // Normally, we'd just do `node.checked = node.checked` upon initial mount, less this bug\n    // this is needed to work around a chrome bug where setting defaultChecked\n    // will sometimes influence the value of checked (even after detachment).\n    // Reference: https://bugs.chromium.org/p/chromium/issues/detail?id=608416\n    // We need to temporarily unset name to avoid disrupting radio button groups.\n    var name = node.name;\n    if (name !== '') {\n      node.name = '';\n    }\n    node.defaultChecked = !node.defaultChecked;\n    node.defaultChecked = !node.defaultChecked;\n    if (name !== '') {\n      node.name = name;\n    }\n  }\n};\n\nfunction _handleChange(event) {\n  var props = this._currentElement.props;\n\n  var returnValue = LinkedValueUtils.executeOnChange(props, event);\n\n  // Here we use asap to wait until all updates have propagated, which\n  // is important when using controlled components within layers:\n  // https://github.com/facebook/react/issues/1698\n  ReactUpdates.asap(forceUpdateIfMounted, this);\n\n  var name = props.name;\n  if (props.type === 'radio' && name != null) {\n    var rootNode = ReactDOMComponentTree.getNodeFromInstance(this);\n    var queryRoot = rootNode;\n\n    while (queryRoot.parentNode) {\n      queryRoot = queryRoot.parentNode;\n    }\n\n    // If `rootNode.form` was non-null, then we could try `form.elements`,\n    // but that sometimes behaves strangely in IE8. We could also try using\n    // `form.getElementsByName`, but that will only return direct children\n    // and won't include inputs that use the HTML5 `form=` attribute. Since\n    // the input might not even be in a form, let's just use the global\n    // `querySelectorAll` to ensure we don't miss anything.\n    var group = queryRoot.querySelectorAll('input[name=' + JSON.stringify('' + name) + '][type=\"radio\"]');\n\n    for (var i = 0; i < group.length; i++) {\n      var otherNode = group[i];\n      if (otherNode === rootNode || otherNode.form !== rootNode.form) {\n        continue;\n      }\n      // This will throw if radio buttons rendered by different copies of React\n      // and the same name are rendered into the same form (same as #1939).\n      // That's probably okay; we don't support it just as we don't support\n      // mixing React radio buttons with non-React ones.\n      var otherInstance = ReactDOMComponentTree.getInstanceFromNode(otherNode);\n      !otherInstance ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.') : _prodInvariant('90') : void 0;\n      // If this is a controlled radio button group, forcing the input that\n      // was previously checked to update will cause it to be come re-checked\n      // as appropriate.\n      ReactUpdates.asap(forceUpdateIfMounted, otherInstance);\n    }\n  }\n\n  return returnValue;\n}\n\nmodule.exports = ReactDOMInput;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactDOMInput.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar React = require('react/lib/React');\nvar ReactPropTypesSecret = require('./ReactPropTypesSecret');\n\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\nvar hasReadOnlyValue = {\n  'button': true,\n  'checkbox': true,\n  'image': true,\n  'hidden': true,\n  'radio': true,\n  'reset': true,\n  'submit': true\n};\n\nfunction _assertSingleLink(inputProps) {\n  !(inputProps.checkedLink == null || inputProps.valueLink == null) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don\\'t want to use valueLink and vice versa.') : _prodInvariant('87') : void 0;\n}\nfunction _assertValueLink(inputProps) {\n  _assertSingleLink(inputProps);\n  !(inputProps.value == null && inputProps.onChange == null) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don\\'t want to use valueLink.') : _prodInvariant('88') : void 0;\n}\n\nfunction _assertCheckedLink(inputProps) {\n  _assertSingleLink(inputProps);\n  !(inputProps.checked == null && inputProps.onChange == null) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don\\'t want to use checkedLink') : _prodInvariant('89') : void 0;\n}\n\nvar propTypes = {\n  value: function (props, propName, componentName) {\n    if (!props[propName] || hasReadOnlyValue[props.type] || props.onChange || props.readOnly || props.disabled) {\n      return null;\n    }\n    return new Error('You provided a `value` prop to a form field without an ' + '`onChange` handler. This will render a read-only field. If ' + 'the field should be mutable use `defaultValue`. Otherwise, ' + 'set either `onChange` or `readOnly`.');\n  },\n  checked: function (props, propName, componentName) {\n    if (!props[propName] || props.onChange || props.readOnly || props.disabled) {\n      return null;\n    }\n    return new Error('You provided a `checked` prop to a form field without an ' + '`onChange` handler. This will render a read-only field. If ' + 'the field should be mutable use `defaultChecked`. Otherwise, ' + 'set either `onChange` or `readOnly`.');\n  },\n  onChange: React.PropTypes.func\n};\n\nvar loggedTypeFailures = {};\nfunction getDeclarationErrorAddendum(owner) {\n  if (owner) {\n    var name = owner.getName();\n    if (name) {\n      return ' Check the render method of `' + name + '`.';\n    }\n  }\n  return '';\n}\n\n/**\n * Provide a linked `value` attribute for controlled forms. You should not use\n * this outside of the ReactDOM controlled form components.\n */\nvar LinkedValueUtils = {\n  checkPropTypes: function (tagName, props, owner) {\n    for (var propName in propTypes) {\n      if (propTypes.hasOwnProperty(propName)) {\n        var error = propTypes[propName](props, propName, tagName, 'prop', null, ReactPropTypesSecret);\n      }\n      if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n        // Only monitor this failure once because there tends to be a lot of the\n        // same error.\n        loggedTypeFailures[error.message] = true;\n\n        var addendum = getDeclarationErrorAddendum(owner);\n        process.env.NODE_ENV !== 'production' ? warning(false, 'Failed form propType: %s%s', error.message, addendum) : void 0;\n      }\n    }\n  },\n\n  /**\n   * @param {object} inputProps Props for form component\n   * @return {*} current value of the input either from value prop or link.\n   */\n  getValue: function (inputProps) {\n    if (inputProps.valueLink) {\n      _assertValueLink(inputProps);\n      return inputProps.valueLink.value;\n    }\n    return inputProps.value;\n  },\n\n  /**\n   * @param {object} inputProps Props for form component\n   * @return {*} current checked status of the input either from checked prop\n   *             or link.\n   */\n  getChecked: function (inputProps) {\n    if (inputProps.checkedLink) {\n      _assertCheckedLink(inputProps);\n      return inputProps.checkedLink.value;\n    }\n    return inputProps.checked;\n  },\n\n  /**\n   * @param {object} inputProps Props for form component\n   * @param {SyntheticEvent} event change event to handle\n   */\n  executeOnChange: function (inputProps, event) {\n    if (inputProps.valueLink) {\n      _assertValueLink(inputProps);\n      return inputProps.valueLink.requestChange(event.target.value);\n    } else if (inputProps.checkedLink) {\n      _assertCheckedLink(inputProps);\n      return inputProps.checkedLink.requestChange(event.target.checked);\n    } else if (inputProps.onChange) {\n      return inputProps.onChange.call(undefined, event);\n    }\n  }\n};\n\nmodule.exports = LinkedValueUtils;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/LinkedValueUtils.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactPropTypesSecret.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar React = require('react/lib/React');\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\nvar ReactDOMSelect = require('./ReactDOMSelect');\n\nvar warning = require('fbjs/lib/warning');\nvar didWarnInvalidOptionChildren = false;\n\nfunction flattenChildren(children) {\n  var content = '';\n\n  // Flatten children and warn if they aren't strings or numbers;\n  // invalid types are ignored.\n  React.Children.forEach(children, function (child) {\n    if (child == null) {\n      return;\n    }\n    if (typeof child === 'string' || typeof child === 'number') {\n      content += child;\n    } else if (!didWarnInvalidOptionChildren) {\n      didWarnInvalidOptionChildren = true;\n      process.env.NODE_ENV !== 'production' ? warning(false, 'Only strings and numbers are supported as <option> children.') : void 0;\n    }\n  });\n\n  return content;\n}\n\n/**\n * Implements an <option> host component that warns when `selected` is set.\n */\nvar ReactDOMOption = {\n  mountWrapper: function (inst, props, hostParent) {\n    // TODO (yungsters): Remove support for `selected` in <option>.\n    if (process.env.NODE_ENV !== 'production') {\n      process.env.NODE_ENV !== 'production' ? warning(props.selected == null, 'Use the `defaultValue` or `value` props on <select> instead of ' + 'setting `selected` on <option>.') : void 0;\n    }\n\n    // Look up whether this option is 'selected'\n    var selectValue = null;\n    if (hostParent != null) {\n      var selectParent = hostParent;\n\n      if (selectParent._tag === 'optgroup') {\n        selectParent = selectParent._hostParent;\n      }\n\n      if (selectParent != null && selectParent._tag === 'select') {\n        selectValue = ReactDOMSelect.getSelectValueContext(selectParent);\n      }\n    }\n\n    // If the value is null (e.g., no specified value or after initial mount)\n    // or missing (e.g., for <datalist>), we don't change props.selected\n    var selected = null;\n    if (selectValue != null) {\n      var value;\n      if (props.value != null) {\n        value = props.value + '';\n      } else {\n        value = flattenChildren(props.children);\n      }\n      selected = false;\n      if (Array.isArray(selectValue)) {\n        // multiple\n        for (var i = 0; i < selectValue.length; i++) {\n          if ('' + selectValue[i] === value) {\n            selected = true;\n            break;\n          }\n        }\n      } else {\n        selected = '' + selectValue === value;\n      }\n    }\n\n    inst._wrapperState = { selected: selected };\n  },\n\n  postMountWrapper: function (inst) {\n    // value=\"\" should make a value attribute (#6219)\n    var props = inst._currentElement.props;\n    if (props.value != null) {\n      var node = ReactDOMComponentTree.getNodeFromInstance(inst);\n      node.setAttribute('value', props.value);\n    }\n  },\n\n  getHostProps: function (inst, props) {\n    var hostProps = _assign({ selected: undefined, children: undefined }, props);\n\n    // Read state only from initial mount because <select> updates value\n    // manually; we need the initial state only for server rendering\n    if (inst._wrapperState.selected != null) {\n      hostProps.selected = inst._wrapperState.selected;\n    }\n\n    var content = flattenChildren(props.children);\n\n    if (content) {\n      hostProps.children = content;\n    }\n\n    return hostProps;\n  }\n\n};\n\nmodule.exports = ReactDOMOption;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactDOMOption.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar LinkedValueUtils = require('./LinkedValueUtils');\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\nvar ReactUpdates = require('./ReactUpdates');\n\nvar warning = require('fbjs/lib/warning');\n\nvar didWarnValueLink = false;\nvar didWarnValueDefaultValue = false;\n\nfunction updateOptionsIfPendingUpdateAndMounted() {\n  if (this._rootNodeID && this._wrapperState.pendingUpdate) {\n    this._wrapperState.pendingUpdate = false;\n\n    var props = this._currentElement.props;\n    var value = LinkedValueUtils.getValue(props);\n\n    if (value != null) {\n      updateOptions(this, Boolean(props.multiple), value);\n    }\n  }\n}\n\nfunction getDeclarationErrorAddendum(owner) {\n  if (owner) {\n    var name = owner.getName();\n    if (name) {\n      return ' Check the render method of `' + name + '`.';\n    }\n  }\n  return '';\n}\n\nvar valuePropNames = ['value', 'defaultValue'];\n\n/**\n * Validation function for `value` and `defaultValue`.\n * @private\n */\nfunction checkSelectPropTypes(inst, props) {\n  var owner = inst._currentElement._owner;\n  LinkedValueUtils.checkPropTypes('select', props, owner);\n\n  if (props.valueLink !== undefined && !didWarnValueLink) {\n    process.env.NODE_ENV !== 'production' ? warning(false, '`valueLink` prop on `select` is deprecated; set `value` and `onChange` instead.') : void 0;\n    didWarnValueLink = true;\n  }\n\n  for (var i = 0; i < valuePropNames.length; i++) {\n    var propName = valuePropNames[i];\n    if (props[propName] == null) {\n      continue;\n    }\n    var isArray = Array.isArray(props[propName]);\n    if (props.multiple && !isArray) {\n      process.env.NODE_ENV !== 'production' ? warning(false, 'The `%s` prop supplied to <select> must be an array if ' + '`multiple` is true.%s', propName, getDeclarationErrorAddendum(owner)) : void 0;\n    } else if (!props.multiple && isArray) {\n      process.env.NODE_ENV !== 'production' ? warning(false, 'The `%s` prop supplied to <select> must be a scalar ' + 'value if `multiple` is false.%s', propName, getDeclarationErrorAddendum(owner)) : void 0;\n    }\n  }\n}\n\n/**\n * @param {ReactDOMComponent} inst\n * @param {boolean} multiple\n * @param {*} propValue A stringable (with `multiple`, a list of stringables).\n * @private\n */\nfunction updateOptions(inst, multiple, propValue) {\n  var selectedValue, i;\n  var options = ReactDOMComponentTree.getNodeFromInstance(inst).options;\n\n  if (multiple) {\n    selectedValue = {};\n    for (i = 0; i < propValue.length; i++) {\n      selectedValue['' + propValue[i]] = true;\n    }\n    for (i = 0; i < options.length; i++) {\n      var selected = selectedValue.hasOwnProperty(options[i].value);\n      if (options[i].selected !== selected) {\n        options[i].selected = selected;\n      }\n    }\n  } else {\n    // Do not set `select.value` as exact behavior isn't consistent across all\n    // browsers for all cases.\n    selectedValue = '' + propValue;\n    for (i = 0; i < options.length; i++) {\n      if (options[i].value === selectedValue) {\n        options[i].selected = true;\n        return;\n      }\n    }\n    if (options.length) {\n      options[0].selected = true;\n    }\n  }\n}\n\n/**\n * Implements a <select> host component that allows optionally setting the\n * props `value` and `defaultValue`. If `multiple` is false, the prop must be a\n * stringable. If `multiple` is true, the prop must be an array of stringables.\n *\n * If `value` is not supplied (or null/undefined), user actions that change the\n * selected option will trigger updates to the rendered options.\n *\n * If it is supplied (and not null/undefined), the rendered options will not\n * update in response to user actions. Instead, the `value` prop must change in\n * order for the rendered options to update.\n *\n * If `defaultValue` is provided, any options with the supplied values will be\n * selected.\n */\nvar ReactDOMSelect = {\n  getHostProps: function (inst, props) {\n    return _assign({}, props, {\n      onChange: inst._wrapperState.onChange,\n      value: undefined\n    });\n  },\n\n  mountWrapper: function (inst, props) {\n    if (process.env.NODE_ENV !== 'production') {\n      checkSelectPropTypes(inst, props);\n    }\n\n    var value = LinkedValueUtils.getValue(props);\n    inst._wrapperState = {\n      pendingUpdate: false,\n      initialValue: value != null ? value : props.defaultValue,\n      listeners: null,\n      onChange: _handleChange.bind(inst),\n      wasMultiple: Boolean(props.multiple)\n    };\n\n    if (props.value !== undefined && props.defaultValue !== undefined && !didWarnValueDefaultValue) {\n      process.env.NODE_ENV !== 'production' ? warning(false, 'Select elements must be either controlled or uncontrolled ' + '(specify either the value prop, or the defaultValue prop, but not ' + 'both). Decide between using a controlled or uncontrolled select ' + 'element and remove one of these props. More info: ' + 'https://fb.me/react-controlled-components') : void 0;\n      didWarnValueDefaultValue = true;\n    }\n  },\n\n  getSelectValueContext: function (inst) {\n    // ReactDOMOption looks at this initial value so the initial generated\n    // markup has correct `selected` attributes\n    return inst._wrapperState.initialValue;\n  },\n\n  postUpdateWrapper: function (inst) {\n    var props = inst._currentElement.props;\n\n    // After the initial mount, we control selected-ness manually so don't pass\n    // this value down\n    inst._wrapperState.initialValue = undefined;\n\n    var wasMultiple = inst._wrapperState.wasMultiple;\n    inst._wrapperState.wasMultiple = Boolean(props.multiple);\n\n    var value = LinkedValueUtils.getValue(props);\n    if (value != null) {\n      inst._wrapperState.pendingUpdate = false;\n      updateOptions(inst, Boolean(props.multiple), value);\n    } else if (wasMultiple !== Boolean(props.multiple)) {\n      // For simplicity, reapply `defaultValue` if `multiple` is toggled.\n      if (props.defaultValue != null) {\n        updateOptions(inst, Boolean(props.multiple), props.defaultValue);\n      } else {\n        // Revert the select back to its default unselected state.\n        updateOptions(inst, Boolean(props.multiple), props.multiple ? [] : '');\n      }\n    }\n  }\n};\n\nfunction _handleChange(event) {\n  var props = this._currentElement.props;\n  var returnValue = LinkedValueUtils.executeOnChange(props, event);\n\n  if (this._rootNodeID) {\n    this._wrapperState.pendingUpdate = true;\n  }\n  ReactUpdates.asap(updateOptionsIfPendingUpdateAndMounted, this);\n  return returnValue;\n}\n\nmodule.exports = ReactDOMSelect;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactDOMSelect.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant'),\n    _assign = require('object-assign');\n\nvar LinkedValueUtils = require('./LinkedValueUtils');\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\nvar ReactUpdates = require('./ReactUpdates');\n\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\nvar didWarnValueLink = false;\nvar didWarnValDefaultVal = false;\n\nfunction forceUpdateIfMounted() {\n  if (this._rootNodeID) {\n    // DOM component is still mounted; update\n    ReactDOMTextarea.updateWrapper(this);\n  }\n}\n\n/**\n * Implements a <textarea> host component that allows setting `value`, and\n * `defaultValue`. This differs from the traditional DOM API because value is\n * usually set as PCDATA children.\n *\n * If `value` is not supplied (or null/undefined), user actions that affect the\n * value will trigger updates to the element.\n *\n * If `value` is supplied (and not null/undefined), the rendered element will\n * not trigger updates to the element. Instead, the `value` prop must change in\n * order for the rendered element to be updated.\n *\n * The rendered element will be initialized with an empty value, the prop\n * `defaultValue` if specified, or the children content (deprecated).\n */\nvar ReactDOMTextarea = {\n  getHostProps: function (inst, props) {\n    !(props.dangerouslySetInnerHTML == null) ? process.env.NODE_ENV !== 'production' ? invariant(false, '`dangerouslySetInnerHTML` does not make sense on <textarea>.') : _prodInvariant('91') : void 0;\n\n    // Always set children to the same thing. In IE9, the selection range will\n    // get reset if `textContent` is mutated.  We could add a check in setTextContent\n    // to only set the value if/when the value differs from the node value (which would\n    // completely solve this IE9 bug), but Sebastian+Ben seemed to like this solution.\n    // The value can be a boolean or object so that's why it's forced to be a string.\n    var hostProps = _assign({}, props, {\n      value: undefined,\n      defaultValue: undefined,\n      children: '' + inst._wrapperState.initialValue,\n      onChange: inst._wrapperState.onChange\n    });\n\n    return hostProps;\n  },\n\n  mountWrapper: function (inst, props) {\n    if (process.env.NODE_ENV !== 'production') {\n      LinkedValueUtils.checkPropTypes('textarea', props, inst._currentElement._owner);\n      if (props.valueLink !== undefined && !didWarnValueLink) {\n        process.env.NODE_ENV !== 'production' ? warning(false, '`valueLink` prop on `textarea` is deprecated; set `value` and `onChange` instead.') : void 0;\n        didWarnValueLink = true;\n      }\n      if (props.value !== undefined && props.defaultValue !== undefined && !didWarnValDefaultVal) {\n        process.env.NODE_ENV !== 'production' ? warning(false, 'Textarea elements must be either controlled or uncontrolled ' + '(specify either the value prop, or the defaultValue prop, but not ' + 'both). Decide between using a controlled or uncontrolled textarea ' + 'and remove one of these props. More info: ' + 'https://fb.me/react-controlled-components') : void 0;\n        didWarnValDefaultVal = true;\n      }\n    }\n\n    var value = LinkedValueUtils.getValue(props);\n    var initialValue = value;\n\n    // Only bother fetching default value if we're going to use it\n    if (value == null) {\n      var defaultValue = props.defaultValue;\n      // TODO (yungsters): Remove support for children content in <textarea>.\n      var children = props.children;\n      if (children != null) {\n        if (process.env.NODE_ENV !== 'production') {\n          process.env.NODE_ENV !== 'production' ? warning(false, 'Use the `defaultValue` or `value` props instead of setting ' + 'children on <textarea>.') : void 0;\n        }\n        !(defaultValue == null) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'If you supply `defaultValue` on a <textarea>, do not pass children.') : _prodInvariant('92') : void 0;\n        if (Array.isArray(children)) {\n          !(children.length <= 1) ? process.env.NODE_ENV !== 'production' ? invariant(false, '<textarea> can only have at most one child.') : _prodInvariant('93') : void 0;\n          children = children[0];\n        }\n\n        defaultValue = '' + children;\n      }\n      if (defaultValue == null) {\n        defaultValue = '';\n      }\n      initialValue = defaultValue;\n    }\n\n    inst._wrapperState = {\n      initialValue: '' + initialValue,\n      listeners: null,\n      onChange: _handleChange.bind(inst)\n    };\n  },\n\n  updateWrapper: function (inst) {\n    var props = inst._currentElement.props;\n\n    var node = ReactDOMComponentTree.getNodeFromInstance(inst);\n    var value = LinkedValueUtils.getValue(props);\n    if (value != null) {\n      // Cast `value` to a string to ensure the value is set correctly. While\n      // browsers typically do this as necessary, jsdom doesn't.\n      var newValue = '' + value;\n\n      // To avoid side effects (such as losing text selection), only set value if changed\n      if (newValue !== node.value) {\n        node.value = newValue;\n      }\n      if (props.defaultValue == null) {\n        node.defaultValue = newValue;\n      }\n    }\n    if (props.defaultValue != null) {\n      node.defaultValue = props.defaultValue;\n    }\n  },\n\n  postMountWrapper: function (inst) {\n    // This is in postMount because we need access to the DOM node, which is not\n    // available until after the component has mounted.\n    var node = ReactDOMComponentTree.getNodeFromInstance(inst);\n    var textContent = node.textContent;\n\n    // Only set node.value if textContent is equal to the expected\n    // initial value. In IE10/IE11 there is a bug where the placeholder attribute\n    // will populate textContent as well.\n    // https://developer.microsoft.com/microsoft-edge/platform/issues/101525/\n    if (textContent === inst._wrapperState.initialValue) {\n      node.value = textContent;\n    }\n  }\n};\n\nfunction _handleChange(event) {\n  var props = this._currentElement.props;\n  var returnValue = LinkedValueUtils.executeOnChange(props, event);\n  ReactUpdates.asap(forceUpdateIfMounted, this);\n  return returnValue;\n}\n\nmodule.exports = ReactDOMTextarea;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactDOMTextarea.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar ReactComponentEnvironment = require('./ReactComponentEnvironment');\nvar ReactInstanceMap = require('./ReactInstanceMap');\nvar ReactInstrumentation = require('./ReactInstrumentation');\n\nvar ReactCurrentOwner = require('react/lib/ReactCurrentOwner');\nvar ReactReconciler = require('./ReactReconciler');\nvar ReactChildReconciler = require('./ReactChildReconciler');\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar flattenChildren = require('./flattenChildren');\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * Make an update for markup to be rendered and inserted at a supplied index.\n *\n * @param {string} markup Markup that renders into an element.\n * @param {number} toIndex Destination index.\n * @private\n */\nfunction makeInsertMarkup(markup, afterNode, toIndex) {\n  // NOTE: Null values reduce hidden classes.\n  return {\n    type: 'INSERT_MARKUP',\n    content: markup,\n    fromIndex: null,\n    fromNode: null,\n    toIndex: toIndex,\n    afterNode: afterNode\n  };\n}\n\n/**\n * Make an update for moving an existing element to another index.\n *\n * @param {number} fromIndex Source index of the existing element.\n * @param {number} toIndex Destination index of the element.\n * @private\n */\nfunction makeMove(child, afterNode, toIndex) {\n  // NOTE: Null values reduce hidden classes.\n  return {\n    type: 'MOVE_EXISTING',\n    content: null,\n    fromIndex: child._mountIndex,\n    fromNode: ReactReconciler.getHostNode(child),\n    toIndex: toIndex,\n    afterNode: afterNode\n  };\n}\n\n/**\n * Make an update for removing an element at an index.\n *\n * @param {number} fromIndex Index of the element to remove.\n * @private\n */\nfunction makeRemove(child, node) {\n  // NOTE: Null values reduce hidden classes.\n  return {\n    type: 'REMOVE_NODE',\n    content: null,\n    fromIndex: child._mountIndex,\n    fromNode: node,\n    toIndex: null,\n    afterNode: null\n  };\n}\n\n/**\n * Make an update for setting the markup of a node.\n *\n * @param {string} markup Markup that renders into an element.\n * @private\n */\nfunction makeSetMarkup(markup) {\n  // NOTE: Null values reduce hidden classes.\n  return {\n    type: 'SET_MARKUP',\n    content: markup,\n    fromIndex: null,\n    fromNode: null,\n    toIndex: null,\n    afterNode: null\n  };\n}\n\n/**\n * Make an update for setting the text content.\n *\n * @param {string} textContent Text content to set.\n * @private\n */\nfunction makeTextContent(textContent) {\n  // NOTE: Null values reduce hidden classes.\n  return {\n    type: 'TEXT_CONTENT',\n    content: textContent,\n    fromIndex: null,\n    fromNode: null,\n    toIndex: null,\n    afterNode: null\n  };\n}\n\n/**\n * Push an update, if any, onto the queue. Creates a new queue if none is\n * passed and always returns the queue. Mutative.\n */\nfunction enqueue(queue, update) {\n  if (update) {\n    queue = queue || [];\n    queue.push(update);\n  }\n  return queue;\n}\n\n/**\n * Processes any enqueued updates.\n *\n * @private\n */\nfunction processQueue(inst, updateQueue) {\n  ReactComponentEnvironment.processChildrenUpdates(inst, updateQueue);\n}\n\nvar setChildrenForInstrumentation = emptyFunction;\nif (process.env.NODE_ENV !== 'production') {\n  var getDebugID = function (inst) {\n    if (!inst._debugID) {\n      // Check for ART-like instances. TODO: This is silly/gross.\n      var internal;\n      if (internal = ReactInstanceMap.get(inst)) {\n        inst = internal;\n      }\n    }\n    return inst._debugID;\n  };\n  setChildrenForInstrumentation = function (children) {\n    var debugID = getDebugID(this);\n    // TODO: React Native empty components are also multichild.\n    // This means they still get into this method but don't have _debugID.\n    if (debugID !== 0) {\n      ReactInstrumentation.debugTool.onSetChildren(debugID, children ? Object.keys(children).map(function (key) {\n        return children[key]._debugID;\n      }) : []);\n    }\n  };\n}\n\n/**\n * ReactMultiChild are capable of reconciling multiple children.\n *\n * @class ReactMultiChild\n * @internal\n */\nvar ReactMultiChild = {\n\n  /**\n   * Provides common functionality for components that must reconcile multiple\n   * children. This is used by `ReactDOMComponent` to mount, update, and\n   * unmount child components.\n   *\n   * @lends {ReactMultiChild.prototype}\n   */\n  Mixin: {\n\n    _reconcilerInstantiateChildren: function (nestedChildren, transaction, context) {\n      if (process.env.NODE_ENV !== 'production') {\n        var selfDebugID = getDebugID(this);\n        if (this._currentElement) {\n          try {\n            ReactCurrentOwner.current = this._currentElement._owner;\n            return ReactChildReconciler.instantiateChildren(nestedChildren, transaction, context, selfDebugID);\n          } finally {\n            ReactCurrentOwner.current = null;\n          }\n        }\n      }\n      return ReactChildReconciler.instantiateChildren(nestedChildren, transaction, context);\n    },\n\n    _reconcilerUpdateChildren: function (prevChildren, nextNestedChildrenElements, mountImages, removedNodes, transaction, context) {\n      var nextChildren;\n      var selfDebugID = 0;\n      if (process.env.NODE_ENV !== 'production') {\n        selfDebugID = getDebugID(this);\n        if (this._currentElement) {\n          try {\n            ReactCurrentOwner.current = this._currentElement._owner;\n            nextChildren = flattenChildren(nextNestedChildrenElements, selfDebugID);\n          } finally {\n            ReactCurrentOwner.current = null;\n          }\n          ReactChildReconciler.updateChildren(prevChildren, nextChildren, mountImages, removedNodes, transaction, this, this._hostContainerInfo, context, selfDebugID);\n          return nextChildren;\n        }\n      }\n      nextChildren = flattenChildren(nextNestedChildrenElements, selfDebugID);\n      ReactChildReconciler.updateChildren(prevChildren, nextChildren, mountImages, removedNodes, transaction, this, this._hostContainerInfo, context, selfDebugID);\n      return nextChildren;\n    },\n\n    /**\n     * Generates a \"mount image\" for each of the supplied children. In the case\n     * of `ReactDOMComponent`, a mount image is a string of markup.\n     *\n     * @param {?object} nestedChildren Nested child maps.\n     * @return {array} An array of mounted representations.\n     * @internal\n     */\n    mountChildren: function (nestedChildren, transaction, context) {\n      var children = this._reconcilerInstantiateChildren(nestedChildren, transaction, context);\n      this._renderedChildren = children;\n\n      var mountImages = [];\n      var index = 0;\n      for (var name in children) {\n        if (children.hasOwnProperty(name)) {\n          var child = children[name];\n          var selfDebugID = 0;\n          if (process.env.NODE_ENV !== 'production') {\n            selfDebugID = getDebugID(this);\n          }\n          var mountImage = ReactReconciler.mountComponent(child, transaction, this, this._hostContainerInfo, context, selfDebugID);\n          child._mountIndex = index++;\n          mountImages.push(mountImage);\n        }\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        setChildrenForInstrumentation.call(this, children);\n      }\n\n      return mountImages;\n    },\n\n    /**\n     * Replaces any rendered children with a text content string.\n     *\n     * @param {string} nextContent String of content.\n     * @internal\n     */\n    updateTextContent: function (nextContent) {\n      var prevChildren = this._renderedChildren;\n      // Remove any rendered children.\n      ReactChildReconciler.unmountChildren(prevChildren, false);\n      for (var name in prevChildren) {\n        if (prevChildren.hasOwnProperty(name)) {\n          !false ? process.env.NODE_ENV !== 'production' ? invariant(false, 'updateTextContent called on non-empty component.') : _prodInvariant('118') : void 0;\n        }\n      }\n      // Set new text content.\n      var updates = [makeTextContent(nextContent)];\n      processQueue(this, updates);\n    },\n\n    /**\n     * Replaces any rendered children with a markup string.\n     *\n     * @param {string} nextMarkup String of markup.\n     * @internal\n     */\n    updateMarkup: function (nextMarkup) {\n      var prevChildren = this._renderedChildren;\n      // Remove any rendered children.\n      ReactChildReconciler.unmountChildren(prevChildren, false);\n      for (var name in prevChildren) {\n        if (prevChildren.hasOwnProperty(name)) {\n          !false ? process.env.NODE_ENV !== 'production' ? invariant(false, 'updateTextContent called on non-empty component.') : _prodInvariant('118') : void 0;\n        }\n      }\n      var updates = [makeSetMarkup(nextMarkup)];\n      processQueue(this, updates);\n    },\n\n    /**\n     * Updates the rendered children with new children.\n     *\n     * @param {?object} nextNestedChildrenElements Nested child element maps.\n     * @param {ReactReconcileTransaction} transaction\n     * @internal\n     */\n    updateChildren: function (nextNestedChildrenElements, transaction, context) {\n      // Hook used by React ART\n      this._updateChildren(nextNestedChildrenElements, transaction, context);\n    },\n\n    /**\n     * @param {?object} nextNestedChildrenElements Nested child element maps.\n     * @param {ReactReconcileTransaction} transaction\n     * @final\n     * @protected\n     */\n    _updateChildren: function (nextNestedChildrenElements, transaction, context) {\n      var prevChildren = this._renderedChildren;\n      var removedNodes = {};\n      var mountImages = [];\n      var nextChildren = this._reconcilerUpdateChildren(prevChildren, nextNestedChildrenElements, mountImages, removedNodes, transaction, context);\n      if (!nextChildren && !prevChildren) {\n        return;\n      }\n      var updates = null;\n      var name;\n      // `nextIndex` will increment for each child in `nextChildren`, but\n      // `lastIndex` will be the last index visited in `prevChildren`.\n      var nextIndex = 0;\n      var lastIndex = 0;\n      // `nextMountIndex` will increment for each newly mounted child.\n      var nextMountIndex = 0;\n      var lastPlacedNode = null;\n      for (name in nextChildren) {\n        if (!nextChildren.hasOwnProperty(name)) {\n          continue;\n        }\n        var prevChild = prevChildren && prevChildren[name];\n        var nextChild = nextChildren[name];\n        if (prevChild === nextChild) {\n          updates = enqueue(updates, this.moveChild(prevChild, lastPlacedNode, nextIndex, lastIndex));\n          lastIndex = Math.max(prevChild._mountIndex, lastIndex);\n          prevChild._mountIndex = nextIndex;\n        } else {\n          if (prevChild) {\n            // Update `lastIndex` before `_mountIndex` gets unset by unmounting.\n            lastIndex = Math.max(prevChild._mountIndex, lastIndex);\n            // The `removedNodes` loop below will actually remove the child.\n          }\n          // The child must be instantiated before it's mounted.\n          updates = enqueue(updates, this._mountChildAtIndex(nextChild, mountImages[nextMountIndex], lastPlacedNode, nextIndex, transaction, context));\n          nextMountIndex++;\n        }\n        nextIndex++;\n        lastPlacedNode = ReactReconciler.getHostNode(nextChild);\n      }\n      // Remove children that are no longer present.\n      for (name in removedNodes) {\n        if (removedNodes.hasOwnProperty(name)) {\n          updates = enqueue(updates, this._unmountChild(prevChildren[name], removedNodes[name]));\n        }\n      }\n      if (updates) {\n        processQueue(this, updates);\n      }\n      this._renderedChildren = nextChildren;\n\n      if (process.env.NODE_ENV !== 'production') {\n        setChildrenForInstrumentation.call(this, nextChildren);\n      }\n    },\n\n    /**\n     * Unmounts all rendered children. This should be used to clean up children\n     * when this component is unmounted. It does not actually perform any\n     * backend operations.\n     *\n     * @internal\n     */\n    unmountChildren: function (safely) {\n      var renderedChildren = this._renderedChildren;\n      ReactChildReconciler.unmountChildren(renderedChildren, safely);\n      this._renderedChildren = null;\n    },\n\n    /**\n     * Moves a child component to the supplied index.\n     *\n     * @param {ReactComponent} child Component to move.\n     * @param {number} toIndex Destination index of the element.\n     * @param {number} lastIndex Last index visited of the siblings of `child`.\n     * @protected\n     */\n    moveChild: function (child, afterNode, toIndex, lastIndex) {\n      // If the index of `child` is less than `lastIndex`, then it needs to\n      // be moved. Otherwise, we do not need to move it because a child will be\n      // inserted or moved before `child`.\n      if (child._mountIndex < lastIndex) {\n        return makeMove(child, afterNode, toIndex);\n      }\n    },\n\n    /**\n     * Creates a child component.\n     *\n     * @param {ReactComponent} child Component to create.\n     * @param {string} mountImage Markup to insert.\n     * @protected\n     */\n    createChild: function (child, afterNode, mountImage) {\n      return makeInsertMarkup(mountImage, afterNode, child._mountIndex);\n    },\n\n    /**\n     * Removes a child component.\n     *\n     * @param {ReactComponent} child Child to remove.\n     * @protected\n     */\n    removeChild: function (child, node) {\n      return makeRemove(child, node);\n    },\n\n    /**\n     * Mounts a child with the supplied name.\n     *\n     * NOTE: This is part of `updateChildren` and is here for readability.\n     *\n     * @param {ReactComponent} child Component to mount.\n     * @param {string} name Name of the child.\n     * @param {number} index Index at which to insert the child.\n     * @param {ReactReconcileTransaction} transaction\n     * @private\n     */\n    _mountChildAtIndex: function (child, mountImage, afterNode, index, transaction, context) {\n      child._mountIndex = index;\n      return this.createChild(child, afterNode, mountImage);\n    },\n\n    /**\n     * Unmounts a rendered child.\n     *\n     * NOTE: This is part of `updateChildren` and is here for readability.\n     *\n     * @param {ReactComponent} child Component to unmount.\n     * @private\n     */\n    _unmountChild: function (child, node) {\n      var update = this.removeChild(child, node);\n      child._mountIndex = null;\n      return update;\n    }\n\n  }\n\n};\n\nmodule.exports = ReactMultiChild;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactMultiChild.js","/**\n * Copyright 2014-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar injected = false;\n\nvar ReactComponentEnvironment = {\n\n  /**\n   * Optionally injectable hook for swapping out mount images in the middle of\n   * the tree.\n   */\n  replaceNodeWithMarkup: null,\n\n  /**\n   * Optionally injectable hook for processing a queue of child updates. Will\n   * later move into MultiChildComponents.\n   */\n  processChildrenUpdates: null,\n\n  injection: {\n    injectEnvironment: function (environment) {\n      !!injected ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactCompositeComponent: injectEnvironment() can only be called once.') : _prodInvariant('104') : void 0;\n      ReactComponentEnvironment.replaceNodeWithMarkup = environment.replaceNodeWithMarkup;\n      ReactComponentEnvironment.processChildrenUpdates = environment.processChildrenUpdates;\n      injected = true;\n    }\n  }\n\n};\n\nmodule.exports = ReactComponentEnvironment;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactComponentEnvironment.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\n/**\n * `ReactInstanceMap` maintains a mapping from a public facing stateful\n * instance (key) and the internal representation (value). This allows public\n * methods to accept the user facing instance as an argument and map them back\n * to internal methods.\n */\n\n// TODO: Replace this with ES6: var ReactInstanceMap = new Map();\n\nvar ReactInstanceMap = {\n\n  /**\n   * This API should be called `delete` but we'd have to make sure to always\n   * transform these to strings for IE support. When this transform is fully\n   * supported we can rename it.\n   */\n  remove: function (key) {\n    key._reactInternalInstance = undefined;\n  },\n\n  get: function (key) {\n    return key._reactInternalInstance;\n  },\n\n  has: function (key) {\n    return key._reactInternalInstance !== undefined;\n  },\n\n  set: function (key, value) {\n    key._reactInternalInstance = value;\n  }\n\n};\n\nmodule.exports = ReactInstanceMap;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactInstanceMap.js","/**\n * Copyright 2014-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar ReactReconciler = require('./ReactReconciler');\n\nvar instantiateReactComponent = require('./instantiateReactComponent');\nvar KeyEscapeUtils = require('./KeyEscapeUtils');\nvar shouldUpdateReactComponent = require('./shouldUpdateReactComponent');\nvar traverseAllChildren = require('./traverseAllChildren');\nvar warning = require('fbjs/lib/warning');\n\nvar ReactComponentTreeHook;\n\nif (typeof process !== 'undefined' && process.env && process.env.NODE_ENV === 'test') {\n  // Temporary hack.\n  // Inline requires don't work well with Jest:\n  // https://github.com/facebook/react/issues/7240\n  // Remove the inline requires when we don't need them anymore:\n  // https://github.com/facebook/react/pull/7178\n  ReactComponentTreeHook = require('react/lib/ReactComponentTreeHook');\n}\n\nfunction instantiateChild(childInstances, child, name, selfDebugID) {\n  // We found a component instance.\n  var keyUnique = childInstances[name] === undefined;\n  if (process.env.NODE_ENV !== 'production') {\n    if (!ReactComponentTreeHook) {\n      ReactComponentTreeHook = require('react/lib/ReactComponentTreeHook');\n    }\n    if (!keyUnique) {\n      process.env.NODE_ENV !== 'production' ? warning(false, 'flattenChildren(...): Encountered two children with the same key, ' + '`%s`. Child keys must be unique; when two children share a key, only ' + 'the first child will be used.%s', KeyEscapeUtils.unescape(name), ReactComponentTreeHook.getStackAddendumByID(selfDebugID)) : void 0;\n    }\n  }\n  if (child != null && keyUnique) {\n    childInstances[name] = instantiateReactComponent(child, true);\n  }\n}\n\n/**\n * ReactChildReconciler provides helpers for initializing or updating a set of\n * children. Its output is suitable for passing it onto ReactMultiChild which\n * does diffed reordering and insertion.\n */\nvar ReactChildReconciler = {\n  /**\n   * Generates a \"mount image\" for each of the supplied children. In the case\n   * of `ReactDOMComponent`, a mount image is a string of markup.\n   *\n   * @param {?object} nestedChildNodes Nested child maps.\n   * @return {?object} A set of child instances.\n   * @internal\n   */\n  instantiateChildren: function (nestedChildNodes, transaction, context, selfDebugID // 0 in production and for roots\n  ) {\n    if (nestedChildNodes == null) {\n      return null;\n    }\n    var childInstances = {};\n\n    if (process.env.NODE_ENV !== 'production') {\n      traverseAllChildren(nestedChildNodes, function (childInsts, child, name) {\n        return instantiateChild(childInsts, child, name, selfDebugID);\n      }, childInstances);\n    } else {\n      traverseAllChildren(nestedChildNodes, instantiateChild, childInstances);\n    }\n    return childInstances;\n  },\n\n  /**\n   * Updates the rendered children and returns a new set of children.\n   *\n   * @param {?object} prevChildren Previously initialized set of children.\n   * @param {?object} nextChildren Flat child element maps.\n   * @param {ReactReconcileTransaction} transaction\n   * @param {object} context\n   * @return {?object} A new set of child instances.\n   * @internal\n   */\n  updateChildren: function (prevChildren, nextChildren, mountImages, removedNodes, transaction, hostParent, hostContainerInfo, context, selfDebugID // 0 in production and for roots\n  ) {\n    // We currently don't have a way to track moves here but if we use iterators\n    // instead of for..in we can zip the iterators and check if an item has\n    // moved.\n    // TODO: If nothing has changed, return the prevChildren object so that we\n    // can quickly bailout if nothing has changed.\n    if (!nextChildren && !prevChildren) {\n      return;\n    }\n    var name;\n    var prevChild;\n    for (name in nextChildren) {\n      if (!nextChildren.hasOwnProperty(name)) {\n        continue;\n      }\n      prevChild = prevChildren && prevChildren[name];\n      var prevElement = prevChild && prevChild._currentElement;\n      var nextElement = nextChildren[name];\n      if (prevChild != null && shouldUpdateReactComponent(prevElement, nextElement)) {\n        ReactReconciler.receiveComponent(prevChild, nextElement, transaction, context);\n        nextChildren[name] = prevChild;\n      } else {\n        if (prevChild) {\n          removedNodes[name] = ReactReconciler.getHostNode(prevChild);\n          ReactReconciler.unmountComponent(prevChild, false);\n        }\n        // The child must be instantiated before it's mounted.\n        var nextChildInstance = instantiateReactComponent(nextElement, true);\n        nextChildren[name] = nextChildInstance;\n        // Creating mount image now ensures refs are resolved in right order\n        // (see https://github.com/facebook/react/pull/7101 for explanation).\n        var nextChildMountImage = ReactReconciler.mountComponent(nextChildInstance, transaction, hostParent, hostContainerInfo, context, selfDebugID);\n        mountImages.push(nextChildMountImage);\n      }\n    }\n    // Unmount children that are no longer present.\n    for (name in prevChildren) {\n      if (prevChildren.hasOwnProperty(name) && !(nextChildren && nextChildren.hasOwnProperty(name))) {\n        prevChild = prevChildren[name];\n        removedNodes[name] = ReactReconciler.getHostNode(prevChild);\n        ReactReconciler.unmountComponent(prevChild, false);\n      }\n    }\n  },\n\n  /**\n   * Unmounts all rendered children. This should be used to clean up children\n   * when this component is unmounted.\n   *\n   * @param {?object} renderedChildren Previously initialized set of children.\n   * @internal\n   */\n  unmountChildren: function (renderedChildren, safely) {\n    for (var name in renderedChildren) {\n      if (renderedChildren.hasOwnProperty(name)) {\n        var renderedChild = renderedChildren[name];\n        ReactReconciler.unmountComponent(renderedChild, safely);\n      }\n    }\n  }\n\n};\n\nmodule.exports = ReactChildReconciler;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactChildReconciler.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant'),\n    _assign = require('object-assign');\n\nvar ReactCompositeComponent = require('./ReactCompositeComponent');\nvar ReactEmptyComponent = require('./ReactEmptyComponent');\nvar ReactHostComponent = require('./ReactHostComponent');\n\nvar getNextDebugID = require('./getNextDebugID');\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\n// To avoid a cyclic dependency, we create the final class in this module\nvar ReactCompositeComponentWrapper = function (element) {\n  this.construct(element);\n};\n_assign(ReactCompositeComponentWrapper.prototype, ReactCompositeComponent, {\n  _instantiateReactComponent: instantiateReactComponent\n});\n\nfunction getDeclarationErrorAddendum(owner) {\n  if (owner) {\n    var name = owner.getName();\n    if (name) {\n      return ' Check the render method of `' + name + '`.';\n    }\n  }\n  return '';\n}\n\n/**\n * Check if the type reference is a known internal type. I.e. not a user\n * provided composite type.\n *\n * @param {function} type\n * @return {boolean} Returns true if this is a valid internal type.\n */\nfunction isInternalComponentType(type) {\n  return typeof type === 'function' && typeof type.prototype !== 'undefined' && typeof type.prototype.mountComponent === 'function' && typeof type.prototype.receiveComponent === 'function';\n}\n\n/**\n * Given a ReactNode, create an instance that will actually be mounted.\n *\n * @param {ReactNode} node\n * @param {boolean} shouldHaveDebugID\n * @return {object} A new instance of the element's constructor.\n * @protected\n */\nfunction instantiateReactComponent(node, shouldHaveDebugID) {\n  var instance;\n\n  if (node === null || node === false) {\n    instance = ReactEmptyComponent.create(instantiateReactComponent);\n  } else if (typeof node === 'object') {\n    var element = node;\n    var type = element.type;\n    if (typeof type !== 'function' && typeof type !== 'string') {\n      var info = '';\n      if (process.env.NODE_ENV !== 'production') {\n        if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n          info += ' You likely forgot to export your component from the file ' + 'it\\'s defined in.';\n        }\n      }\n      info += getDeclarationErrorAddendum(element._owner);\n      !false ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s', type == null ? type : typeof type, info) : _prodInvariant('130', type == null ? type : typeof type, info) : void 0;\n    }\n\n    // Special case string values\n    if (typeof element.type === 'string') {\n      instance = ReactHostComponent.createInternalComponent(element);\n    } else if (isInternalComponentType(element.type)) {\n      // This is temporarily available for custom components that are not string\n      // representations. I.e. ART. Once those are updated to use the string\n      // representation, we can drop this code path.\n      instance = new element.type(element);\n\n      // We renamed this. Allow the old name for compat. :(\n      if (!instance.getHostNode) {\n        instance.getHostNode = instance.getNativeNode;\n      }\n    } else {\n      instance = new ReactCompositeComponentWrapper(element);\n    }\n  } else if (typeof node === 'string' || typeof node === 'number') {\n    instance = ReactHostComponent.createInstanceForText(node);\n  } else {\n    !false ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Encountered invalid React node of type %s', typeof node) : _prodInvariant('131', typeof node) : void 0;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    process.env.NODE_ENV !== 'production' ? warning(typeof instance.mountComponent === 'function' && typeof instance.receiveComponent === 'function' && typeof instance.getHostNode === 'function' && typeof instance.unmountComponent === 'function', 'Only React Components can be mounted.') : void 0;\n  }\n\n  // These two fields are used by the DOM and ART diffing algorithms\n  // respectively. Instead of using expandos on components, we should be\n  // storing the state needed by the diffing algorithms elsewhere.\n  instance._mountIndex = 0;\n  instance._mountImage = null;\n\n  if (process.env.NODE_ENV !== 'production') {\n    instance._debugID = shouldHaveDebugID ? getNextDebugID() : 0;\n  }\n\n  // Internal instances should fully constructed at this point, so they should\n  // not get any new fields added to them at this point.\n  if (process.env.NODE_ENV !== 'production') {\n    if (Object.preventExtensions) {\n      Object.preventExtensions(instance);\n    }\n  }\n\n  return instance;\n}\n\nmodule.exports = instantiateReactComponent;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/instantiateReactComponent.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant'),\n    _assign = require('object-assign');\n\nvar React = require('react/lib/React');\nvar ReactComponentEnvironment = require('./ReactComponentEnvironment');\nvar ReactCurrentOwner = require('react/lib/ReactCurrentOwner');\nvar ReactErrorUtils = require('./ReactErrorUtils');\nvar ReactInstanceMap = require('./ReactInstanceMap');\nvar ReactInstrumentation = require('./ReactInstrumentation');\nvar ReactNodeTypes = require('./ReactNodeTypes');\nvar ReactReconciler = require('./ReactReconciler');\n\nif (process.env.NODE_ENV !== 'production') {\n  var checkReactTypeSpec = require('./checkReactTypeSpec');\n}\n\nvar emptyObject = require('fbjs/lib/emptyObject');\nvar invariant = require('fbjs/lib/invariant');\nvar shallowEqual = require('fbjs/lib/shallowEqual');\nvar shouldUpdateReactComponent = require('./shouldUpdateReactComponent');\nvar warning = require('fbjs/lib/warning');\n\nvar CompositeTypes = {\n  ImpureClass: 0,\n  PureClass: 1,\n  StatelessFunctional: 2\n};\n\nfunction StatelessComponent(Component) {}\nStatelessComponent.prototype.render = function () {\n  var Component = ReactInstanceMap.get(this)._currentElement.type;\n  var element = Component(this.props, this.context, this.updater);\n  warnIfInvalidElement(Component, element);\n  return element;\n};\n\nfunction warnIfInvalidElement(Component, element) {\n  if (process.env.NODE_ENV !== 'production') {\n    process.env.NODE_ENV !== 'production' ? warning(element === null || element === false || React.isValidElement(element), '%s(...): A valid React element (or null) must be returned. You may have ' + 'returned undefined, an array or some other invalid object.', Component.displayName || Component.name || 'Component') : void 0;\n    process.env.NODE_ENV !== 'production' ? warning(!Component.childContextTypes, '%s(...): childContextTypes cannot be defined on a functional component.', Component.displayName || Component.name || 'Component') : void 0;\n  }\n}\n\nfunction shouldConstruct(Component) {\n  return !!(Component.prototype && Component.prototype.isReactComponent);\n}\n\nfunction isPureComponent(Component) {\n  return !!(Component.prototype && Component.prototype.isPureReactComponent);\n}\n\n// Separated into a function to contain deoptimizations caused by try/finally.\nfunction measureLifeCyclePerf(fn, debugID, timerType) {\n  if (debugID === 0) {\n    // Top-level wrappers (see ReactMount) and empty components (see\n    // ReactDOMEmptyComponent) are invisible to hooks and devtools.\n    // Both are implementation details that should go away in the future.\n    return fn();\n  }\n\n  ReactInstrumentation.debugTool.onBeginLifeCycleTimer(debugID, timerType);\n  try {\n    return fn();\n  } finally {\n    ReactInstrumentation.debugTool.onEndLifeCycleTimer(debugID, timerType);\n  }\n}\n\n/**\n * ------------------ The Life-Cycle of a Composite Component ------------------\n *\n * - constructor: Initialization of state. The instance is now retained.\n *   - componentWillMount\n *   - render\n *   - [children's constructors]\n *     - [children's componentWillMount and render]\n *     - [children's componentDidMount]\n *     - componentDidMount\n *\n *       Update Phases:\n *       - componentWillReceiveProps (only called if parent updated)\n *       - shouldComponentUpdate\n *         - componentWillUpdate\n *           - render\n *           - [children's constructors or receive props phases]\n *         - componentDidUpdate\n *\n *     - componentWillUnmount\n *     - [children's componentWillUnmount]\n *   - [children destroyed]\n * - (destroyed): The instance is now blank, released by React and ready for GC.\n *\n * -----------------------------------------------------------------------------\n */\n\n/**\n * An incrementing ID assigned to each component when it is mounted. This is\n * used to enforce the order in which `ReactUpdates` updates dirty components.\n *\n * @private\n */\nvar nextMountID = 1;\n\n/**\n * @lends {ReactCompositeComponent.prototype}\n */\nvar ReactCompositeComponent = {\n\n  /**\n   * Base constructor for all composite component.\n   *\n   * @param {ReactElement} element\n   * @final\n   * @internal\n   */\n  construct: function (element) {\n    this._currentElement = element;\n    this._rootNodeID = 0;\n    this._compositeType = null;\n    this._instance = null;\n    this._hostParent = null;\n    this._hostContainerInfo = null;\n\n    // See ReactUpdateQueue\n    this._updateBatchNumber = null;\n    this._pendingElement = null;\n    this._pendingStateQueue = null;\n    this._pendingReplaceState = false;\n    this._pendingForceUpdate = false;\n\n    this._renderedNodeType = null;\n    this._renderedComponent = null;\n    this._context = null;\n    this._mountOrder = 0;\n    this._topLevelWrapper = null;\n\n    // See ReactUpdates and ReactUpdateQueue.\n    this._pendingCallbacks = null;\n\n    // ComponentWillUnmount shall only be called once\n    this._calledComponentWillUnmount = false;\n\n    if (process.env.NODE_ENV !== 'production') {\n      this._warnedAboutRefsInRender = false;\n    }\n  },\n\n  /**\n   * Initializes the component, renders markup, and registers event listeners.\n   *\n   * @param {ReactReconcileTransaction|ReactServerRenderingTransaction} transaction\n   * @param {?object} hostParent\n   * @param {?object} hostContainerInfo\n   * @param {?object} context\n   * @return {?string} Rendered markup to be inserted into the DOM.\n   * @final\n   * @internal\n   */\n  mountComponent: function (transaction, hostParent, hostContainerInfo, context) {\n    var _this = this;\n\n    this._context = context;\n    this._mountOrder = nextMountID++;\n    this._hostParent = hostParent;\n    this._hostContainerInfo = hostContainerInfo;\n\n    var publicProps = this._currentElement.props;\n    var publicContext = this._processContext(context);\n\n    var Component = this._currentElement.type;\n\n    var updateQueue = transaction.getUpdateQueue();\n\n    // Initialize the public class\n    var doConstruct = shouldConstruct(Component);\n    var inst = this._constructComponent(doConstruct, publicProps, publicContext, updateQueue);\n    var renderedElement;\n\n    // Support functional components\n    if (!doConstruct && (inst == null || inst.render == null)) {\n      renderedElement = inst;\n      warnIfInvalidElement(Component, renderedElement);\n      !(inst === null || inst === false || React.isValidElement(inst)) ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s(...): A valid React element (or null) must be returned. You may have returned undefined, an array or some other invalid object.', Component.displayName || Component.name || 'Component') : _prodInvariant('105', Component.displayName || Component.name || 'Component') : void 0;\n      inst = new StatelessComponent(Component);\n      this._compositeType = CompositeTypes.StatelessFunctional;\n    } else {\n      if (isPureComponent(Component)) {\n        this._compositeType = CompositeTypes.PureClass;\n      } else {\n        this._compositeType = CompositeTypes.ImpureClass;\n      }\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      // This will throw later in _renderValidatedComponent, but add an early\n      // warning now to help debugging\n      if (inst.render == null) {\n        process.env.NODE_ENV !== 'production' ? warning(false, '%s(...): No `render` method found on the returned component ' + 'instance: you may have forgotten to define `render`.', Component.displayName || Component.name || 'Component') : void 0;\n      }\n\n      var propsMutated = inst.props !== publicProps;\n      var componentName = Component.displayName || Component.name || 'Component';\n\n      process.env.NODE_ENV !== 'production' ? warning(inst.props === undefined || !propsMutated, '%s(...): When calling super() in `%s`, make sure to pass ' + 'up the same props that your component\\'s constructor was passed.', componentName, componentName) : void 0;\n    }\n\n    // These should be set up in the constructor, but as a convenience for\n    // simpler class abstractions, we set them up after the fact.\n    inst.props = publicProps;\n    inst.context = publicContext;\n    inst.refs = emptyObject;\n    inst.updater = updateQueue;\n\n    this._instance = inst;\n\n    // Store a reference from the instance back to the internal representation\n    ReactInstanceMap.set(inst, this);\n\n    if (process.env.NODE_ENV !== 'production') {\n      // Since plain JS classes are defined without any special initialization\n      // logic, we can not catch common errors early. Therefore, we have to\n      // catch them here, at initialization time, instead.\n      process.env.NODE_ENV !== 'production' ? warning(!inst.getInitialState || inst.getInitialState.isReactClassApproved || inst.state, 'getInitialState was defined on %s, a plain JavaScript class. ' + 'This is only supported for classes created using React.createClass. ' + 'Did you mean to define a state property instead?', this.getName() || 'a component') : void 0;\n      process.env.NODE_ENV !== 'production' ? warning(!inst.getDefaultProps || inst.getDefaultProps.isReactClassApproved, 'getDefaultProps was defined on %s, a plain JavaScript class. ' + 'This is only supported for classes created using React.createClass. ' + 'Use a static property to define defaultProps instead.', this.getName() || 'a component') : void 0;\n      process.env.NODE_ENV !== 'production' ? warning(!inst.propTypes, 'propTypes was defined as an instance property on %s. Use a static ' + 'property to define propTypes instead.', this.getName() || 'a component') : void 0;\n      process.env.NODE_ENV !== 'production' ? warning(!inst.contextTypes, 'contextTypes was defined as an instance property on %s. Use a ' + 'static property to define contextTypes instead.', this.getName() || 'a component') : void 0;\n      process.env.NODE_ENV !== 'production' ? warning(typeof inst.componentShouldUpdate !== 'function', '%s has a method called ' + 'componentShouldUpdate(). Did you mean shouldComponentUpdate()? ' + 'The name is phrased as a question because the function is ' + 'expected to return a value.', this.getName() || 'A component') : void 0;\n      process.env.NODE_ENV !== 'production' ? warning(typeof inst.componentDidUnmount !== 'function', '%s has a method called ' + 'componentDidUnmount(). But there is no such lifecycle method. ' + 'Did you mean componentWillUnmount()?', this.getName() || 'A component') : void 0;\n      process.env.NODE_ENV !== 'production' ? warning(typeof inst.componentWillRecieveProps !== 'function', '%s has a method called ' + 'componentWillRecieveProps(). Did you mean componentWillReceiveProps()?', this.getName() || 'A component') : void 0;\n    }\n\n    var initialState = inst.state;\n    if (initialState === undefined) {\n      inst.state = initialState = null;\n    }\n    !(typeof initialState === 'object' && !Array.isArray(initialState)) ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s.state: must be set to an object or null', this.getName() || 'ReactCompositeComponent') : _prodInvariant('106', this.getName() || 'ReactCompositeComponent') : void 0;\n\n    this._pendingStateQueue = null;\n    this._pendingReplaceState = false;\n    this._pendingForceUpdate = false;\n\n    var markup;\n    if (inst.unstable_handleError) {\n      markup = this.performInitialMountWithErrorHandling(renderedElement, hostParent, hostContainerInfo, transaction, context);\n    } else {\n      markup = this.performInitialMount(renderedElement, hostParent, hostContainerInfo, transaction, context);\n    }\n\n    if (inst.componentDidMount) {\n      if (process.env.NODE_ENV !== 'production') {\n        transaction.getReactMountReady().enqueue(function () {\n          measureLifeCyclePerf(function () {\n            return inst.componentDidMount();\n          }, _this._debugID, 'componentDidMount');\n        });\n      } else {\n        transaction.getReactMountReady().enqueue(inst.componentDidMount, inst);\n      }\n    }\n\n    return markup;\n  },\n\n  _constructComponent: function (doConstruct, publicProps, publicContext, updateQueue) {\n    if (process.env.NODE_ENV !== 'production') {\n      ReactCurrentOwner.current = this;\n      try {\n        return this._constructComponentWithoutOwner(doConstruct, publicProps, publicContext, updateQueue);\n      } finally {\n        ReactCurrentOwner.current = null;\n      }\n    } else {\n      return this._constructComponentWithoutOwner(doConstruct, publicProps, publicContext, updateQueue);\n    }\n  },\n\n  _constructComponentWithoutOwner: function (doConstruct, publicProps, publicContext, updateQueue) {\n    var Component = this._currentElement.type;\n\n    if (doConstruct) {\n      if (process.env.NODE_ENV !== 'production') {\n        return measureLifeCyclePerf(function () {\n          return new Component(publicProps, publicContext, updateQueue);\n        }, this._debugID, 'ctor');\n      } else {\n        return new Component(publicProps, publicContext, updateQueue);\n      }\n    }\n\n    // This can still be an instance in case of factory components\n    // but we'll count this as time spent rendering as the more common case.\n    if (process.env.NODE_ENV !== 'production') {\n      return measureLifeCyclePerf(function () {\n        return Component(publicProps, publicContext, updateQueue);\n      }, this._debugID, 'render');\n    } else {\n      return Component(publicProps, publicContext, updateQueue);\n    }\n  },\n\n  performInitialMountWithErrorHandling: function (renderedElement, hostParent, hostContainerInfo, transaction, context) {\n    var markup;\n    var checkpoint = transaction.checkpoint();\n    try {\n      markup = this.performInitialMount(renderedElement, hostParent, hostContainerInfo, transaction, context);\n    } catch (e) {\n      // Roll back to checkpoint, handle error (which may add items to the transaction), and take a new checkpoint\n      transaction.rollback(checkpoint);\n      this._instance.unstable_handleError(e);\n      if (this._pendingStateQueue) {\n        this._instance.state = this._processPendingState(this._instance.props, this._instance.context);\n      }\n      checkpoint = transaction.checkpoint();\n\n      this._renderedComponent.unmountComponent(true);\n      transaction.rollback(checkpoint);\n\n      // Try again - we've informed the component about the error, so they can render an error message this time.\n      // If this throws again, the error will bubble up (and can be caught by a higher error boundary).\n      markup = this.performInitialMount(renderedElement, hostParent, hostContainerInfo, transaction, context);\n    }\n    return markup;\n  },\n\n  performInitialMount: function (renderedElement, hostParent, hostContainerInfo, transaction, context) {\n    var inst = this._instance;\n\n    var debugID = 0;\n    if (process.env.NODE_ENV !== 'production') {\n      debugID = this._debugID;\n    }\n\n    if (inst.componentWillMount) {\n      if (process.env.NODE_ENV !== 'production') {\n        measureLifeCyclePerf(function () {\n          return inst.componentWillMount();\n        }, debugID, 'componentWillMount');\n      } else {\n        inst.componentWillMount();\n      }\n      // When mounting, calls to `setState` by `componentWillMount` will set\n      // `this._pendingStateQueue` without triggering a re-render.\n      if (this._pendingStateQueue) {\n        inst.state = this._processPendingState(inst.props, inst.context);\n      }\n    }\n\n    // If not a stateless component, we now render\n    if (renderedElement === undefined) {\n      renderedElement = this._renderValidatedComponent();\n    }\n\n    var nodeType = ReactNodeTypes.getType(renderedElement);\n    this._renderedNodeType = nodeType;\n    var child = this._instantiateReactComponent(renderedElement, nodeType !== ReactNodeTypes.EMPTY /* shouldHaveDebugID */\n    );\n    this._renderedComponent = child;\n\n    var markup = ReactReconciler.mountComponent(child, transaction, hostParent, hostContainerInfo, this._processChildContext(context), debugID);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (debugID !== 0) {\n        var childDebugIDs = child._debugID !== 0 ? [child._debugID] : [];\n        ReactInstrumentation.debugTool.onSetChildren(debugID, childDebugIDs);\n      }\n    }\n\n    return markup;\n  },\n\n  getHostNode: function () {\n    return ReactReconciler.getHostNode(this._renderedComponent);\n  },\n\n  /**\n   * Releases any resources allocated by `mountComponent`.\n   *\n   * @final\n   * @internal\n   */\n  unmountComponent: function (safely) {\n    if (!this._renderedComponent) {\n      return;\n    }\n\n    var inst = this._instance;\n\n    if (inst.componentWillUnmount && !inst._calledComponentWillUnmount) {\n      inst._calledComponentWillUnmount = true;\n\n      if (safely) {\n        var name = this.getName() + '.componentWillUnmount()';\n        ReactErrorUtils.invokeGuardedCallback(name, inst.componentWillUnmount.bind(inst));\n      } else {\n        if (process.env.NODE_ENV !== 'production') {\n          measureLifeCyclePerf(function () {\n            return inst.componentWillUnmount();\n          }, this._debugID, 'componentWillUnmount');\n        } else {\n          inst.componentWillUnmount();\n        }\n      }\n    }\n\n    if (this._renderedComponent) {\n      ReactReconciler.unmountComponent(this._renderedComponent, safely);\n      this._renderedNodeType = null;\n      this._renderedComponent = null;\n      this._instance = null;\n    }\n\n    // Reset pending fields\n    // Even if this component is scheduled for another update in ReactUpdates,\n    // it would still be ignored because these fields are reset.\n    this._pendingStateQueue = null;\n    this._pendingReplaceState = false;\n    this._pendingForceUpdate = false;\n    this._pendingCallbacks = null;\n    this._pendingElement = null;\n\n    // These fields do not really need to be reset since this object is no\n    // longer accessible.\n    this._context = null;\n    this._rootNodeID = 0;\n    this._topLevelWrapper = null;\n\n    // Delete the reference from the instance to this internal representation\n    // which allow the internals to be properly cleaned up even if the user\n    // leaks a reference to the public instance.\n    ReactInstanceMap.remove(inst);\n\n    // Some existing components rely on inst.props even after they've been\n    // destroyed (in event handlers).\n    // TODO: inst.props = null;\n    // TODO: inst.state = null;\n    // TODO: inst.context = null;\n  },\n\n  /**\n   * Filters the context object to only contain keys specified in\n   * `contextTypes`\n   *\n   * @param {object} context\n   * @return {?object}\n   * @private\n   */\n  _maskContext: function (context) {\n    var Component = this._currentElement.type;\n    var contextTypes = Component.contextTypes;\n    if (!contextTypes) {\n      return emptyObject;\n    }\n    var maskedContext = {};\n    for (var contextName in contextTypes) {\n      maskedContext[contextName] = context[contextName];\n    }\n    return maskedContext;\n  },\n\n  /**\n   * Filters the context object to only contain keys specified in\n   * `contextTypes`, and asserts that they are valid.\n   *\n   * @param {object} context\n   * @return {?object}\n   * @private\n   */\n  _processContext: function (context) {\n    var maskedContext = this._maskContext(context);\n    if (process.env.NODE_ENV !== 'production') {\n      var Component = this._currentElement.type;\n      if (Component.contextTypes) {\n        this._checkContextTypes(Component.contextTypes, maskedContext, 'context');\n      }\n    }\n    return maskedContext;\n  },\n\n  /**\n   * @param {object} currentContext\n   * @return {object}\n   * @private\n   */\n  _processChildContext: function (currentContext) {\n    var Component = this._currentElement.type;\n    var inst = this._instance;\n    var childContext;\n\n    if (inst.getChildContext) {\n      if (process.env.NODE_ENV !== 'production') {\n        ReactInstrumentation.debugTool.onBeginProcessingChildContext();\n        try {\n          childContext = inst.getChildContext();\n        } finally {\n          ReactInstrumentation.debugTool.onEndProcessingChildContext();\n        }\n      } else {\n        childContext = inst.getChildContext();\n      }\n    }\n\n    if (childContext) {\n      !(typeof Component.childContextTypes === 'object') ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().', this.getName() || 'ReactCompositeComponent') : _prodInvariant('107', this.getName() || 'ReactCompositeComponent') : void 0;\n      if (process.env.NODE_ENV !== 'production') {\n        this._checkContextTypes(Component.childContextTypes, childContext, 'childContext');\n      }\n      for (var name in childContext) {\n        !(name in Component.childContextTypes) ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s.getChildContext(): key \"%s\" is not defined in childContextTypes.', this.getName() || 'ReactCompositeComponent', name) : _prodInvariant('108', this.getName() || 'ReactCompositeComponent', name) : void 0;\n      }\n      return _assign({}, currentContext, childContext);\n    }\n    return currentContext;\n  },\n\n  /**\n   * Assert that the context types are valid\n   *\n   * @param {object} typeSpecs Map of context field to a ReactPropType\n   * @param {object} values Runtime values that need to be type-checked\n   * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n   * @private\n   */\n  _checkContextTypes: function (typeSpecs, values, location) {\n    if (process.env.NODE_ENV !== 'production') {\n      checkReactTypeSpec(typeSpecs, values, location, this.getName(), null, this._debugID);\n    }\n  },\n\n  receiveComponent: function (nextElement, transaction, nextContext) {\n    var prevElement = this._currentElement;\n    var prevContext = this._context;\n\n    this._pendingElement = null;\n\n    this.updateComponent(transaction, prevElement, nextElement, prevContext, nextContext);\n  },\n\n  /**\n   * If any of `_pendingElement`, `_pendingStateQueue`, or `_pendingForceUpdate`\n   * is set, update the component.\n   *\n   * @param {ReactReconcileTransaction} transaction\n   * @internal\n   */\n  performUpdateIfNecessary: function (transaction) {\n    if (this._pendingElement != null) {\n      ReactReconciler.receiveComponent(this, this._pendingElement, transaction, this._context);\n    } else if (this._pendingStateQueue !== null || this._pendingForceUpdate) {\n      this.updateComponent(transaction, this._currentElement, this._currentElement, this._context, this._context);\n    } else {\n      this._updateBatchNumber = null;\n    }\n  },\n\n  /**\n   * Perform an update to a mounted component. The componentWillReceiveProps and\n   * shouldComponentUpdate methods are called, then (assuming the update isn't\n   * skipped) the remaining update lifecycle methods are called and the DOM\n   * representation is updated.\n   *\n   * By default, this implements React's rendering and reconciliation algorithm.\n   * Sophisticated clients may wish to override this.\n   *\n   * @param {ReactReconcileTransaction} transaction\n   * @param {ReactElement} prevParentElement\n   * @param {ReactElement} nextParentElement\n   * @internal\n   * @overridable\n   */\n  updateComponent: function (transaction, prevParentElement, nextParentElement, prevUnmaskedContext, nextUnmaskedContext) {\n    var inst = this._instance;\n    !(inst != null) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Attempted to update component `%s` that has already been unmounted (or failed to mount).', this.getName() || 'ReactCompositeComponent') : _prodInvariant('136', this.getName() || 'ReactCompositeComponent') : void 0;\n\n    var willReceive = false;\n    var nextContext;\n\n    // Determine if the context has changed or not\n    if (this._context === nextUnmaskedContext) {\n      nextContext = inst.context;\n    } else {\n      nextContext = this._processContext(nextUnmaskedContext);\n      willReceive = true;\n    }\n\n    var prevProps = prevParentElement.props;\n    var nextProps = nextParentElement.props;\n\n    // Not a simple state update but a props update\n    if (prevParentElement !== nextParentElement) {\n      willReceive = true;\n    }\n\n    // An update here will schedule an update but immediately set\n    // _pendingStateQueue which will ensure that any state updates gets\n    // immediately reconciled instead of waiting for the next batch.\n    if (willReceive && inst.componentWillReceiveProps) {\n      if (process.env.NODE_ENV !== 'production') {\n        measureLifeCyclePerf(function () {\n          return inst.componentWillReceiveProps(nextProps, nextContext);\n        }, this._debugID, 'componentWillReceiveProps');\n      } else {\n        inst.componentWillReceiveProps(nextProps, nextContext);\n      }\n    }\n\n    var nextState = this._processPendingState(nextProps, nextContext);\n    var shouldUpdate = true;\n\n    if (!this._pendingForceUpdate) {\n      if (inst.shouldComponentUpdate) {\n        if (process.env.NODE_ENV !== 'production') {\n          shouldUpdate = measureLifeCyclePerf(function () {\n            return inst.shouldComponentUpdate(nextProps, nextState, nextContext);\n          }, this._debugID, 'shouldComponentUpdate');\n        } else {\n          shouldUpdate = inst.shouldComponentUpdate(nextProps, nextState, nextContext);\n        }\n      } else {\n        if (this._compositeType === CompositeTypes.PureClass) {\n          shouldUpdate = !shallowEqual(prevProps, nextProps) || !shallowEqual(inst.state, nextState);\n        }\n      }\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      process.env.NODE_ENV !== 'production' ? warning(shouldUpdate !== undefined, '%s.shouldComponentUpdate(): Returned undefined instead of a ' + 'boolean value. Make sure to return true or false.', this.getName() || 'ReactCompositeComponent') : void 0;\n    }\n\n    this._updateBatchNumber = null;\n    if (shouldUpdate) {\n      this._pendingForceUpdate = false;\n      // Will set `this.props`, `this.state` and `this.context`.\n      this._performComponentUpdate(nextParentElement, nextProps, nextState, nextContext, transaction, nextUnmaskedContext);\n    } else {\n      // If it's determined that a component should not update, we still want\n      // to set props and state but we shortcut the rest of the update.\n      this._currentElement = nextParentElement;\n      this._context = nextUnmaskedContext;\n      inst.props = nextProps;\n      inst.state = nextState;\n      inst.context = nextContext;\n    }\n  },\n\n  _processPendingState: function (props, context) {\n    var inst = this._instance;\n    var queue = this._pendingStateQueue;\n    var replace = this._pendingReplaceState;\n    this._pendingReplaceState = false;\n    this._pendingStateQueue = null;\n\n    if (!queue) {\n      return inst.state;\n    }\n\n    if (replace && queue.length === 1) {\n      return queue[0];\n    }\n\n    var nextState = _assign({}, replace ? queue[0] : inst.state);\n    for (var i = replace ? 1 : 0; i < queue.length; i++) {\n      var partial = queue[i];\n      _assign(nextState, typeof partial === 'function' ? partial.call(inst, nextState, props, context) : partial);\n    }\n\n    return nextState;\n  },\n\n  /**\n   * Merges new props and state, notifies delegate methods of update and\n   * performs update.\n   *\n   * @param {ReactElement} nextElement Next element\n   * @param {object} nextProps Next public object to set as properties.\n   * @param {?object} nextState Next object to set as state.\n   * @param {?object} nextContext Next public object to set as context.\n   * @param {ReactReconcileTransaction} transaction\n   * @param {?object} unmaskedContext\n   * @private\n   */\n  _performComponentUpdate: function (nextElement, nextProps, nextState, nextContext, transaction, unmaskedContext) {\n    var _this2 = this;\n\n    var inst = this._instance;\n\n    var hasComponentDidUpdate = Boolean(inst.componentDidUpdate);\n    var prevProps;\n    var prevState;\n    var prevContext;\n    if (hasComponentDidUpdate) {\n      prevProps = inst.props;\n      prevState = inst.state;\n      prevContext = inst.context;\n    }\n\n    if (inst.componentWillUpdate) {\n      if (process.env.NODE_ENV !== 'production') {\n        measureLifeCyclePerf(function () {\n          return inst.componentWillUpdate(nextProps, nextState, nextContext);\n        }, this._debugID, 'componentWillUpdate');\n      } else {\n        inst.componentWillUpdate(nextProps, nextState, nextContext);\n      }\n    }\n\n    this._currentElement = nextElement;\n    this._context = unmaskedContext;\n    inst.props = nextProps;\n    inst.state = nextState;\n    inst.context = nextContext;\n\n    this._updateRenderedComponent(transaction, unmaskedContext);\n\n    if (hasComponentDidUpdate) {\n      if (process.env.NODE_ENV !== 'production') {\n        transaction.getReactMountReady().enqueue(function () {\n          measureLifeCyclePerf(inst.componentDidUpdate.bind(inst, prevProps, prevState, prevContext), _this2._debugID, 'componentDidUpdate');\n        });\n      } else {\n        transaction.getReactMountReady().enqueue(inst.componentDidUpdate.bind(inst, prevProps, prevState, prevContext), inst);\n      }\n    }\n  },\n\n  /**\n   * Call the component's `render` method and update the DOM accordingly.\n   *\n   * @param {ReactReconcileTransaction} transaction\n   * @internal\n   */\n  _updateRenderedComponent: function (transaction, context) {\n    var prevComponentInstance = this._renderedComponent;\n    var prevRenderedElement = prevComponentInstance._currentElement;\n    var nextRenderedElement = this._renderValidatedComponent();\n\n    var debugID = 0;\n    if (process.env.NODE_ENV !== 'production') {\n      debugID = this._debugID;\n    }\n\n    if (shouldUpdateReactComponent(prevRenderedElement, nextRenderedElement)) {\n      ReactReconciler.receiveComponent(prevComponentInstance, nextRenderedElement, transaction, this._processChildContext(context));\n    } else {\n      var oldHostNode = ReactReconciler.getHostNode(prevComponentInstance);\n      ReactReconciler.unmountComponent(prevComponentInstance, false);\n\n      var nodeType = ReactNodeTypes.getType(nextRenderedElement);\n      this._renderedNodeType = nodeType;\n      var child = this._instantiateReactComponent(nextRenderedElement, nodeType !== ReactNodeTypes.EMPTY /* shouldHaveDebugID */\n      );\n      this._renderedComponent = child;\n\n      var nextMarkup = ReactReconciler.mountComponent(child, transaction, this._hostParent, this._hostContainerInfo, this._processChildContext(context), debugID);\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (debugID !== 0) {\n          var childDebugIDs = child._debugID !== 0 ? [child._debugID] : [];\n          ReactInstrumentation.debugTool.onSetChildren(debugID, childDebugIDs);\n        }\n      }\n\n      this._replaceNodeWithMarkup(oldHostNode, nextMarkup, prevComponentInstance);\n    }\n  },\n\n  /**\n   * Overridden in shallow rendering.\n   *\n   * @protected\n   */\n  _replaceNodeWithMarkup: function (oldHostNode, nextMarkup, prevInstance) {\n    ReactComponentEnvironment.replaceNodeWithMarkup(oldHostNode, nextMarkup, prevInstance);\n  },\n\n  /**\n   * @protected\n   */\n  _renderValidatedComponentWithoutOwnerOrContext: function () {\n    var inst = this._instance;\n    var renderedElement;\n\n    if (process.env.NODE_ENV !== 'production') {\n      renderedElement = measureLifeCyclePerf(function () {\n        return inst.render();\n      }, this._debugID, 'render');\n    } else {\n      renderedElement = inst.render();\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      // We allow auto-mocks to proceed as if they're returning null.\n      if (renderedElement === undefined && inst.render._isMockFunction) {\n        // This is probably bad practice. Consider warning here and\n        // deprecating this convenience.\n        renderedElement = null;\n      }\n    }\n\n    return renderedElement;\n  },\n\n  /**\n   * @private\n   */\n  _renderValidatedComponent: function () {\n    var renderedElement;\n    if (process.env.NODE_ENV !== 'production' || this._compositeType !== CompositeTypes.StatelessFunctional) {\n      ReactCurrentOwner.current = this;\n      try {\n        renderedElement = this._renderValidatedComponentWithoutOwnerOrContext();\n      } finally {\n        ReactCurrentOwner.current = null;\n      }\n    } else {\n      renderedElement = this._renderValidatedComponentWithoutOwnerOrContext();\n    }\n    !(\n    // TODO: An `isValidNode` function would probably be more appropriate\n    renderedElement === null || renderedElement === false || React.isValidElement(renderedElement)) ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s.render(): A valid React element (or null) must be returned. You may have returned undefined, an array or some other invalid object.', this.getName() || 'ReactCompositeComponent') : _prodInvariant('109', this.getName() || 'ReactCompositeComponent') : void 0;\n\n    return renderedElement;\n  },\n\n  /**\n   * Lazily allocates the refs object and stores `component` as `ref`.\n   *\n   * @param {string} ref Reference name.\n   * @param {component} component Component to store as `ref`.\n   * @final\n   * @private\n   */\n  attachRef: function (ref, component) {\n    var inst = this.getPublicInstance();\n    !(inst != null) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Stateless function components cannot have refs.') : _prodInvariant('110') : void 0;\n    var publicComponentInstance = component.getPublicInstance();\n    if (process.env.NODE_ENV !== 'production') {\n      var componentName = component && component.getName ? component.getName() : 'a component';\n      process.env.NODE_ENV !== 'production' ? warning(publicComponentInstance != null || component._compositeType !== CompositeTypes.StatelessFunctional, 'Stateless function components cannot be given refs ' + '(See ref \"%s\" in %s created by %s). ' + 'Attempts to access this ref will fail.', ref, componentName, this.getName()) : void 0;\n    }\n    var refs = inst.refs === emptyObject ? inst.refs = {} : inst.refs;\n    refs[ref] = publicComponentInstance;\n  },\n\n  /**\n   * Detaches a reference name.\n   *\n   * @param {string} ref Name to dereference.\n   * @final\n   * @private\n   */\n  detachRef: function (ref) {\n    var refs = this.getPublicInstance().refs;\n    delete refs[ref];\n  },\n\n  /**\n   * Get a text description of the component that can be used to identify it\n   * in error messages.\n   * @return {string} The name or null.\n   * @internal\n   */\n  getName: function () {\n    var type = this._currentElement.type;\n    var constructor = this._instance && this._instance.constructor;\n    return type.displayName || constructor && constructor.displayName || type.name || constructor && constructor.name || null;\n  },\n\n  /**\n   * Get the publicly accessible representation of this component - i.e. what\n   * is exposed by refs and returned by render. Can be null for stateless\n   * components.\n   *\n   * @return {ReactComponent} the public component instance.\n   * @internal\n   */\n  getPublicInstance: function () {\n    var inst = this._instance;\n    if (this._compositeType === CompositeTypes.StatelessFunctional) {\n      return null;\n    }\n    return inst;\n  },\n\n  // Stub\n  _instantiateReactComponent: null\n\n};\n\nmodule.exports = ReactCompositeComponent;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactCompositeComponent.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar React = require('react/lib/React');\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar ReactNodeTypes = {\n  HOST: 0,\n  COMPOSITE: 1,\n  EMPTY: 2,\n\n  getType: function (node) {\n    if (node === null || node === false) {\n      return ReactNodeTypes.EMPTY;\n    } else if (React.isValidElement(node)) {\n      if (typeof node.type === 'function') {\n        return ReactNodeTypes.COMPOSITE;\n      } else {\n        return ReactNodeTypes.HOST;\n      }\n    }\n    !false ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Unexpected node: %s', node) : _prodInvariant('26', node) : void 0;\n  }\n};\n\nmodule.exports = ReactNodeTypes;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactNodeTypes.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar ReactPropTypeLocationNames = require('./ReactPropTypeLocationNames');\nvar ReactPropTypesSecret = require('./ReactPropTypesSecret');\n\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\nvar ReactComponentTreeHook;\n\nif (typeof process !== 'undefined' && process.env && process.env.NODE_ENV === 'test') {\n  // Temporary hack.\n  // Inline requires don't work well with Jest:\n  // https://github.com/facebook/react/issues/7240\n  // Remove the inline requires when we don't need them anymore:\n  // https://github.com/facebook/react/pull/7178\n  ReactComponentTreeHook = require('react/lib/ReactComponentTreeHook');\n}\n\nvar loggedTypeFailures = {};\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?object} element The React element that is being type-checked\n * @param {?number} debugID The React component instance that is being type-checked\n * @private\n */\nfunction checkReactTypeSpec(typeSpecs, values, location, componentName, element, debugID) {\n  for (var typeSpecName in typeSpecs) {\n    if (typeSpecs.hasOwnProperty(typeSpecName)) {\n      var error;\n      // Prop type validation may throw. In case they do, we don't want to\n      // fail the render phase where it didn't fail before. So we log it.\n      // After these have been cleaned up, we'll let them throw.\n      try {\n        // This is intentionally an invariant that gets caught. It's the same\n        // behavior as without this statement except with a better message.\n        !(typeof typeSpecs[typeSpecName] === 'function') ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.', componentName || 'React class', ReactPropTypeLocationNames[location], typeSpecName) : _prodInvariant('84', componentName || 'React class', ReactPropTypeLocationNames[location], typeSpecName) : void 0;\n        error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n      } catch (ex) {\n        error = ex;\n      }\n      process.env.NODE_ENV !== 'production' ? warning(!error || error instanceof Error, '%s: type specification of %s `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', ReactPropTypeLocationNames[location], typeSpecName, typeof error) : void 0;\n      if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n        // Only monitor this failure once because there tends to be a lot of the\n        // same error.\n        loggedTypeFailures[error.message] = true;\n\n        var componentStackInfo = '';\n\n        if (process.env.NODE_ENV !== 'production') {\n          if (!ReactComponentTreeHook) {\n            ReactComponentTreeHook = require('react/lib/ReactComponentTreeHook');\n          }\n          if (debugID !== null) {\n            componentStackInfo = ReactComponentTreeHook.getStackAddendumByID(debugID);\n          } else if (element !== null) {\n            componentStackInfo = ReactComponentTreeHook.getCurrentStackAddendum(element);\n          }\n        }\n\n        process.env.NODE_ENV !== 'production' ? warning(false, 'Failed %s type: %s%s', location, error.message, componentStackInfo) : void 0;\n      }\n    }\n  }\n}\n\nmodule.exports = checkReactTypeSpec;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/checkReactTypeSpec.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar ReactPropTypeLocationNames = {};\n\nif (process.env.NODE_ENV !== 'production') {\n  ReactPropTypeLocationNames = {\n    prop: 'prop',\n    context: 'context',\n    childContext: 'child context'\n  };\n}\n\nmodule.exports = ReactPropTypeLocationNames;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactPropTypeLocationNames.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n * \n */\n\n/*eslint-disable no-self-compare */\n\n'use strict';\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x, y) {\n  // SameValue algorithm\n  if (x === y) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    // Added the nonzero y check to make Flow happy, but it is redundant\n    return x !== 0 || y !== 0 || 1 / x === 1 / y;\n  } else {\n    // Step 6.a: NaN == NaN\n    return x !== x && y !== y;\n  }\n}\n\n/**\n * Performs equality by iterating through keys on an object and returning false\n * when any key has values which are not strictly equal between the arguments.\n * Returns true when the values of all keys are strictly equal.\n */\nfunction shallowEqual(objA, objB) {\n  if (is(objA, objB)) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  for (var i = 0; i < keysA.length; i++) {\n    if (!hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = shallowEqual;\n\n\n// WEBPACK FOOTER //\n// ./~/fbjs/lib/shallowEqual.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\n/**\n * Given a `prevElement` and `nextElement`, determines if the existing\n * instance should be updated as opposed to being destroyed or replaced by a new\n * instance. Both arguments are elements. This ensures that this logic can\n * operate on stateless trees without any backing instance.\n *\n * @param {?object} prevElement\n * @param {?object} nextElement\n * @return {boolean} True if the existing instance should be updated.\n * @protected\n */\n\nfunction shouldUpdateReactComponent(prevElement, nextElement) {\n  var prevEmpty = prevElement === null || prevElement === false;\n  var nextEmpty = nextElement === null || nextElement === false;\n  if (prevEmpty || nextEmpty) {\n    return prevEmpty === nextEmpty;\n  }\n\n  var prevType = typeof prevElement;\n  var nextType = typeof nextElement;\n  if (prevType === 'string' || prevType === 'number') {\n    return nextType === 'string' || nextType === 'number';\n  } else {\n    return nextType === 'object' && prevElement.type === nextElement.type && prevElement.key === nextElement.key;\n  }\n}\n\nmodule.exports = shouldUpdateReactComponent;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/shouldUpdateReactComponent.js","/**\n * Copyright 2014-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar emptyComponentFactory;\n\nvar ReactEmptyComponentInjection = {\n  injectEmptyComponentFactory: function (factory) {\n    emptyComponentFactory = factory;\n  }\n};\n\nvar ReactEmptyComponent = {\n  create: function (instantiate) {\n    return emptyComponentFactory(instantiate);\n  }\n};\n\nReactEmptyComponent.injection = ReactEmptyComponentInjection;\n\nmodule.exports = ReactEmptyComponent;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactEmptyComponent.js","/**\n * Copyright 2014-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar genericComponentClass = null;\nvar textComponentClass = null;\n\nvar ReactHostComponentInjection = {\n  // This accepts a class that receives the tag string. This is a catch all\n  // that can render any kind of tag.\n  injectGenericComponentClass: function (componentClass) {\n    genericComponentClass = componentClass;\n  },\n  // This accepts a text component class that takes the text string to be\n  // rendered as props.\n  injectTextComponentClass: function (componentClass) {\n    textComponentClass = componentClass;\n  }\n};\n\n/**\n * Get a host internal component class for a specific tag.\n *\n * @param {ReactElement} element The element to create.\n * @return {function} The internal class constructor function.\n */\nfunction createInternalComponent(element) {\n  !genericComponentClass ? process.env.NODE_ENV !== 'production' ? invariant(false, 'There is no registered component for the tag %s', element.type) : _prodInvariant('111', element.type) : void 0;\n  return new genericComponentClass(element);\n}\n\n/**\n * @param {ReactText} text\n * @return {ReactComponent}\n */\nfunction createInstanceForText(text) {\n  return new textComponentClass(text);\n}\n\n/**\n * @param {ReactComponent} component\n * @return {boolean}\n */\nfunction isTextComponent(component) {\n  return component instanceof textComponentClass;\n}\n\nvar ReactHostComponent = {\n  createInternalComponent: createInternalComponent,\n  createInstanceForText: createInstanceForText,\n  isTextComponent: isTextComponent,\n  injection: ReactHostComponentInjection\n};\n\nmodule.exports = ReactHostComponent;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactHostComponent.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar nextDebugID = 1;\n\nfunction getNextDebugID() {\n  return nextDebugID++;\n}\n\nmodule.exports = getNextDebugID;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/getNextDebugID.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\n/**\n * Escape and wrap key so it is safe to use as a reactid\n *\n * @param {string} key to be escaped.\n * @return {string} the escaped key.\n */\n\nfunction escape(key) {\n  var escapeRegex = /[=:]/g;\n  var escaperLookup = {\n    '=': '=0',\n    ':': '=2'\n  };\n  var escapedString = ('' + key).replace(escapeRegex, function (match) {\n    return escaperLookup[match];\n  });\n\n  return '$' + escapedString;\n}\n\n/**\n * Unescape and unwrap key for human-readable display\n *\n * @param {string} key to unescape.\n * @return {string} the unescaped key.\n */\nfunction unescape(key) {\n  var unescapeRegex = /(=0|=2)/g;\n  var unescaperLookup = {\n    '=0': '=',\n    '=2': ':'\n  };\n  var keySubstring = key[0] === '.' && key[1] === '$' ? key.substring(2) : key.substring(1);\n\n  return ('' + keySubstring).replace(unescapeRegex, function (match) {\n    return unescaperLookup[match];\n  });\n}\n\nvar KeyEscapeUtils = {\n  escape: escape,\n  unescape: unescape\n};\n\nmodule.exports = KeyEscapeUtils;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/KeyEscapeUtils.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar ReactCurrentOwner = require('react/lib/ReactCurrentOwner');\nvar REACT_ELEMENT_TYPE = require('./ReactElementSymbol');\n\nvar getIteratorFn = require('./getIteratorFn');\nvar invariant = require('fbjs/lib/invariant');\nvar KeyEscapeUtils = require('./KeyEscapeUtils');\nvar warning = require('fbjs/lib/warning');\n\nvar SEPARATOR = '.';\nvar SUBSEPARATOR = ':';\n\n/**\n * This is inlined from ReactElement since this file is shared between\n * isomorphic and renderers. We could extract this to a\n *\n */\n\n/**\n * TODO: Test that a single child and an array with one item have the same key\n * pattern.\n */\n\nvar didWarnAboutMaps = false;\n\n/**\n * Generate a key string that identifies a component within a set.\n *\n * @param {*} component A component that could contain a manual key.\n * @param {number} index Index that is used if a manual key is not provided.\n * @return {string}\n */\nfunction getComponentKey(component, index) {\n  // Do some typechecking here since we call this blindly. We want to ensure\n  // that we don't block potential future ES APIs.\n  if (component && typeof component === 'object' && component.key != null) {\n    // Explicit key\n    return KeyEscapeUtils.escape(component.key);\n  }\n  // Implicit key determined by the index in the set\n  return index.toString(36);\n}\n\n/**\n * @param {?*} children Children tree container.\n * @param {!string} nameSoFar Name of the key path so far.\n * @param {!function} callback Callback to invoke with each child found.\n * @param {?*} traverseContext Used to pass information throughout the traversal\n * process.\n * @return {!number} The number of children in this subtree.\n */\nfunction traverseAllChildrenImpl(children, nameSoFar, callback, traverseContext) {\n  var type = typeof children;\n\n  if (type === 'undefined' || type === 'boolean') {\n    // All of the above are perceived as null.\n    children = null;\n  }\n\n  if (children === null || type === 'string' || type === 'number' ||\n  // The following is inlined from ReactElement. This means we can optimize\n  // some checks. React Fiber also inlines this logic for similar purposes.\n  type === 'object' && children.$$typeof === REACT_ELEMENT_TYPE) {\n    callback(traverseContext, children,\n    // If it's the only child, treat the name as if it was wrapped in an array\n    // so that it's consistent if the number of children grows.\n    nameSoFar === '' ? SEPARATOR + getComponentKey(children, 0) : nameSoFar);\n    return 1;\n  }\n\n  var child;\n  var nextName;\n  var subtreeCount = 0; // Count of children found in the current subtree.\n  var nextNamePrefix = nameSoFar === '' ? SEPARATOR : nameSoFar + SUBSEPARATOR;\n\n  if (Array.isArray(children)) {\n    for (var i = 0; i < children.length; i++) {\n      child = children[i];\n      nextName = nextNamePrefix + getComponentKey(child, i);\n      subtreeCount += traverseAllChildrenImpl(child, nextName, callback, traverseContext);\n    }\n  } else {\n    var iteratorFn = getIteratorFn(children);\n    if (iteratorFn) {\n      var iterator = iteratorFn.call(children);\n      var step;\n      if (iteratorFn !== children.entries) {\n        var ii = 0;\n        while (!(step = iterator.next()).done) {\n          child = step.value;\n          nextName = nextNamePrefix + getComponentKey(child, ii++);\n          subtreeCount += traverseAllChildrenImpl(child, nextName, callback, traverseContext);\n        }\n      } else {\n        if (process.env.NODE_ENV !== 'production') {\n          var mapsAsChildrenAddendum = '';\n          if (ReactCurrentOwner.current) {\n            var mapsAsChildrenOwnerName = ReactCurrentOwner.current.getName();\n            if (mapsAsChildrenOwnerName) {\n              mapsAsChildrenAddendum = ' Check the render method of `' + mapsAsChildrenOwnerName + '`.';\n            }\n          }\n          process.env.NODE_ENV !== 'production' ? warning(didWarnAboutMaps, 'Using Maps as children is not yet fully supported. It is an ' + 'experimental feature that might be removed. Convert it to a ' + 'sequence / iterable of keyed ReactElements instead.%s', mapsAsChildrenAddendum) : void 0;\n          didWarnAboutMaps = true;\n        }\n        // Iterator will provide entry [k,v] tuples rather than values.\n        while (!(step = iterator.next()).done) {\n          var entry = step.value;\n          if (entry) {\n            child = entry[1];\n            nextName = nextNamePrefix + KeyEscapeUtils.escape(entry[0]) + SUBSEPARATOR + getComponentKey(child, 0);\n            subtreeCount += traverseAllChildrenImpl(child, nextName, callback, traverseContext);\n          }\n        }\n      }\n    } else if (type === 'object') {\n      var addendum = '';\n      if (process.env.NODE_ENV !== 'production') {\n        addendum = ' If you meant to render a collection of children, use an array ' + 'instead or wrap the object using createFragment(object) from the ' + 'React add-ons.';\n        if (children._isReactElement) {\n          addendum = ' It looks like you\\'re using an element created by a different ' + 'version of React. Make sure to use only one copy of React.';\n        }\n        if (ReactCurrentOwner.current) {\n          var name = ReactCurrentOwner.current.getName();\n          if (name) {\n            addendum += ' Check the render method of `' + name + '`.';\n          }\n        }\n      }\n      var childrenString = String(children);\n      !false ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Objects are not valid as a React child (found: %s).%s', childrenString === '[object Object]' ? 'object with keys {' + Object.keys(children).join(', ') + '}' : childrenString, addendum) : _prodInvariant('31', childrenString === '[object Object]' ? 'object with keys {' + Object.keys(children).join(', ') + '}' : childrenString, addendum) : void 0;\n    }\n  }\n\n  return subtreeCount;\n}\n\n/**\n * Traverses children that are typically specified as `props.children`, but\n * might also be specified through attributes:\n *\n * - `traverseAllChildren(this.props.children, ...)`\n * - `traverseAllChildren(this.props.leftPanelChildren, ...)`\n *\n * The `traverseContext` is an optional argument that is passed through the\n * entire traversal. It can be used to store accumulations or anything else that\n * the callback might find relevant.\n *\n * @param {?*} children Children tree object.\n * @param {!function} callback To invoke upon traversing each child.\n * @param {?*} traverseContext Context for traversal.\n * @return {!number} The number of children in this subtree.\n */\nfunction traverseAllChildren(children, callback, traverseContext) {\n  if (children == null) {\n    return 0;\n  }\n\n  return traverseAllChildrenImpl(children, '', callback, traverseContext);\n}\n\nmodule.exports = traverseAllChildren;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/traverseAllChildren.js","/**\n * Copyright 2014-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\n// The Symbol used to tag the ReactElement type. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\n\nvar REACT_ELEMENT_TYPE = typeof Symbol === 'function' && Symbol['for'] && Symbol['for']('react.element') || 0xeac7;\n\nmodule.exports = REACT_ELEMENT_TYPE;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactElementSymbol.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\n/* global Symbol */\n\nvar ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n/**\n * Returns the iterator method function contained on the iterable object.\n *\n * Be sure to invoke the function with the iterable as context:\n *\n *     var iteratorFn = getIteratorFn(myIterable);\n *     if (iteratorFn) {\n *       var iterator = iteratorFn.call(myIterable);\n *       ...\n *     }\n *\n * @param {?object} maybeIterable\n * @return {?function}\n */\nfunction getIteratorFn(maybeIterable) {\n  var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n  if (typeof iteratorFn === 'function') {\n    return iteratorFn;\n  }\n}\n\nmodule.exports = getIteratorFn;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/getIteratorFn.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar KeyEscapeUtils = require('./KeyEscapeUtils');\nvar traverseAllChildren = require('./traverseAllChildren');\nvar warning = require('fbjs/lib/warning');\n\nvar ReactComponentTreeHook;\n\nif (typeof process !== 'undefined' && process.env && process.env.NODE_ENV === 'test') {\n  // Temporary hack.\n  // Inline requires don't work well with Jest:\n  // https://github.com/facebook/react/issues/7240\n  // Remove the inline requires when we don't need them anymore:\n  // https://github.com/facebook/react/pull/7178\n  ReactComponentTreeHook = require('react/lib/ReactComponentTreeHook');\n}\n\n/**\n * @param {function} traverseContext Context passed through traversal.\n * @param {?ReactComponent} child React child component.\n * @param {!string} name String name of key path to child.\n * @param {number=} selfDebugID Optional debugID of the current internal instance.\n */\nfunction flattenSingleChildIntoContext(traverseContext, child, name, selfDebugID) {\n  // We found a component instance.\n  if (traverseContext && typeof traverseContext === 'object') {\n    var result = traverseContext;\n    var keyUnique = result[name] === undefined;\n    if (process.env.NODE_ENV !== 'production') {\n      if (!ReactComponentTreeHook) {\n        ReactComponentTreeHook = require('react/lib/ReactComponentTreeHook');\n      }\n      if (!keyUnique) {\n        process.env.NODE_ENV !== 'production' ? warning(false, 'flattenChildren(...): Encountered two children with the same key, ' + '`%s`. Child keys must be unique; when two children share a key, only ' + 'the first child will be used.%s', KeyEscapeUtils.unescape(name), ReactComponentTreeHook.getStackAddendumByID(selfDebugID)) : void 0;\n      }\n    }\n    if (keyUnique && child != null) {\n      result[name] = child;\n    }\n  }\n}\n\n/**\n * Flattens children that are typically specified as `props.children`. Any null\n * children will not be included in the resulting object.\n * @return {!object} flattened children keyed by name.\n */\nfunction flattenChildren(children, selfDebugID) {\n  if (children == null) {\n    return children;\n  }\n  var result = {};\n\n  if (process.env.NODE_ENV !== 'production') {\n    traverseAllChildren(children, function (traverseContext, child, name) {\n      return flattenSingleChildIntoContext(traverseContext, child, name, selfDebugID);\n    }, result);\n  } else {\n    traverseAllChildren(children, flattenSingleChildIntoContext, result);\n  }\n  return result;\n}\n\nmodule.exports = flattenChildren;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/flattenChildren.js","/**\n * Copyright 2014-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar PooledClass = require('./PooledClass');\nvar Transaction = require('./Transaction');\nvar ReactInstrumentation = require('./ReactInstrumentation');\nvar ReactServerUpdateQueue = require('./ReactServerUpdateQueue');\n\n/**\n * Executed within the scope of the `Transaction` instance. Consider these as\n * being member methods, but with an implied ordering while being isolated from\n * each other.\n */\nvar TRANSACTION_WRAPPERS = [];\n\nif (process.env.NODE_ENV !== 'production') {\n  TRANSACTION_WRAPPERS.push({\n    initialize: ReactInstrumentation.debugTool.onBeginFlush,\n    close: ReactInstrumentation.debugTool.onEndFlush\n  });\n}\n\nvar noopCallbackQueue = {\n  enqueue: function () {}\n};\n\n/**\n * @class ReactServerRenderingTransaction\n * @param {boolean} renderToStaticMarkup\n */\nfunction ReactServerRenderingTransaction(renderToStaticMarkup) {\n  this.reinitializeTransaction();\n  this.renderToStaticMarkup = renderToStaticMarkup;\n  this.useCreateElement = false;\n  this.updateQueue = new ReactServerUpdateQueue(this);\n}\n\nvar Mixin = {\n  /**\n   * @see Transaction\n   * @abstract\n   * @final\n   * @return {array} Empty list of operation wrap procedures.\n   */\n  getTransactionWrappers: function () {\n    return TRANSACTION_WRAPPERS;\n  },\n\n  /**\n   * @return {object} The queue to collect `onDOMReady` callbacks with.\n   */\n  getReactMountReady: function () {\n    return noopCallbackQueue;\n  },\n\n  /**\n   * @return {object} The queue to collect React async events.\n   */\n  getUpdateQueue: function () {\n    return this.updateQueue;\n  },\n\n  /**\n   * `PooledClass` looks for this, and will invoke this before allowing this\n   * instance to be reused.\n   */\n  destructor: function () {},\n\n  checkpoint: function () {},\n\n  rollback: function () {}\n};\n\n_assign(ReactServerRenderingTransaction.prototype, Transaction, Mixin);\n\nPooledClass.addPoolingTo(ReactServerRenderingTransaction);\n\nmodule.exports = ReactServerRenderingTransaction;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactServerRenderingTransaction.js","/**\n * Copyright 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ReactUpdateQueue = require('./ReactUpdateQueue');\n\nvar warning = require('fbjs/lib/warning');\n\nfunction warnNoop(publicInstance, callerName) {\n  if (process.env.NODE_ENV !== 'production') {\n    var constructor = publicInstance.constructor;\n    process.env.NODE_ENV !== 'production' ? warning(false, '%s(...): Can only update a mounting component. ' + 'This usually means you called %s() outside componentWillMount() on the server. ' + 'This is a no-op. Please check the code for the %s component.', callerName, callerName, constructor && (constructor.displayName || constructor.name) || 'ReactClass') : void 0;\n  }\n}\n\n/**\n * This is the update queue used for server rendering.\n * It delegates to ReactUpdateQueue while server rendering is in progress and\n * switches to ReactNoopUpdateQueue after the transaction has completed.\n * @class ReactServerUpdateQueue\n * @param {Transaction} transaction\n */\n\nvar ReactServerUpdateQueue = function () {\n  function ReactServerUpdateQueue(transaction) {\n    _classCallCheck(this, ReactServerUpdateQueue);\n\n    this.transaction = transaction;\n  }\n\n  /**\n   * Checks whether or not this composite component is mounted.\n   * @param {ReactClass} publicInstance The instance we want to test.\n   * @return {boolean} True if mounted, false otherwise.\n   * @protected\n   * @final\n   */\n\n\n  ReactServerUpdateQueue.prototype.isMounted = function isMounted(publicInstance) {\n    return false;\n  };\n\n  /**\n   * Enqueue a callback that will be executed after all the pending updates\n   * have processed.\n   *\n   * @param {ReactClass} publicInstance The instance to use as `this` context.\n   * @param {?function} callback Called after state is updated.\n   * @internal\n   */\n\n\n  ReactServerUpdateQueue.prototype.enqueueCallback = function enqueueCallback(publicInstance, callback, callerName) {\n    if (this.transaction.isInTransaction()) {\n      ReactUpdateQueue.enqueueCallback(publicInstance, callback, callerName);\n    }\n  };\n\n  /**\n   * Forces an update. This should only be invoked when it is known with\n   * certainty that we are **not** in a DOM transaction.\n   *\n   * You may want to call this when you know that some deeper aspect of the\n   * component's state has changed but `setState` was not called.\n   *\n   * This will not invoke `shouldComponentUpdate`, but it will invoke\n   * `componentWillUpdate` and `componentDidUpdate`.\n   *\n   * @param {ReactClass} publicInstance The instance that should rerender.\n   * @internal\n   */\n\n\n  ReactServerUpdateQueue.prototype.enqueueForceUpdate = function enqueueForceUpdate(publicInstance) {\n    if (this.transaction.isInTransaction()) {\n      ReactUpdateQueue.enqueueForceUpdate(publicInstance);\n    } else {\n      warnNoop(publicInstance, 'forceUpdate');\n    }\n  };\n\n  /**\n   * Replaces all of the state. Always use this or `setState` to mutate state.\n   * You should treat `this.state` as immutable.\n   *\n   * There is no guarantee that `this.state` will be immediately updated, so\n   * accessing `this.state` after calling this method may return the old value.\n   *\n   * @param {ReactClass} publicInstance The instance that should rerender.\n   * @param {object|function} completeState Next state.\n   * @internal\n   */\n\n\n  ReactServerUpdateQueue.prototype.enqueueReplaceState = function enqueueReplaceState(publicInstance, completeState) {\n    if (this.transaction.isInTransaction()) {\n      ReactUpdateQueue.enqueueReplaceState(publicInstance, completeState);\n    } else {\n      warnNoop(publicInstance, 'replaceState');\n    }\n  };\n\n  /**\n   * Sets a subset of the state. This only exists because _pendingState is\n   * internal. This provides a merging strategy that is not available to deep\n   * properties which is confusing. TODO: Expose pendingState or don't use it\n   * during the merge.\n   *\n   * @param {ReactClass} publicInstance The instance that should rerender.\n   * @param {object|function} partialState Next partial state to be merged with state.\n   * @internal\n   */\n\n\n  ReactServerUpdateQueue.prototype.enqueueSetState = function enqueueSetState(publicInstance, partialState) {\n    if (this.transaction.isInTransaction()) {\n      ReactUpdateQueue.enqueueSetState(publicInstance, partialState);\n    } else {\n      warnNoop(publicInstance, 'setState');\n    }\n  };\n\n  return ReactServerUpdateQueue;\n}();\n\nmodule.exports = ReactServerUpdateQueue;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactServerUpdateQueue.js","/**\n * Copyright 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar ReactCurrentOwner = require('react/lib/ReactCurrentOwner');\nvar ReactInstanceMap = require('./ReactInstanceMap');\nvar ReactInstrumentation = require('./ReactInstrumentation');\nvar ReactUpdates = require('./ReactUpdates');\n\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\nfunction enqueueUpdate(internalInstance) {\n  ReactUpdates.enqueueUpdate(internalInstance);\n}\n\nfunction formatUnexpectedArgument(arg) {\n  var type = typeof arg;\n  if (type !== 'object') {\n    return type;\n  }\n  var displayName = arg.constructor && arg.constructor.name || type;\n  var keys = Object.keys(arg);\n  if (keys.length > 0 && keys.length < 20) {\n    return displayName + ' (keys: ' + keys.join(', ') + ')';\n  }\n  return displayName;\n}\n\nfunction getInternalInstanceReadyForUpdate(publicInstance, callerName) {\n  var internalInstance = ReactInstanceMap.get(publicInstance);\n  if (!internalInstance) {\n    if (process.env.NODE_ENV !== 'production') {\n      var ctor = publicInstance.constructor;\n      // Only warn when we have a callerName. Otherwise we should be silent.\n      // We're probably calling from enqueueCallback. We don't want to warn\n      // there because we already warned for the corresponding lifecycle method.\n      process.env.NODE_ENV !== 'production' ? warning(!callerName, '%s(...): Can only update a mounted or mounting component. ' + 'This usually means you called %s() on an unmounted component. ' + 'This is a no-op. Please check the code for the %s component.', callerName, callerName, ctor && (ctor.displayName || ctor.name) || 'ReactClass') : void 0;\n    }\n    return null;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    process.env.NODE_ENV !== 'production' ? warning(ReactCurrentOwner.current == null, '%s(...): Cannot update during an existing state transition (such as ' + 'within `render` or another component\\'s constructor). Render methods ' + 'should be a pure function of props and state; constructor ' + 'side-effects are an anti-pattern, but can be moved to ' + '`componentWillMount`.', callerName) : void 0;\n  }\n\n  return internalInstance;\n}\n\n/**\n * ReactUpdateQueue allows for state updates to be scheduled into a later\n * reconciliation step.\n */\nvar ReactUpdateQueue = {\n\n  /**\n   * Checks whether or not this composite component is mounted.\n   * @param {ReactClass} publicInstance The instance we want to test.\n   * @return {boolean} True if mounted, false otherwise.\n   * @protected\n   * @final\n   */\n  isMounted: function (publicInstance) {\n    if (process.env.NODE_ENV !== 'production') {\n      var owner = ReactCurrentOwner.current;\n      if (owner !== null) {\n        process.env.NODE_ENV !== 'production' ? warning(owner._warnedAboutRefsInRender, '%s is accessing isMounted inside its render() function. ' + 'render() should be a pure function of props and state. It should ' + 'never access something that requires stale data from the previous ' + 'render, such as refs. Move this logic to componentDidMount and ' + 'componentDidUpdate instead.', owner.getName() || 'A component') : void 0;\n        owner._warnedAboutRefsInRender = true;\n      }\n    }\n    var internalInstance = ReactInstanceMap.get(publicInstance);\n    if (internalInstance) {\n      // During componentWillMount and render this will still be null but after\n      // that will always render to something. At least for now. So we can use\n      // this hack.\n      return !!internalInstance._renderedComponent;\n    } else {\n      return false;\n    }\n  },\n\n  /**\n   * Enqueue a callback that will be executed after all the pending updates\n   * have processed.\n   *\n   * @param {ReactClass} publicInstance The instance to use as `this` context.\n   * @param {?function} callback Called after state is updated.\n   * @param {string} callerName Name of the calling function in the public API.\n   * @internal\n   */\n  enqueueCallback: function (publicInstance, callback, callerName) {\n    ReactUpdateQueue.validateCallback(callback, callerName);\n    var internalInstance = getInternalInstanceReadyForUpdate(publicInstance);\n\n    // Previously we would throw an error if we didn't have an internal\n    // instance. Since we want to make it a no-op instead, we mirror the same\n    // behavior we have in other enqueue* methods.\n    // We also need to ignore callbacks in componentWillMount. See\n    // enqueueUpdates.\n    if (!internalInstance) {\n      return null;\n    }\n\n    if (internalInstance._pendingCallbacks) {\n      internalInstance._pendingCallbacks.push(callback);\n    } else {\n      internalInstance._pendingCallbacks = [callback];\n    }\n    // TODO: The callback here is ignored when setState is called from\n    // componentWillMount. Either fix it or disallow doing so completely in\n    // favor of getInitialState. Alternatively, we can disallow\n    // componentWillMount during server-side rendering.\n    enqueueUpdate(internalInstance);\n  },\n\n  enqueueCallbackInternal: function (internalInstance, callback) {\n    if (internalInstance._pendingCallbacks) {\n      internalInstance._pendingCallbacks.push(callback);\n    } else {\n      internalInstance._pendingCallbacks = [callback];\n    }\n    enqueueUpdate(internalInstance);\n  },\n\n  /**\n   * Forces an update. This should only be invoked when it is known with\n   * certainty that we are **not** in a DOM transaction.\n   *\n   * You may want to call this when you know that some deeper aspect of the\n   * component's state has changed but `setState` was not called.\n   *\n   * This will not invoke `shouldComponentUpdate`, but it will invoke\n   * `componentWillUpdate` and `componentDidUpdate`.\n   *\n   * @param {ReactClass} publicInstance The instance that should rerender.\n   * @internal\n   */\n  enqueueForceUpdate: function (publicInstance) {\n    var internalInstance = getInternalInstanceReadyForUpdate(publicInstance, 'forceUpdate');\n\n    if (!internalInstance) {\n      return;\n    }\n\n    internalInstance._pendingForceUpdate = true;\n\n    enqueueUpdate(internalInstance);\n  },\n\n  /**\n   * Replaces all of the state. Always use this or `setState` to mutate state.\n   * You should treat `this.state` as immutable.\n   *\n   * There is no guarantee that `this.state` will be immediately updated, so\n   * accessing `this.state` after calling this method may return the old value.\n   *\n   * @param {ReactClass} publicInstance The instance that should rerender.\n   * @param {object} completeState Next state.\n   * @internal\n   */\n  enqueueReplaceState: function (publicInstance, completeState) {\n    var internalInstance = getInternalInstanceReadyForUpdate(publicInstance, 'replaceState');\n\n    if (!internalInstance) {\n      return;\n    }\n\n    internalInstance._pendingStateQueue = [completeState];\n    internalInstance._pendingReplaceState = true;\n\n    enqueueUpdate(internalInstance);\n  },\n\n  /**\n   * Sets a subset of the state. This only exists because _pendingState is\n   * internal. This provides a merging strategy that is not available to deep\n   * properties which is confusing. TODO: Expose pendingState or don't use it\n   * during the merge.\n   *\n   * @param {ReactClass} publicInstance The instance that should rerender.\n   * @param {object} partialState Next partial state to be merged with state.\n   * @internal\n   */\n  enqueueSetState: function (publicInstance, partialState) {\n    if (process.env.NODE_ENV !== 'production') {\n      ReactInstrumentation.debugTool.onSetState();\n      process.env.NODE_ENV !== 'production' ? warning(partialState != null, 'setState(...): You passed an undefined or null state object; ' + 'instead, use forceUpdate().') : void 0;\n    }\n\n    var internalInstance = getInternalInstanceReadyForUpdate(publicInstance, 'setState');\n\n    if (!internalInstance) {\n      return;\n    }\n\n    var queue = internalInstance._pendingStateQueue || (internalInstance._pendingStateQueue = []);\n    queue.push(partialState);\n\n    enqueueUpdate(internalInstance);\n  },\n\n  enqueueElementInternal: function (internalInstance, nextElement, nextContext) {\n    internalInstance._pendingElement = nextElement;\n    // TODO: introduce _pendingContext instead of setting it directly.\n    internalInstance._context = nextContext;\n    enqueueUpdate(internalInstance);\n  },\n\n  validateCallback: function (callback, callerName) {\n    !(!callback || typeof callback === 'function') ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.', callerName, formatUnexpectedArgument(callback)) : _prodInvariant('122', callerName, formatUnexpectedArgument(callback)) : void 0;\n  }\n\n};\n\nmodule.exports = ReactUpdateQueue;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactUpdateQueue.js","/**\n * Copyright 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar warning = require('fbjs/lib/warning');\n\nvar validateDOMNesting = emptyFunction;\n\nif (process.env.NODE_ENV !== 'production') {\n  // This validation code was written based on the HTML5 parsing spec:\n  // https://html.spec.whatwg.org/multipage/syntax.html#has-an-element-in-scope\n  //\n  // Note: this does not catch all invalid nesting, nor does it try to (as it's\n  // not clear what practical benefit doing so provides); instead, we warn only\n  // for cases where the parser will give a parse tree differing from what React\n  // intended. For example, <b><div></div></b> is invalid but we don't warn\n  // because it still parses correctly; we do warn for other cases like nested\n  // <p> tags where the beginning of the second element implicitly closes the\n  // first, causing a confusing mess.\n\n  // https://html.spec.whatwg.org/multipage/syntax.html#special\n  var specialTags = ['address', 'applet', 'area', 'article', 'aside', 'base', 'basefont', 'bgsound', 'blockquote', 'body', 'br', 'button', 'caption', 'center', 'col', 'colgroup', 'dd', 'details', 'dir', 'div', 'dl', 'dt', 'embed', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'frame', 'frameset', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'iframe', 'img', 'input', 'isindex', 'li', 'link', 'listing', 'main', 'marquee', 'menu', 'menuitem', 'meta', 'nav', 'noembed', 'noframes', 'noscript', 'object', 'ol', 'p', 'param', 'plaintext', 'pre', 'script', 'section', 'select', 'source', 'style', 'summary', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'title', 'tr', 'track', 'ul', 'wbr', 'xmp'];\n\n  // https://html.spec.whatwg.org/multipage/syntax.html#has-an-element-in-scope\n  var inScopeTags = ['applet', 'caption', 'html', 'table', 'td', 'th', 'marquee', 'object', 'template',\n\n  // https://html.spec.whatwg.org/multipage/syntax.html#html-integration-point\n  // TODO: Distinguish by namespace here -- for <title>, including it here\n  // errs on the side of fewer warnings\n  'foreignObject', 'desc', 'title'];\n\n  // https://html.spec.whatwg.org/multipage/syntax.html#has-an-element-in-button-scope\n  var buttonScopeTags = inScopeTags.concat(['button']);\n\n  // https://html.spec.whatwg.org/multipage/syntax.html#generate-implied-end-tags\n  var impliedEndTags = ['dd', 'dt', 'li', 'option', 'optgroup', 'p', 'rp', 'rt'];\n\n  var emptyAncestorInfo = {\n    current: null,\n\n    formTag: null,\n    aTagInScope: null,\n    buttonTagInScope: null,\n    nobrTagInScope: null,\n    pTagInButtonScope: null,\n\n    listItemTagAutoclosing: null,\n    dlItemTagAutoclosing: null\n  };\n\n  var updatedAncestorInfo = function (oldInfo, tag, instance) {\n    var ancestorInfo = _assign({}, oldInfo || emptyAncestorInfo);\n    var info = { tag: tag, instance: instance };\n\n    if (inScopeTags.indexOf(tag) !== -1) {\n      ancestorInfo.aTagInScope = null;\n      ancestorInfo.buttonTagInScope = null;\n      ancestorInfo.nobrTagInScope = null;\n    }\n    if (buttonScopeTags.indexOf(tag) !== -1) {\n      ancestorInfo.pTagInButtonScope = null;\n    }\n\n    // See rules for 'li', 'dd', 'dt' start tags in\n    // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-inbody\n    if (specialTags.indexOf(tag) !== -1 && tag !== 'address' && tag !== 'div' && tag !== 'p') {\n      ancestorInfo.listItemTagAutoclosing = null;\n      ancestorInfo.dlItemTagAutoclosing = null;\n    }\n\n    ancestorInfo.current = info;\n\n    if (tag === 'form') {\n      ancestorInfo.formTag = info;\n    }\n    if (tag === 'a') {\n      ancestorInfo.aTagInScope = info;\n    }\n    if (tag === 'button') {\n      ancestorInfo.buttonTagInScope = info;\n    }\n    if (tag === 'nobr') {\n      ancestorInfo.nobrTagInScope = info;\n    }\n    if (tag === 'p') {\n      ancestorInfo.pTagInButtonScope = info;\n    }\n    if (tag === 'li') {\n      ancestorInfo.listItemTagAutoclosing = info;\n    }\n    if (tag === 'dd' || tag === 'dt') {\n      ancestorInfo.dlItemTagAutoclosing = info;\n    }\n\n    return ancestorInfo;\n  };\n\n  /**\n   * Returns whether\n   */\n  var isTagValidWithParent = function (tag, parentTag) {\n    // First, let's check if we're in an unusual parsing mode...\n    switch (parentTag) {\n      // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-inselect\n      case 'select':\n        return tag === 'option' || tag === 'optgroup' || tag === '#text';\n      case 'optgroup':\n        return tag === 'option' || tag === '#text';\n      // Strictly speaking, seeing an <option> doesn't mean we're in a <select>\n      // but\n      case 'option':\n        return tag === '#text';\n\n      // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-intd\n      // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-incaption\n      // No special behavior since these rules fall back to \"in body\" mode for\n      // all except special table nodes which cause bad parsing behavior anyway.\n\n      // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-intr\n      case 'tr':\n        return tag === 'th' || tag === 'td' || tag === 'style' || tag === 'script' || tag === 'template';\n\n      // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-intbody\n      case 'tbody':\n      case 'thead':\n      case 'tfoot':\n        return tag === 'tr' || tag === 'style' || tag === 'script' || tag === 'template';\n\n      // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-incolgroup\n      case 'colgroup':\n        return tag === 'col' || tag === 'template';\n\n      // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-intable\n      case 'table':\n        return tag === 'caption' || tag === 'colgroup' || tag === 'tbody' || tag === 'tfoot' || tag === 'thead' || tag === 'style' || tag === 'script' || tag === 'template';\n\n      // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-inhead\n      case 'head':\n        return tag === 'base' || tag === 'basefont' || tag === 'bgsound' || tag === 'link' || tag === 'meta' || tag === 'title' || tag === 'noscript' || tag === 'noframes' || tag === 'style' || tag === 'script' || tag === 'template';\n\n      // https://html.spec.whatwg.org/multipage/semantics.html#the-html-element\n      case 'html':\n        return tag === 'head' || tag === 'body';\n      case '#document':\n        return tag === 'html';\n    }\n\n    // Probably in the \"in body\" parsing mode, so we outlaw only tag combos\n    // where the parsing rules cause implicit opens or closes to be added.\n    // https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-inbody\n    switch (tag) {\n      case 'h1':\n      case 'h2':\n      case 'h3':\n      case 'h4':\n      case 'h5':\n      case 'h6':\n        return parentTag !== 'h1' && parentTag !== 'h2' && parentTag !== 'h3' && parentTag !== 'h4' && parentTag !== 'h5' && parentTag !== 'h6';\n\n      case 'rp':\n      case 'rt':\n        return impliedEndTags.indexOf(parentTag) === -1;\n\n      case 'body':\n      case 'caption':\n      case 'col':\n      case 'colgroup':\n      case 'frame':\n      case 'head':\n      case 'html':\n      case 'tbody':\n      case 'td':\n      case 'tfoot':\n      case 'th':\n      case 'thead':\n      case 'tr':\n        // These tags are only valid with a few parents that have special child\n        // parsing rules -- if we're down here, then none of those matched and\n        // so we allow it only if we don't know what the parent is, as all other\n        // cases are invalid.\n        return parentTag == null;\n    }\n\n    return true;\n  };\n\n  /**\n   * Returns whether\n   */\n  var findInvalidAncestorForTag = function (tag, ancestorInfo) {\n    switch (tag) {\n      case 'address':\n      case 'article':\n      case 'aside':\n      case 'blockquote':\n      case 'center':\n      case 'details':\n      case 'dialog':\n      case 'dir':\n      case 'div':\n      case 'dl':\n      case 'fieldset':\n      case 'figcaption':\n      case 'figure':\n      case 'footer':\n      case 'header':\n      case 'hgroup':\n      case 'main':\n      case 'menu':\n      case 'nav':\n      case 'ol':\n      case 'p':\n      case 'section':\n      case 'summary':\n      case 'ul':\n\n      case 'pre':\n      case 'listing':\n\n      case 'table':\n\n      case 'hr':\n\n      case 'xmp':\n\n      case 'h1':\n      case 'h2':\n      case 'h3':\n      case 'h4':\n      case 'h5':\n      case 'h6':\n        return ancestorInfo.pTagInButtonScope;\n\n      case 'form':\n        return ancestorInfo.formTag || ancestorInfo.pTagInButtonScope;\n\n      case 'li':\n        return ancestorInfo.listItemTagAutoclosing;\n\n      case 'dd':\n      case 'dt':\n        return ancestorInfo.dlItemTagAutoclosing;\n\n      case 'button':\n        return ancestorInfo.buttonTagInScope;\n\n      case 'a':\n        // Spec says something about storing a list of markers, but it sounds\n        // equivalent to this check.\n        return ancestorInfo.aTagInScope;\n\n      case 'nobr':\n        return ancestorInfo.nobrTagInScope;\n    }\n\n    return null;\n  };\n\n  /**\n   * Given a ReactCompositeComponent instance, return a list of its recursive\n   * owners, starting at the root and ending with the instance itself.\n   */\n  var findOwnerStack = function (instance) {\n    if (!instance) {\n      return [];\n    }\n\n    var stack = [];\n    do {\n      stack.push(instance);\n    } while (instance = instance._currentElement._owner);\n    stack.reverse();\n    return stack;\n  };\n\n  var didWarn = {};\n\n  validateDOMNesting = function (childTag, childText, childInstance, ancestorInfo) {\n    ancestorInfo = ancestorInfo || emptyAncestorInfo;\n    var parentInfo = ancestorInfo.current;\n    var parentTag = parentInfo && parentInfo.tag;\n\n    if (childText != null) {\n      process.env.NODE_ENV !== 'production' ? warning(childTag == null, 'validateDOMNesting: when childText is passed, childTag should be null') : void 0;\n      childTag = '#text';\n    }\n\n    var invalidParent = isTagValidWithParent(childTag, parentTag) ? null : parentInfo;\n    var invalidAncestor = invalidParent ? null : findInvalidAncestorForTag(childTag, ancestorInfo);\n    var problematic = invalidParent || invalidAncestor;\n\n    if (problematic) {\n      var ancestorTag = problematic.tag;\n      var ancestorInstance = problematic.instance;\n\n      var childOwner = childInstance && childInstance._currentElement._owner;\n      var ancestorOwner = ancestorInstance && ancestorInstance._currentElement._owner;\n\n      var childOwners = findOwnerStack(childOwner);\n      var ancestorOwners = findOwnerStack(ancestorOwner);\n\n      var minStackLen = Math.min(childOwners.length, ancestorOwners.length);\n      var i;\n\n      var deepestCommon = -1;\n      for (i = 0; i < minStackLen; i++) {\n        if (childOwners[i] === ancestorOwners[i]) {\n          deepestCommon = i;\n        } else {\n          break;\n        }\n      }\n\n      var UNKNOWN = '(unknown)';\n      var childOwnerNames = childOwners.slice(deepestCommon + 1).map(function (inst) {\n        return inst.getName() || UNKNOWN;\n      });\n      var ancestorOwnerNames = ancestorOwners.slice(deepestCommon + 1).map(function (inst) {\n        return inst.getName() || UNKNOWN;\n      });\n      var ownerInfo = [].concat(\n      // If the parent and child instances have a common owner ancestor, start\n      // with that -- otherwise we just start with the parent's owners.\n      deepestCommon !== -1 ? childOwners[deepestCommon].getName() || UNKNOWN : [], ancestorOwnerNames, ancestorTag,\n      // If we're warning about an invalid (non-parent) ancestry, add '...'\n      invalidAncestor ? ['...'] : [], childOwnerNames, childTag).join(' > ');\n\n      var warnKey = !!invalidParent + '|' + childTag + '|' + ancestorTag + '|' + ownerInfo;\n      if (didWarn[warnKey]) {\n        return;\n      }\n      didWarn[warnKey] = true;\n\n      var tagDisplayName = childTag;\n      var whitespaceInfo = '';\n      if (childTag === '#text') {\n        if (/\\S/.test(childText)) {\n          tagDisplayName = 'Text nodes';\n        } else {\n          tagDisplayName = 'Whitespace text nodes';\n          whitespaceInfo = ' Make sure you don\\'t have any extra whitespace between tags on ' + 'each line of your source code.';\n        }\n      } else {\n        tagDisplayName = '<' + childTag + '>';\n      }\n\n      if (invalidParent) {\n        var info = '';\n        if (ancestorTag === 'table' && childTag === 'tr') {\n          info += ' Add a <tbody> to your code to match the DOM tree generated by ' + 'the browser.';\n        }\n        process.env.NODE_ENV !== 'production' ? warning(false, 'validateDOMNesting(...): %s cannot appear as a child of <%s>.%s ' + 'See %s.%s', tagDisplayName, ancestorTag, whitespaceInfo, ownerInfo, info) : void 0;\n      } else {\n        process.env.NODE_ENV !== 'production' ? warning(false, 'validateDOMNesting(...): %s cannot appear as a descendant of ' + '<%s>. See %s.', tagDisplayName, ancestorTag, ownerInfo) : void 0;\n      }\n    }\n  };\n\n  validateDOMNesting.updatedAncestorInfo = updatedAncestorInfo;\n\n  // For testing\n  validateDOMNesting.isTagValidInContext = function (tag, ancestorInfo) {\n    ancestorInfo = ancestorInfo || emptyAncestorInfo;\n    var parentInfo = ancestorInfo.current;\n    var parentTag = parentInfo && parentInfo.tag;\n    return isTagValidWithParent(tag, parentTag) && !findInvalidAncestorForTag(tag, ancestorInfo);\n  };\n}\n\nmodule.exports = validateDOMNesting;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/validateDOMNesting.js","/**\n * Copyright 2014-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar DOMLazyTree = require('./DOMLazyTree');\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\n\nvar ReactDOMEmptyComponent = function (instantiate) {\n  // ReactCompositeComponent uses this:\n  this._currentElement = null;\n  // ReactDOMComponentTree uses these:\n  this._hostNode = null;\n  this._hostParent = null;\n  this._hostContainerInfo = null;\n  this._domID = 0;\n};\n_assign(ReactDOMEmptyComponent.prototype, {\n  mountComponent: function (transaction, hostParent, hostContainerInfo, context) {\n    var domID = hostContainerInfo._idCounter++;\n    this._domID = domID;\n    this._hostParent = hostParent;\n    this._hostContainerInfo = hostContainerInfo;\n\n    var nodeValue = ' react-empty: ' + this._domID + ' ';\n    if (transaction.useCreateElement) {\n      var ownerDocument = hostContainerInfo._ownerDocument;\n      var node = ownerDocument.createComment(nodeValue);\n      ReactDOMComponentTree.precacheNode(this, node);\n      return DOMLazyTree(node);\n    } else {\n      if (transaction.renderToStaticMarkup) {\n        // Normally we'd insert a comment node, but since this is a situation\n        // where React won't take over (static pages), we can simply return\n        // nothing.\n        return '';\n      }\n      return '<!--' + nodeValue + '-->';\n    }\n  },\n  receiveComponent: function () {},\n  getHostNode: function () {\n    return ReactDOMComponentTree.getNodeFromInstance(this);\n  },\n  unmountComponent: function () {\n    ReactDOMComponentTree.uncacheNode(this);\n  }\n});\n\nmodule.exports = ReactDOMEmptyComponent;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactDOMEmptyComponent.js","/**\n * Copyright 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * Return the lowest common ancestor of A and B, or null if they are in\n * different trees.\n */\nfunction getLowestCommonAncestor(instA, instB) {\n  !('_hostNode' in instA) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'getNodeFromInstance: Invalid argument.') : _prodInvariant('33') : void 0;\n  !('_hostNode' in instB) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'getNodeFromInstance: Invalid argument.') : _prodInvariant('33') : void 0;\n\n  var depthA = 0;\n  for (var tempA = instA; tempA; tempA = tempA._hostParent) {\n    depthA++;\n  }\n  var depthB = 0;\n  for (var tempB = instB; tempB; tempB = tempB._hostParent) {\n    depthB++;\n  }\n\n  // If A is deeper, crawl up.\n  while (depthA - depthB > 0) {\n    instA = instA._hostParent;\n    depthA--;\n  }\n\n  // If B is deeper, crawl up.\n  while (depthB - depthA > 0) {\n    instB = instB._hostParent;\n    depthB--;\n  }\n\n  // Walk in lockstep until we find a match.\n  var depth = depthA;\n  while (depth--) {\n    if (instA === instB) {\n      return instA;\n    }\n    instA = instA._hostParent;\n    instB = instB._hostParent;\n  }\n  return null;\n}\n\n/**\n * Return if A is an ancestor of B.\n */\nfunction isAncestor(instA, instB) {\n  !('_hostNode' in instA) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'isAncestor: Invalid argument.') : _prodInvariant('35') : void 0;\n  !('_hostNode' in instB) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'isAncestor: Invalid argument.') : _prodInvariant('35') : void 0;\n\n  while (instB) {\n    if (instB === instA) {\n      return true;\n    }\n    instB = instB._hostParent;\n  }\n  return false;\n}\n\n/**\n * Return the parent instance of the passed-in instance.\n */\nfunction getParentInstance(inst) {\n  !('_hostNode' in inst) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'getParentInstance: Invalid argument.') : _prodInvariant('36') : void 0;\n\n  return inst._hostParent;\n}\n\n/**\n * Simulates the traversal of a two-phase, capture/bubble event dispatch.\n */\nfunction traverseTwoPhase(inst, fn, arg) {\n  var path = [];\n  while (inst) {\n    path.push(inst);\n    inst = inst._hostParent;\n  }\n  var i;\n  for (i = path.length; i-- > 0;) {\n    fn(path[i], 'captured', arg);\n  }\n  for (i = 0; i < path.length; i++) {\n    fn(path[i], 'bubbled', arg);\n  }\n}\n\n/**\n * Traverses the ID hierarchy and invokes the supplied `cb` on any IDs that\n * should would receive a `mouseEnter` or `mouseLeave` event.\n *\n * Does not invoke the callback on the nearest common ancestor because nothing\n * \"entered\" or \"left\" that element.\n */\nfunction traverseEnterLeave(from, to, fn, argFrom, argTo) {\n  var common = from && to ? getLowestCommonAncestor(from, to) : null;\n  var pathFrom = [];\n  while (from && from !== common) {\n    pathFrom.push(from);\n    from = from._hostParent;\n  }\n  var pathTo = [];\n  while (to && to !== common) {\n    pathTo.push(to);\n    to = to._hostParent;\n  }\n  var i;\n  for (i = 0; i < pathFrom.length; i++) {\n    fn(pathFrom[i], 'bubbled', argFrom);\n  }\n  for (i = pathTo.length; i-- > 0;) {\n    fn(pathTo[i], 'captured', argTo);\n  }\n}\n\nmodule.exports = {\n  isAncestor: isAncestor,\n  getLowestCommonAncestor: getLowestCommonAncestor,\n  getParentInstance: getParentInstance,\n  traverseTwoPhase: traverseTwoPhase,\n  traverseEnterLeave: traverseEnterLeave\n};\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactDOMTreeTraversal.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant'),\n    _assign = require('object-assign');\n\nvar DOMChildrenOperations = require('./DOMChildrenOperations');\nvar DOMLazyTree = require('./DOMLazyTree');\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\n\nvar escapeTextContentForBrowser = require('./escapeTextContentForBrowser');\nvar invariant = require('fbjs/lib/invariant');\nvar validateDOMNesting = require('./validateDOMNesting');\n\n/**\n * Text nodes violate a couple assumptions that React makes about components:\n *\n *  - When mounting text into the DOM, adjacent text nodes are merged.\n *  - Text nodes cannot be assigned a React root ID.\n *\n * This component is used to wrap strings between comment nodes so that they\n * can undergo the same reconciliation that is applied to elements.\n *\n * TODO: Investigate representing React components in the DOM with text nodes.\n *\n * @class ReactDOMTextComponent\n * @extends ReactComponent\n * @internal\n */\nvar ReactDOMTextComponent = function (text) {\n  // TODO: This is really a ReactText (ReactNode), not a ReactElement\n  this._currentElement = text;\n  this._stringText = '' + text;\n  // ReactDOMComponentTree uses these:\n  this._hostNode = null;\n  this._hostParent = null;\n\n  // Properties\n  this._domID = 0;\n  this._mountIndex = 0;\n  this._closingComment = null;\n  this._commentNodes = null;\n};\n\n_assign(ReactDOMTextComponent.prototype, {\n\n  /**\n   * Creates the markup for this text node. This node is not intended to have\n   * any features besides containing text content.\n   *\n   * @param {ReactReconcileTransaction|ReactServerRenderingTransaction} transaction\n   * @return {string} Markup for this text node.\n   * @internal\n   */\n  mountComponent: function (transaction, hostParent, hostContainerInfo, context) {\n    if (process.env.NODE_ENV !== 'production') {\n      var parentInfo;\n      if (hostParent != null) {\n        parentInfo = hostParent._ancestorInfo;\n      } else if (hostContainerInfo != null) {\n        parentInfo = hostContainerInfo._ancestorInfo;\n      }\n      if (parentInfo) {\n        // parentInfo should always be present except for the top-level\n        // component when server rendering\n        validateDOMNesting(null, this._stringText, this, parentInfo);\n      }\n    }\n\n    var domID = hostContainerInfo._idCounter++;\n    var openingValue = ' react-text: ' + domID + ' ';\n    var closingValue = ' /react-text ';\n    this._domID = domID;\n    this._hostParent = hostParent;\n    if (transaction.useCreateElement) {\n      var ownerDocument = hostContainerInfo._ownerDocument;\n      var openingComment = ownerDocument.createComment(openingValue);\n      var closingComment = ownerDocument.createComment(closingValue);\n      var lazyTree = DOMLazyTree(ownerDocument.createDocumentFragment());\n      DOMLazyTree.queueChild(lazyTree, DOMLazyTree(openingComment));\n      if (this._stringText) {\n        DOMLazyTree.queueChild(lazyTree, DOMLazyTree(ownerDocument.createTextNode(this._stringText)));\n      }\n      DOMLazyTree.queueChild(lazyTree, DOMLazyTree(closingComment));\n      ReactDOMComponentTree.precacheNode(this, openingComment);\n      this._closingComment = closingComment;\n      return lazyTree;\n    } else {\n      var escapedText = escapeTextContentForBrowser(this._stringText);\n\n      if (transaction.renderToStaticMarkup) {\n        // Normally we'd wrap this between comment nodes for the reasons stated\n        // above, but since this is a situation where React won't take over\n        // (static pages), we can simply return the text as it is.\n        return escapedText;\n      }\n\n      return '<!--' + openingValue + '-->' + escapedText + '<!--' + closingValue + '-->';\n    }\n  },\n\n  /**\n   * Updates this component by updating the text content.\n   *\n   * @param {ReactText} nextText The next text content\n   * @param {ReactReconcileTransaction} transaction\n   * @internal\n   */\n  receiveComponent: function (nextText, transaction) {\n    if (nextText !== this._currentElement) {\n      this._currentElement = nextText;\n      var nextStringText = '' + nextText;\n      if (nextStringText !== this._stringText) {\n        // TODO: Save this as pending props and use performUpdateIfNecessary\n        // and/or updateComponent to do the actual update for consistency with\n        // other component types?\n        this._stringText = nextStringText;\n        var commentNodes = this.getHostNode();\n        DOMChildrenOperations.replaceDelimitedText(commentNodes[0], commentNodes[1], nextStringText);\n      }\n    }\n  },\n\n  getHostNode: function () {\n    var hostNode = this._commentNodes;\n    if (hostNode) {\n      return hostNode;\n    }\n    if (!this._closingComment) {\n      var openingComment = ReactDOMComponentTree.getNodeFromInstance(this);\n      var node = openingComment.nextSibling;\n      while (true) {\n        !(node != null) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Missing closing comment for text component %s', this._domID) : _prodInvariant('67', this._domID) : void 0;\n        if (node.nodeType === 8 && node.nodeValue === ' /react-text ') {\n          this._closingComment = node;\n          break;\n        }\n        node = node.nextSibling;\n      }\n    }\n    hostNode = [this._hostNode, this._closingComment];\n    this._commentNodes = hostNode;\n    return hostNode;\n  },\n\n  unmountComponent: function () {\n    this._closingComment = null;\n    this._commentNodes = null;\n    ReactDOMComponentTree.uncacheNode(this);\n  }\n\n});\n\nmodule.exports = ReactDOMTextComponent;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactDOMTextComponent.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar ReactUpdates = require('./ReactUpdates');\nvar Transaction = require('./Transaction');\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\n\nvar RESET_BATCHED_UPDATES = {\n  initialize: emptyFunction,\n  close: function () {\n    ReactDefaultBatchingStrategy.isBatchingUpdates = false;\n  }\n};\n\nvar FLUSH_BATCHED_UPDATES = {\n  initialize: emptyFunction,\n  close: ReactUpdates.flushBatchedUpdates.bind(ReactUpdates)\n};\n\nvar TRANSACTION_WRAPPERS = [FLUSH_BATCHED_UPDATES, RESET_BATCHED_UPDATES];\n\nfunction ReactDefaultBatchingStrategyTransaction() {\n  this.reinitializeTransaction();\n}\n\n_assign(ReactDefaultBatchingStrategyTransaction.prototype, Transaction, {\n  getTransactionWrappers: function () {\n    return TRANSACTION_WRAPPERS;\n  }\n});\n\nvar transaction = new ReactDefaultBatchingStrategyTransaction();\n\nvar ReactDefaultBatchingStrategy = {\n  isBatchingUpdates: false,\n\n  /**\n   * Call the provided function in a context within which calls to `setState`\n   * and friends are batched such that components aren't updated unnecessarily.\n   */\n  batchedUpdates: function (callback, a, b, c, d, e) {\n    var alreadyBatchingUpdates = ReactDefaultBatchingStrategy.isBatchingUpdates;\n\n    ReactDefaultBatchingStrategy.isBatchingUpdates = true;\n\n    // The code is written this way to avoid extra allocations\n    if (alreadyBatchingUpdates) {\n      return callback(a, b, c, d, e);\n    } else {\n      return transaction.perform(callback, null, a, b, c, d, e);\n    }\n  }\n};\n\nmodule.exports = ReactDefaultBatchingStrategy;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactDefaultBatchingStrategy.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar EventListener = require('fbjs/lib/EventListener');\nvar ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment');\nvar PooledClass = require('./PooledClass');\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\nvar ReactUpdates = require('./ReactUpdates');\n\nvar getEventTarget = require('./getEventTarget');\nvar getUnboundedScrollPosition = require('fbjs/lib/getUnboundedScrollPosition');\n\n/**\n * Find the deepest React component completely containing the root of the\n * passed-in instance (for use when entire React trees are nested within each\n * other). If React trees are not nested, returns null.\n */\nfunction findParent(inst) {\n  // TODO: It may be a good idea to cache this to prevent unnecessary DOM\n  // traversal, but caching is difficult to do correctly without using a\n  // mutation observer to listen for all DOM changes.\n  while (inst._hostParent) {\n    inst = inst._hostParent;\n  }\n  var rootNode = ReactDOMComponentTree.getNodeFromInstance(inst);\n  var container = rootNode.parentNode;\n  return ReactDOMComponentTree.getClosestInstanceFromNode(container);\n}\n\n// Used to store ancestor hierarchy in top level callback\nfunction TopLevelCallbackBookKeeping(topLevelType, nativeEvent) {\n  this.topLevelType = topLevelType;\n  this.nativeEvent = nativeEvent;\n  this.ancestors = [];\n}\n_assign(TopLevelCallbackBookKeeping.prototype, {\n  destructor: function () {\n    this.topLevelType = null;\n    this.nativeEvent = null;\n    this.ancestors.length = 0;\n  }\n});\nPooledClass.addPoolingTo(TopLevelCallbackBookKeeping, PooledClass.twoArgumentPooler);\n\nfunction handleTopLevelImpl(bookKeeping) {\n  var nativeEventTarget = getEventTarget(bookKeeping.nativeEvent);\n  var targetInst = ReactDOMComponentTree.getClosestInstanceFromNode(nativeEventTarget);\n\n  // Loop through the hierarchy, in case there's any nested components.\n  // It's important that we build the array of ancestors before calling any\n  // event handlers, because event handlers can modify the DOM, leading to\n  // inconsistencies with ReactMount's node cache. See #1105.\n  var ancestor = targetInst;\n  do {\n    bookKeeping.ancestors.push(ancestor);\n    ancestor = ancestor && findParent(ancestor);\n  } while (ancestor);\n\n  for (var i = 0; i < bookKeeping.ancestors.length; i++) {\n    targetInst = bookKeeping.ancestors[i];\n    ReactEventListener._handleTopLevel(bookKeeping.topLevelType, targetInst, bookKeeping.nativeEvent, getEventTarget(bookKeeping.nativeEvent));\n  }\n}\n\nfunction scrollValueMonitor(cb) {\n  var scrollPosition = getUnboundedScrollPosition(window);\n  cb(scrollPosition);\n}\n\nvar ReactEventListener = {\n  _enabled: true,\n  _handleTopLevel: null,\n\n  WINDOW_HANDLE: ExecutionEnvironment.canUseDOM ? window : null,\n\n  setHandleTopLevel: function (handleTopLevel) {\n    ReactEventListener._handleTopLevel = handleTopLevel;\n  },\n\n  setEnabled: function (enabled) {\n    ReactEventListener._enabled = !!enabled;\n  },\n\n  isEnabled: function () {\n    return ReactEventListener._enabled;\n  },\n\n  /**\n   * Traps top-level events by using event bubbling.\n   *\n   * @param {string} topLevelType Record from `EventConstants`.\n   * @param {string} handlerBaseName Event name (e.g. \"click\").\n   * @param {object} element Element on which to attach listener.\n   * @return {?object} An object with a remove function which will forcefully\n   *                  remove the listener.\n   * @internal\n   */\n  trapBubbledEvent: function (topLevelType, handlerBaseName, element) {\n    if (!element) {\n      return null;\n    }\n    return EventListener.listen(element, handlerBaseName, ReactEventListener.dispatchEvent.bind(null, topLevelType));\n  },\n\n  /**\n   * Traps a top-level event by using event capturing.\n   *\n   * @param {string} topLevelType Record from `EventConstants`.\n   * @param {string} handlerBaseName Event name (e.g. \"click\").\n   * @param {object} element Element on which to attach listener.\n   * @return {?object} An object with a remove function which will forcefully\n   *                  remove the listener.\n   * @internal\n   */\n  trapCapturedEvent: function (topLevelType, handlerBaseName, element) {\n    if (!element) {\n      return null;\n    }\n    return EventListener.capture(element, handlerBaseName, ReactEventListener.dispatchEvent.bind(null, topLevelType));\n  },\n\n  monitorScrollValue: function (refresh) {\n    var callback = scrollValueMonitor.bind(null, refresh);\n    EventListener.listen(window, 'scroll', callback);\n  },\n\n  dispatchEvent: function (topLevelType, nativeEvent) {\n    if (!ReactEventListener._enabled) {\n      return;\n    }\n\n    var bookKeeping = TopLevelCallbackBookKeeping.getPooled(topLevelType, nativeEvent);\n    try {\n      // Event queue being processed in the same cycle allows\n      // `preventDefault`.\n      ReactUpdates.batchedUpdates(handleTopLevelImpl, bookKeeping);\n    } finally {\n      TopLevelCallbackBookKeeping.release(bookKeeping);\n    }\n  }\n};\n\nmodule.exports = ReactEventListener;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactEventListener.js","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @typechecks\n */\n\nvar emptyFunction = require('./emptyFunction');\n\n/**\n * Upstream version of event listener. Does not take into account specific\n * nature of platform.\n */\nvar EventListener = {\n  /**\n   * Listen to DOM events during the bubble phase.\n   *\n   * @param {DOMEventTarget} target DOM element to register listener on.\n   * @param {string} eventType Event type, e.g. 'click' or 'mouseover'.\n   * @param {function} callback Callback function.\n   * @return {object} Object with a `remove` method.\n   */\n  listen: function listen(target, eventType, callback) {\n    if (target.addEventListener) {\n      target.addEventListener(eventType, callback, false);\n      return {\n        remove: function remove() {\n          target.removeEventListener(eventType, callback, false);\n        }\n      };\n    } else if (target.attachEvent) {\n      target.attachEvent('on' + eventType, callback);\n      return {\n        remove: function remove() {\n          target.detachEvent('on' + eventType, callback);\n        }\n      };\n    }\n  },\n\n  /**\n   * Listen to DOM events during the capture phase.\n   *\n   * @param {DOMEventTarget} target DOM element to register listener on.\n   * @param {string} eventType Event type, e.g. 'click' or 'mouseover'.\n   * @param {function} callback Callback function.\n   * @return {object} Object with a `remove` method.\n   */\n  capture: function capture(target, eventType, callback) {\n    if (target.addEventListener) {\n      target.addEventListener(eventType, callback, true);\n      return {\n        remove: function remove() {\n          target.removeEventListener(eventType, callback, true);\n        }\n      };\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        console.error('Attempted to listen to events during the capture phase on a ' + 'browser that does not support the capture phase. Your application ' + 'will not receive some events.');\n      }\n      return {\n        remove: emptyFunction\n      };\n    }\n  },\n\n  registerDefault: function registerDefault() {}\n};\n\nmodule.exports = EventListener;\n\n\n// WEBPACK FOOTER //\n// ./~/fbjs/lib/EventListener.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n */\n\n'use strict';\n\n/**\n * Gets the scroll position of the supplied element or window.\n *\n * The return values are unbounded, unlike `getScrollPosition`. This means they\n * may be negative or exceed the element boundaries (which is possible using\n * inertial scrolling).\n *\n * @param {DOMWindow|DOMElement} scrollable\n * @return {object} Map with `x` and `y` keys.\n */\n\nfunction getUnboundedScrollPosition(scrollable) {\n  if (scrollable === window) {\n    return {\n      x: window.pageXOffset || document.documentElement.scrollLeft,\n      y: window.pageYOffset || document.documentElement.scrollTop\n    };\n  }\n  return {\n    x: scrollable.scrollLeft,\n    y: scrollable.scrollTop\n  };\n}\n\nmodule.exports = getUnboundedScrollPosition;\n\n\n// WEBPACK FOOTER //\n// ./~/fbjs/lib/getUnboundedScrollPosition.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar DOMProperty = require('./DOMProperty');\nvar EventPluginHub = require('./EventPluginHub');\nvar EventPluginUtils = require('./EventPluginUtils');\nvar ReactComponentEnvironment = require('./ReactComponentEnvironment');\nvar ReactEmptyComponent = require('./ReactEmptyComponent');\nvar ReactBrowserEventEmitter = require('./ReactBrowserEventEmitter');\nvar ReactHostComponent = require('./ReactHostComponent');\nvar ReactUpdates = require('./ReactUpdates');\n\nvar ReactInjection = {\n  Component: ReactComponentEnvironment.injection,\n  DOMProperty: DOMProperty.injection,\n  EmptyComponent: ReactEmptyComponent.injection,\n  EventPluginHub: EventPluginHub.injection,\n  EventPluginUtils: EventPluginUtils.injection,\n  EventEmitter: ReactBrowserEventEmitter.injection,\n  HostComponent: ReactHostComponent.injection,\n  Updates: ReactUpdates.injection\n};\n\nmodule.exports = ReactInjection;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactInjection.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar CallbackQueue = require('./CallbackQueue');\nvar PooledClass = require('./PooledClass');\nvar ReactBrowserEventEmitter = require('./ReactBrowserEventEmitter');\nvar ReactInputSelection = require('./ReactInputSelection');\nvar ReactInstrumentation = require('./ReactInstrumentation');\nvar Transaction = require('./Transaction');\nvar ReactUpdateQueue = require('./ReactUpdateQueue');\n\n/**\n * Ensures that, when possible, the selection range (currently selected text\n * input) is not disturbed by performing the transaction.\n */\nvar SELECTION_RESTORATION = {\n  /**\n   * @return {Selection} Selection information.\n   */\n  initialize: ReactInputSelection.getSelectionInformation,\n  /**\n   * @param {Selection} sel Selection information returned from `initialize`.\n   */\n  close: ReactInputSelection.restoreSelection\n};\n\n/**\n * Suppresses events (blur/focus) that could be inadvertently dispatched due to\n * high level DOM manipulations (like temporarily removing a text input from the\n * DOM).\n */\nvar EVENT_SUPPRESSION = {\n  /**\n   * @return {boolean} The enabled status of `ReactBrowserEventEmitter` before\n   * the reconciliation.\n   */\n  initialize: function () {\n    var currentlyEnabled = ReactBrowserEventEmitter.isEnabled();\n    ReactBrowserEventEmitter.setEnabled(false);\n    return currentlyEnabled;\n  },\n\n  /**\n   * @param {boolean} previouslyEnabled Enabled status of\n   *   `ReactBrowserEventEmitter` before the reconciliation occurred. `close`\n   *   restores the previous value.\n   */\n  close: function (previouslyEnabled) {\n    ReactBrowserEventEmitter.setEnabled(previouslyEnabled);\n  }\n};\n\n/**\n * Provides a queue for collecting `componentDidMount` and\n * `componentDidUpdate` callbacks during the transaction.\n */\nvar ON_DOM_READY_QUEUEING = {\n  /**\n   * Initializes the internal `onDOMReady` queue.\n   */\n  initialize: function () {\n    this.reactMountReady.reset();\n  },\n\n  /**\n   * After DOM is flushed, invoke all registered `onDOMReady` callbacks.\n   */\n  close: function () {\n    this.reactMountReady.notifyAll();\n  }\n};\n\n/**\n * Executed within the scope of the `Transaction` instance. Consider these as\n * being member methods, but with an implied ordering while being isolated from\n * each other.\n */\nvar TRANSACTION_WRAPPERS = [SELECTION_RESTORATION, EVENT_SUPPRESSION, ON_DOM_READY_QUEUEING];\n\nif (process.env.NODE_ENV !== 'production') {\n  TRANSACTION_WRAPPERS.push({\n    initialize: ReactInstrumentation.debugTool.onBeginFlush,\n    close: ReactInstrumentation.debugTool.onEndFlush\n  });\n}\n\n/**\n * Currently:\n * - The order that these are listed in the transaction is critical:\n * - Suppresses events.\n * - Restores selection range.\n *\n * Future:\n * - Restore document/overflow scroll positions that were unintentionally\n *   modified via DOM insertions above the top viewport boundary.\n * - Implement/integrate with customized constraint based layout system and keep\n *   track of which dimensions must be remeasured.\n *\n * @class ReactReconcileTransaction\n */\nfunction ReactReconcileTransaction(useCreateElement) {\n  this.reinitializeTransaction();\n  // Only server-side rendering really needs this option (see\n  // `ReactServerRendering`), but server-side uses\n  // `ReactServerRenderingTransaction` instead. This option is here so that it's\n  // accessible and defaults to false when `ReactDOMComponent` and\n  // `ReactDOMTextComponent` checks it in `mountComponent`.`\n  this.renderToStaticMarkup = false;\n  this.reactMountReady = CallbackQueue.getPooled(null);\n  this.useCreateElement = useCreateElement;\n}\n\nvar Mixin = {\n  /**\n   * @see Transaction\n   * @abstract\n   * @final\n   * @return {array<object>} List of operation wrap procedures.\n   *   TODO: convert to array<TransactionWrapper>\n   */\n  getTransactionWrappers: function () {\n    return TRANSACTION_WRAPPERS;\n  },\n\n  /**\n   * @return {object} The queue to collect `onDOMReady` callbacks with.\n   */\n  getReactMountReady: function () {\n    return this.reactMountReady;\n  },\n\n  /**\n   * @return {object} The queue to collect React async events.\n   */\n  getUpdateQueue: function () {\n    return ReactUpdateQueue;\n  },\n\n  /**\n   * Save current transaction state -- if the return value from this method is\n   * passed to `rollback`, the transaction will be reset to that state.\n   */\n  checkpoint: function () {\n    // reactMountReady is the our only stateful wrapper\n    return this.reactMountReady.checkpoint();\n  },\n\n  rollback: function (checkpoint) {\n    this.reactMountReady.rollback(checkpoint);\n  },\n\n  /**\n   * `PooledClass` looks for this, and will invoke this before allowing this\n   * instance to be reused.\n   */\n  destructor: function () {\n    CallbackQueue.release(this.reactMountReady);\n    this.reactMountReady = null;\n  }\n};\n\n_assign(ReactReconcileTransaction.prototype, Transaction, Mixin);\n\nPooledClass.addPoolingTo(ReactReconcileTransaction);\n\nmodule.exports = ReactReconcileTransaction;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactReconcileTransaction.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar ReactDOMSelection = require('./ReactDOMSelection');\n\nvar containsNode = require('fbjs/lib/containsNode');\nvar focusNode = require('fbjs/lib/focusNode');\nvar getActiveElement = require('fbjs/lib/getActiveElement');\n\nfunction isInDocument(node) {\n  return containsNode(document.documentElement, node);\n}\n\n/**\n * @ReactInputSelection: React input selection module. Based on Selection.js,\n * but modified to be suitable for react and has a couple of bug fixes (doesn't\n * assume buttons have range selections allowed).\n * Input selection module for React.\n */\nvar ReactInputSelection = {\n\n  hasSelectionCapabilities: function (elem) {\n    var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n    return nodeName && (nodeName === 'input' && elem.type === 'text' || nodeName === 'textarea' || elem.contentEditable === 'true');\n  },\n\n  getSelectionInformation: function () {\n    var focusedElem = getActiveElement();\n    return {\n      focusedElem: focusedElem,\n      selectionRange: ReactInputSelection.hasSelectionCapabilities(focusedElem) ? ReactInputSelection.getSelection(focusedElem) : null\n    };\n  },\n\n  /**\n   * @restoreSelection: If any selection information was potentially lost,\n   * restore it. This is useful when performing operations that could remove dom\n   * nodes and place them back in, resulting in focus being lost.\n   */\n  restoreSelection: function (priorSelectionInformation) {\n    var curFocusedElem = getActiveElement();\n    var priorFocusedElem = priorSelectionInformation.focusedElem;\n    var priorSelectionRange = priorSelectionInformation.selectionRange;\n    if (curFocusedElem !== priorFocusedElem && isInDocument(priorFocusedElem)) {\n      if (ReactInputSelection.hasSelectionCapabilities(priorFocusedElem)) {\n        ReactInputSelection.setSelection(priorFocusedElem, priorSelectionRange);\n      }\n      focusNode(priorFocusedElem);\n    }\n  },\n\n  /**\n   * @getSelection: Gets the selection bounds of a focused textarea, input or\n   * contentEditable node.\n   * -@input: Look up selection bounds of this input\n   * -@return {start: selectionStart, end: selectionEnd}\n   */\n  getSelection: function (input) {\n    var selection;\n\n    if ('selectionStart' in input) {\n      // Modern browser with input or textarea.\n      selection = {\n        start: input.selectionStart,\n        end: input.selectionEnd\n      };\n    } else if (document.selection && input.nodeName && input.nodeName.toLowerCase() === 'input') {\n      // IE8 input.\n      var range = document.selection.createRange();\n      // There can only be one selection per document in IE, so it must\n      // be in our element.\n      if (range.parentElement() === input) {\n        selection = {\n          start: -range.moveStart('character', -input.value.length),\n          end: -range.moveEnd('character', -input.value.length)\n        };\n      }\n    } else {\n      // Content editable or old IE textarea.\n      selection = ReactDOMSelection.getOffsets(input);\n    }\n\n    return selection || { start: 0, end: 0 };\n  },\n\n  /**\n   * @setSelection: Sets the selection bounds of a textarea or input and focuses\n   * the input.\n   * -@input     Set selection bounds of this input or textarea\n   * -@offsets   Object of same form that is returned from get*\n   */\n  setSelection: function (input, offsets) {\n    var start = offsets.start;\n    var end = offsets.end;\n    if (end === undefined) {\n      end = start;\n    }\n\n    if ('selectionStart' in input) {\n      input.selectionStart = start;\n      input.selectionEnd = Math.min(end, input.value.length);\n    } else if (document.selection && input.nodeName && input.nodeName.toLowerCase() === 'input') {\n      var range = input.createTextRange();\n      range.collapse(true);\n      range.moveStart('character', start);\n      range.moveEnd('character', end - start);\n      range.select();\n    } else {\n      ReactDOMSelection.setOffsets(input, offsets);\n    }\n  }\n};\n\nmodule.exports = ReactInputSelection;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactInputSelection.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment');\n\nvar getNodeForCharacterOffset = require('./getNodeForCharacterOffset');\nvar getTextContentAccessor = require('./getTextContentAccessor');\n\n/**\n * While `isCollapsed` is available on the Selection object and `collapsed`\n * is available on the Range object, IE11 sometimes gets them wrong.\n * If the anchor/focus nodes and offsets are the same, the range is collapsed.\n */\nfunction isCollapsed(anchorNode, anchorOffset, focusNode, focusOffset) {\n  return anchorNode === focusNode && anchorOffset === focusOffset;\n}\n\n/**\n * Get the appropriate anchor and focus node/offset pairs for IE.\n *\n * The catch here is that IE's selection API doesn't provide information\n * about whether the selection is forward or backward, so we have to\n * behave as though it's always forward.\n *\n * IE text differs from modern selection in that it behaves as though\n * block elements end with a new line. This means character offsets will\n * differ between the two APIs.\n *\n * @param {DOMElement} node\n * @return {object}\n */\nfunction getIEOffsets(node) {\n  var selection = document.selection;\n  var selectedRange = selection.createRange();\n  var selectedLength = selectedRange.text.length;\n\n  // Duplicate selection so we can move range without breaking user selection.\n  var fromStart = selectedRange.duplicate();\n  fromStart.moveToElementText(node);\n  fromStart.setEndPoint('EndToStart', selectedRange);\n\n  var startOffset = fromStart.text.length;\n  var endOffset = startOffset + selectedLength;\n\n  return {\n    start: startOffset,\n    end: endOffset\n  };\n}\n\n/**\n * @param {DOMElement} node\n * @return {?object}\n */\nfunction getModernOffsets(node) {\n  var selection = window.getSelection && window.getSelection();\n\n  if (!selection || selection.rangeCount === 0) {\n    return null;\n  }\n\n  var anchorNode = selection.anchorNode;\n  var anchorOffset = selection.anchorOffset;\n  var focusNode = selection.focusNode;\n  var focusOffset = selection.focusOffset;\n\n  var currentRange = selection.getRangeAt(0);\n\n  // In Firefox, range.startContainer and range.endContainer can be \"anonymous\n  // divs\", e.g. the up/down buttons on an <input type=\"number\">. Anonymous\n  // divs do not seem to expose properties, triggering a \"Permission denied\n  // error\" if any of its properties are accessed. The only seemingly possible\n  // way to avoid erroring is to access a property that typically works for\n  // non-anonymous divs and catch any error that may otherwise arise. See\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=208427\n  try {\n    /* eslint-disable no-unused-expressions */\n    currentRange.startContainer.nodeType;\n    currentRange.endContainer.nodeType;\n    /* eslint-enable no-unused-expressions */\n  } catch (e) {\n    return null;\n  }\n\n  // If the node and offset values are the same, the selection is collapsed.\n  // `Selection.isCollapsed` is available natively, but IE sometimes gets\n  // this value wrong.\n  var isSelectionCollapsed = isCollapsed(selection.anchorNode, selection.anchorOffset, selection.focusNode, selection.focusOffset);\n\n  var rangeLength = isSelectionCollapsed ? 0 : currentRange.toString().length;\n\n  var tempRange = currentRange.cloneRange();\n  tempRange.selectNodeContents(node);\n  tempRange.setEnd(currentRange.startContainer, currentRange.startOffset);\n\n  var isTempRangeCollapsed = isCollapsed(tempRange.startContainer, tempRange.startOffset, tempRange.endContainer, tempRange.endOffset);\n\n  var start = isTempRangeCollapsed ? 0 : tempRange.toString().length;\n  var end = start + rangeLength;\n\n  // Detect whether the selection is backward.\n  var detectionRange = document.createRange();\n  detectionRange.setStart(anchorNode, anchorOffset);\n  detectionRange.setEnd(focusNode, focusOffset);\n  var isBackward = detectionRange.collapsed;\n\n  return {\n    start: isBackward ? end : start,\n    end: isBackward ? start : end\n  };\n}\n\n/**\n * @param {DOMElement|DOMTextNode} node\n * @param {object} offsets\n */\nfunction setIEOffsets(node, offsets) {\n  var range = document.selection.createRange().duplicate();\n  var start, end;\n\n  if (offsets.end === undefined) {\n    start = offsets.start;\n    end = start;\n  } else if (offsets.start > offsets.end) {\n    start = offsets.end;\n    end = offsets.start;\n  } else {\n    start = offsets.start;\n    end = offsets.end;\n  }\n\n  range.moveToElementText(node);\n  range.moveStart('character', start);\n  range.setEndPoint('EndToStart', range);\n  range.moveEnd('character', end - start);\n  range.select();\n}\n\n/**\n * In modern non-IE browsers, we can support both forward and backward\n * selections.\n *\n * Note: IE10+ supports the Selection object, but it does not support\n * the `extend` method, which means that even in modern IE, it's not possible\n * to programmatically create a backward selection. Thus, for all IE\n * versions, we use the old IE API to create our selections.\n *\n * @param {DOMElement|DOMTextNode} node\n * @param {object} offsets\n */\nfunction setModernOffsets(node, offsets) {\n  if (!window.getSelection) {\n    return;\n  }\n\n  var selection = window.getSelection();\n  var length = node[getTextContentAccessor()].length;\n  var start = Math.min(offsets.start, length);\n  var end = offsets.end === undefined ? start : Math.min(offsets.end, length);\n\n  // IE 11 uses modern selection, but doesn't support the extend method.\n  // Flip backward selections, so we can set with a single range.\n  if (!selection.extend && start > end) {\n    var temp = end;\n    end = start;\n    start = temp;\n  }\n\n  var startMarker = getNodeForCharacterOffset(node, start);\n  var endMarker = getNodeForCharacterOffset(node, end);\n\n  if (startMarker && endMarker) {\n    var range = document.createRange();\n    range.setStart(startMarker.node, startMarker.offset);\n    selection.removeAllRanges();\n\n    if (start > end) {\n      selection.addRange(range);\n      selection.extend(endMarker.node, endMarker.offset);\n    } else {\n      range.setEnd(endMarker.node, endMarker.offset);\n      selection.addRange(range);\n    }\n  }\n}\n\nvar useIEOffsets = ExecutionEnvironment.canUseDOM && 'selection' in document && !('getSelection' in window);\n\nvar ReactDOMSelection = {\n  /**\n   * @param {DOMElement} node\n   */\n  getOffsets: useIEOffsets ? getIEOffsets : getModernOffsets,\n\n  /**\n   * @param {DOMElement|DOMTextNode} node\n   * @param {object} offsets\n   */\n  setOffsets: useIEOffsets ? setIEOffsets : setModernOffsets\n};\n\nmodule.exports = ReactDOMSelection;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactDOMSelection.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\n/**\n * Given any node return the first leaf node without children.\n *\n * @param {DOMElement|DOMTextNode} node\n * @return {DOMElement|DOMTextNode}\n */\n\nfunction getLeafNode(node) {\n  while (node && node.firstChild) {\n    node = node.firstChild;\n  }\n  return node;\n}\n\n/**\n * Get the next sibling within a container. This will walk up the\n * DOM if a node's siblings have been exhausted.\n *\n * @param {DOMElement|DOMTextNode} node\n * @return {?DOMElement|DOMTextNode}\n */\nfunction getSiblingNode(node) {\n  while (node) {\n    if (node.nextSibling) {\n      return node.nextSibling;\n    }\n    node = node.parentNode;\n  }\n}\n\n/**\n * Get object describing the nodes which contain characters at offset.\n *\n * @param {DOMElement|DOMTextNode} root\n * @param {number} offset\n * @return {?object}\n */\nfunction getNodeForCharacterOffset(root, offset) {\n  var node = getLeafNode(root);\n  var nodeStart = 0;\n  var nodeEnd = 0;\n\n  while (node) {\n    if (node.nodeType === 3) {\n      nodeEnd = nodeStart + node.textContent.length;\n\n      if (nodeStart <= offset && nodeEnd >= offset) {\n        return {\n          node: node,\n          offset: offset - nodeStart\n        };\n      }\n\n      nodeStart = nodeEnd;\n    }\n\n    node = getLeafNode(getSiblingNode(node));\n  }\n}\n\nmodule.exports = getNodeForCharacterOffset;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/getNodeForCharacterOffset.js","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nvar isTextNode = require('./isTextNode');\n\n/*eslint-disable no-bitwise */\n\n/**\n * Checks if a given DOM node contains or is another DOM node.\n */\nfunction containsNode(outerNode, innerNode) {\n  if (!outerNode || !innerNode) {\n    return false;\n  } else if (outerNode === innerNode) {\n    return true;\n  } else if (isTextNode(outerNode)) {\n    return false;\n  } else if (isTextNode(innerNode)) {\n    return containsNode(outerNode, innerNode.parentNode);\n  } else if ('contains' in outerNode) {\n    return outerNode.contains(innerNode);\n  } else if (outerNode.compareDocumentPosition) {\n    return !!(outerNode.compareDocumentPosition(innerNode) & 16);\n  } else {\n    return false;\n  }\n}\n\nmodule.exports = containsNode;\n\n\n// WEBPACK FOOTER //\n// ./~/fbjs/lib/containsNode.js","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n */\n\nvar isNode = require('./isNode');\n\n/**\n * @param {*} object The object to check.\n * @return {boolean} Whether or not the object is a DOM text node.\n */\nfunction isTextNode(object) {\n  return isNode(object) && object.nodeType == 3;\n}\n\nmodule.exports = isTextNode;\n\n\n// WEBPACK FOOTER //\n// ./~/fbjs/lib/isTextNode.js","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n */\n\n/**\n * @param {*} object The object to check.\n * @return {boolean} Whether or not the object is a DOM node.\n */\nfunction isNode(object) {\n  return !!(object && (typeof Node === 'function' ? object instanceof Node : typeof object === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string'));\n}\n\nmodule.exports = isNode;\n\n\n// WEBPACK FOOTER //\n// ./~/fbjs/lib/isNode.js","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n */\n\n/* eslint-disable fb-www/typeof-undefined */\n\n/**\n * Same as document.activeElement but wraps in a try-catch block. In IE it is\n * not safe to call document.activeElement if there is nothing focused.\n *\n * The activeElement will be null only if the document or document body is not\n * yet defined.\n */\nfunction getActiveElement() /*?DOMElement*/{\n  if (typeof document === 'undefined') {\n    return null;\n  }\n  try {\n    return document.activeElement || document.body;\n  } catch (e) {\n    return document.body;\n  }\n}\n\nmodule.exports = getActiveElement;\n\n\n// WEBPACK FOOTER //\n// ./~/fbjs/lib/getActiveElement.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar NS = {\n  xlink: 'http://www.w3.org/1999/xlink',\n  xml: 'http://www.w3.org/XML/1998/namespace'\n};\n\n// We use attributes for everything SVG so let's avoid some duplication and run\n// code instead.\n// The following are all specified in the HTML config already so we exclude here.\n// - class (as className)\n// - color\n// - height\n// - id\n// - lang\n// - max\n// - media\n// - method\n// - min\n// - name\n// - style\n// - target\n// - type\n// - width\nvar ATTRS = {\n  accentHeight: 'accent-height',\n  accumulate: 0,\n  additive: 0,\n  alignmentBaseline: 'alignment-baseline',\n  allowReorder: 'allowReorder',\n  alphabetic: 0,\n  amplitude: 0,\n  arabicForm: 'arabic-form',\n  ascent: 0,\n  attributeName: 'attributeName',\n  attributeType: 'attributeType',\n  autoReverse: 'autoReverse',\n  azimuth: 0,\n  baseFrequency: 'baseFrequency',\n  baseProfile: 'baseProfile',\n  baselineShift: 'baseline-shift',\n  bbox: 0,\n  begin: 0,\n  bias: 0,\n  by: 0,\n  calcMode: 'calcMode',\n  capHeight: 'cap-height',\n  clip: 0,\n  clipPath: 'clip-path',\n  clipRule: 'clip-rule',\n  clipPathUnits: 'clipPathUnits',\n  colorInterpolation: 'color-interpolation',\n  colorInterpolationFilters: 'color-interpolation-filters',\n  colorProfile: 'color-profile',\n  colorRendering: 'color-rendering',\n  contentScriptType: 'contentScriptType',\n  contentStyleType: 'contentStyleType',\n  cursor: 0,\n  cx: 0,\n  cy: 0,\n  d: 0,\n  decelerate: 0,\n  descent: 0,\n  diffuseConstant: 'diffuseConstant',\n  direction: 0,\n  display: 0,\n  divisor: 0,\n  dominantBaseline: 'dominant-baseline',\n  dur: 0,\n  dx: 0,\n  dy: 0,\n  edgeMode: 'edgeMode',\n  elevation: 0,\n  enableBackground: 'enable-background',\n  end: 0,\n  exponent: 0,\n  externalResourcesRequired: 'externalResourcesRequired',\n  fill: 0,\n  fillOpacity: 'fill-opacity',\n  fillRule: 'fill-rule',\n  filter: 0,\n  filterRes: 'filterRes',\n  filterUnits: 'filterUnits',\n  floodColor: 'flood-color',\n  floodOpacity: 'flood-opacity',\n  focusable: 0,\n  fontFamily: 'font-family',\n  fontSize: 'font-size',\n  fontSizeAdjust: 'font-size-adjust',\n  fontStretch: 'font-stretch',\n  fontStyle: 'font-style',\n  fontVariant: 'font-variant',\n  fontWeight: 'font-weight',\n  format: 0,\n  from: 0,\n  fx: 0,\n  fy: 0,\n  g1: 0,\n  g2: 0,\n  glyphName: 'glyph-name',\n  glyphOrientationHorizontal: 'glyph-orientation-horizontal',\n  glyphOrientationVertical: 'glyph-orientation-vertical',\n  glyphRef: 'glyphRef',\n  gradientTransform: 'gradientTransform',\n  gradientUnits: 'gradientUnits',\n  hanging: 0,\n  horizAdvX: 'horiz-adv-x',\n  horizOriginX: 'horiz-origin-x',\n  ideographic: 0,\n  imageRendering: 'image-rendering',\n  'in': 0,\n  in2: 0,\n  intercept: 0,\n  k: 0,\n  k1: 0,\n  k2: 0,\n  k3: 0,\n  k4: 0,\n  kernelMatrix: 'kernelMatrix',\n  kernelUnitLength: 'kernelUnitLength',\n  kerning: 0,\n  keyPoints: 'keyPoints',\n  keySplines: 'keySplines',\n  keyTimes: 'keyTimes',\n  lengthAdjust: 'lengthAdjust',\n  letterSpacing: 'letter-spacing',\n  lightingColor: 'lighting-color',\n  limitingConeAngle: 'limitingConeAngle',\n  local: 0,\n  markerEnd: 'marker-end',\n  markerMid: 'marker-mid',\n  markerStart: 'marker-start',\n  markerHeight: 'markerHeight',\n  markerUnits: 'markerUnits',\n  markerWidth: 'markerWidth',\n  mask: 0,\n  maskContentUnits: 'maskContentUnits',\n  maskUnits: 'maskUnits',\n  mathematical: 0,\n  mode: 0,\n  numOctaves: 'numOctaves',\n  offset: 0,\n  opacity: 0,\n  operator: 0,\n  order: 0,\n  orient: 0,\n  orientation: 0,\n  origin: 0,\n  overflow: 0,\n  overlinePosition: 'overline-position',\n  overlineThickness: 'overline-thickness',\n  paintOrder: 'paint-order',\n  panose1: 'panose-1',\n  pathLength: 'pathLength',\n  patternContentUnits: 'patternContentUnits',\n  patternTransform: 'patternTransform',\n  patternUnits: 'patternUnits',\n  pointerEvents: 'pointer-events',\n  points: 0,\n  pointsAtX: 'pointsAtX',\n  pointsAtY: 'pointsAtY',\n  pointsAtZ: 'pointsAtZ',\n  preserveAlpha: 'preserveAlpha',\n  preserveAspectRatio: 'preserveAspectRatio',\n  primitiveUnits: 'primitiveUnits',\n  r: 0,\n  radius: 0,\n  refX: 'refX',\n  refY: 'refY',\n  renderingIntent: 'rendering-intent',\n  repeatCount: 'repeatCount',\n  repeatDur: 'repeatDur',\n  requiredExtensions: 'requiredExtensions',\n  requiredFeatures: 'requiredFeatures',\n  restart: 0,\n  result: 0,\n  rotate: 0,\n  rx: 0,\n  ry: 0,\n  scale: 0,\n  seed: 0,\n  shapeRendering: 'shape-rendering',\n  slope: 0,\n  spacing: 0,\n  specularConstant: 'specularConstant',\n  specularExponent: 'specularExponent',\n  speed: 0,\n  spreadMethod: 'spreadMethod',\n  startOffset: 'startOffset',\n  stdDeviation: 'stdDeviation',\n  stemh: 0,\n  stemv: 0,\n  stitchTiles: 'stitchTiles',\n  stopColor: 'stop-color',\n  stopOpacity: 'stop-opacity',\n  strikethroughPosition: 'strikethrough-position',\n  strikethroughThickness: 'strikethrough-thickness',\n  string: 0,\n  stroke: 0,\n  strokeDasharray: 'stroke-dasharray',\n  strokeDashoffset: 'stroke-dashoffset',\n  strokeLinecap: 'stroke-linecap',\n  strokeLinejoin: 'stroke-linejoin',\n  strokeMiterlimit: 'stroke-miterlimit',\n  strokeOpacity: 'stroke-opacity',\n  strokeWidth: 'stroke-width',\n  surfaceScale: 'surfaceScale',\n  systemLanguage: 'systemLanguage',\n  tableValues: 'tableValues',\n  targetX: 'targetX',\n  targetY: 'targetY',\n  textAnchor: 'text-anchor',\n  textDecoration: 'text-decoration',\n  textRendering: 'text-rendering',\n  textLength: 'textLength',\n  to: 0,\n  transform: 0,\n  u1: 0,\n  u2: 0,\n  underlinePosition: 'underline-position',\n  underlineThickness: 'underline-thickness',\n  unicode: 0,\n  unicodeBidi: 'unicode-bidi',\n  unicodeRange: 'unicode-range',\n  unitsPerEm: 'units-per-em',\n  vAlphabetic: 'v-alphabetic',\n  vHanging: 'v-hanging',\n  vIdeographic: 'v-ideographic',\n  vMathematical: 'v-mathematical',\n  values: 0,\n  vectorEffect: 'vector-effect',\n  version: 0,\n  vertAdvY: 'vert-adv-y',\n  vertOriginX: 'vert-origin-x',\n  vertOriginY: 'vert-origin-y',\n  viewBox: 'viewBox',\n  viewTarget: 'viewTarget',\n  visibility: 0,\n  widths: 0,\n  wordSpacing: 'word-spacing',\n  writingMode: 'writing-mode',\n  x: 0,\n  xHeight: 'x-height',\n  x1: 0,\n  x2: 0,\n  xChannelSelector: 'xChannelSelector',\n  xlinkActuate: 'xlink:actuate',\n  xlinkArcrole: 'xlink:arcrole',\n  xlinkHref: 'xlink:href',\n  xlinkRole: 'xlink:role',\n  xlinkShow: 'xlink:show',\n  xlinkTitle: 'xlink:title',\n  xlinkType: 'xlink:type',\n  xmlBase: 'xml:base',\n  xmlns: 0,\n  xmlnsXlink: 'xmlns:xlink',\n  xmlLang: 'xml:lang',\n  xmlSpace: 'xml:space',\n  y: 0,\n  y1: 0,\n  y2: 0,\n  yChannelSelector: 'yChannelSelector',\n  z: 0,\n  zoomAndPan: 'zoomAndPan'\n};\n\nvar SVGDOMPropertyConfig = {\n  Properties: {},\n  DOMAttributeNamespaces: {\n    xlinkActuate: NS.xlink,\n    xlinkArcrole: NS.xlink,\n    xlinkHref: NS.xlink,\n    xlinkRole: NS.xlink,\n    xlinkShow: NS.xlink,\n    xlinkTitle: NS.xlink,\n    xlinkType: NS.xlink,\n    xmlBase: NS.xml,\n    xmlLang: NS.xml,\n    xmlSpace: NS.xml\n  },\n  DOMAttributeNames: {}\n};\n\nObject.keys(ATTRS).forEach(function (key) {\n  SVGDOMPropertyConfig.Properties[key] = 0;\n  if (ATTRS[key]) {\n    SVGDOMPropertyConfig.DOMAttributeNames[key] = ATTRS[key];\n  }\n});\n\nmodule.exports = SVGDOMPropertyConfig;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/SVGDOMPropertyConfig.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar EventPropagators = require('./EventPropagators');\nvar ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment');\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\nvar ReactInputSelection = require('./ReactInputSelection');\nvar SyntheticEvent = require('./SyntheticEvent');\n\nvar getActiveElement = require('fbjs/lib/getActiveElement');\nvar isTextInputElement = require('./isTextInputElement');\nvar shallowEqual = require('fbjs/lib/shallowEqual');\n\nvar skipSelectionChangeEvent = ExecutionEnvironment.canUseDOM && 'documentMode' in document && document.documentMode <= 11;\n\nvar eventTypes = {\n  select: {\n    phasedRegistrationNames: {\n      bubbled: 'onSelect',\n      captured: 'onSelectCapture'\n    },\n    dependencies: ['topBlur', 'topContextMenu', 'topFocus', 'topKeyDown', 'topKeyUp', 'topMouseDown', 'topMouseUp', 'topSelectionChange']\n  }\n};\n\nvar activeElement = null;\nvar activeElementInst = null;\nvar lastSelection = null;\nvar mouseDown = false;\n\n// Track whether a listener exists for this plugin. If none exist, we do\n// not extract events. See #3639.\nvar hasListener = false;\n\n/**\n * Get an object which is a unique representation of the current selection.\n *\n * The return value will not be consistent across nodes or browsers, but\n * two identical selections on the same node will return identical objects.\n *\n * @param {DOMElement} node\n * @return {object}\n */\nfunction getSelection(node) {\n  if ('selectionStart' in node && ReactInputSelection.hasSelectionCapabilities(node)) {\n    return {\n      start: node.selectionStart,\n      end: node.selectionEnd\n    };\n  } else if (window.getSelection) {\n    var selection = window.getSelection();\n    return {\n      anchorNode: selection.anchorNode,\n      anchorOffset: selection.anchorOffset,\n      focusNode: selection.focusNode,\n      focusOffset: selection.focusOffset\n    };\n  } else if (document.selection) {\n    var range = document.selection.createRange();\n    return {\n      parentElement: range.parentElement(),\n      text: range.text,\n      top: range.boundingTop,\n      left: range.boundingLeft\n    };\n  }\n}\n\n/**\n * Poll selection to see whether it's changed.\n *\n * @param {object} nativeEvent\n * @return {?SyntheticEvent}\n */\nfunction constructSelectEvent(nativeEvent, nativeEventTarget) {\n  // Ensure we have the right element, and that the user is not dragging a\n  // selection (this matches native `select` event behavior). In HTML5, select\n  // fires only on input and textarea thus if there's no focused element we\n  // won't dispatch.\n  if (mouseDown || activeElement == null || activeElement !== getActiveElement()) {\n    return null;\n  }\n\n  // Only fire when selection has actually changed.\n  var currentSelection = getSelection(activeElement);\n  if (!lastSelection || !shallowEqual(lastSelection, currentSelection)) {\n    lastSelection = currentSelection;\n\n    var syntheticEvent = SyntheticEvent.getPooled(eventTypes.select, activeElementInst, nativeEvent, nativeEventTarget);\n\n    syntheticEvent.type = 'select';\n    syntheticEvent.target = activeElement;\n\n    EventPropagators.accumulateTwoPhaseDispatches(syntheticEvent);\n\n    return syntheticEvent;\n  }\n\n  return null;\n}\n\n/**\n * This plugin creates an `onSelect` event that normalizes select events\n * across form elements.\n *\n * Supported elements are:\n * - input (see `isTextInputElement`)\n * - textarea\n * - contentEditable\n *\n * This differs from native browser implementations in the following ways:\n * - Fires on contentEditable fields as well as inputs.\n * - Fires for collapsed selection.\n * - Fires after user input.\n */\nvar SelectEventPlugin = {\n\n  eventTypes: eventTypes,\n\n  extractEvents: function (topLevelType, targetInst, nativeEvent, nativeEventTarget) {\n    if (!hasListener) {\n      return null;\n    }\n\n    var targetNode = targetInst ? ReactDOMComponentTree.getNodeFromInstance(targetInst) : window;\n\n    switch (topLevelType) {\n      // Track the input node that has focus.\n      case 'topFocus':\n        if (isTextInputElement(targetNode) || targetNode.contentEditable === 'true') {\n          activeElement = targetNode;\n          activeElementInst = targetInst;\n          lastSelection = null;\n        }\n        break;\n      case 'topBlur':\n        activeElement = null;\n        activeElementInst = null;\n        lastSelection = null;\n        break;\n\n      // Don't fire the event while the user is dragging. This matches the\n      // semantics of the native select event.\n      case 'topMouseDown':\n        mouseDown = true;\n        break;\n      case 'topContextMenu':\n      case 'topMouseUp':\n        mouseDown = false;\n        return constructSelectEvent(nativeEvent, nativeEventTarget);\n\n      // Chrome and IE fire non-standard event when selection is changed (and\n      // sometimes when it hasn't). IE's event fires out of order with respect\n      // to key and input events on deletion, so we discard it.\n      //\n      // Firefox doesn't support selectionchange, so check selection status\n      // after each key entry. The selection changes after keydown and before\n      // keyup, but we check on keydown as well in the case of holding down a\n      // key, when multiple keydown events are fired but only one keyup is.\n      // This is also our approach for IE handling, for the reason above.\n      case 'topSelectionChange':\n        if (skipSelectionChangeEvent) {\n          break;\n        }\n      // falls through\n      case 'topKeyDown':\n      case 'topKeyUp':\n        return constructSelectEvent(nativeEvent, nativeEventTarget);\n    }\n\n    return null;\n  },\n\n  didPutListener: function (inst, registrationName, listener) {\n    if (registrationName === 'onSelect') {\n      hasListener = true;\n    }\n  }\n};\n\nmodule.exports = SelectEventPlugin;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/SelectEventPlugin.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar EventListener = require('fbjs/lib/EventListener');\nvar EventPropagators = require('./EventPropagators');\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\nvar SyntheticAnimationEvent = require('./SyntheticAnimationEvent');\nvar SyntheticClipboardEvent = require('./SyntheticClipboardEvent');\nvar SyntheticEvent = require('./SyntheticEvent');\nvar SyntheticFocusEvent = require('./SyntheticFocusEvent');\nvar SyntheticKeyboardEvent = require('./SyntheticKeyboardEvent');\nvar SyntheticMouseEvent = require('./SyntheticMouseEvent');\nvar SyntheticDragEvent = require('./SyntheticDragEvent');\nvar SyntheticTouchEvent = require('./SyntheticTouchEvent');\nvar SyntheticTransitionEvent = require('./SyntheticTransitionEvent');\nvar SyntheticUIEvent = require('./SyntheticUIEvent');\nvar SyntheticWheelEvent = require('./SyntheticWheelEvent');\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar getEventCharCode = require('./getEventCharCode');\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * Turns\n * ['abort', ...]\n * into\n * eventTypes = {\n *   'abort': {\n *     phasedRegistrationNames: {\n *       bubbled: 'onAbort',\n *       captured: 'onAbortCapture',\n *     },\n *     dependencies: ['topAbort'],\n *   },\n *   ...\n * };\n * topLevelEventsToDispatchConfig = {\n *   'topAbort': { sameConfig }\n * };\n */\nvar eventTypes = {};\nvar topLevelEventsToDispatchConfig = {};\n['abort', 'animationEnd', 'animationIteration', 'animationStart', 'blur', 'canPlay', 'canPlayThrough', 'click', 'contextMenu', 'copy', 'cut', 'doubleClick', 'drag', 'dragEnd', 'dragEnter', 'dragExit', 'dragLeave', 'dragOver', 'dragStart', 'drop', 'durationChange', 'emptied', 'encrypted', 'ended', 'error', 'focus', 'input', 'invalid', 'keyDown', 'keyPress', 'keyUp', 'load', 'loadedData', 'loadedMetadata', 'loadStart', 'mouseDown', 'mouseMove', 'mouseOut', 'mouseOver', 'mouseUp', 'paste', 'pause', 'play', 'playing', 'progress', 'rateChange', 'reset', 'scroll', 'seeked', 'seeking', 'stalled', 'submit', 'suspend', 'timeUpdate', 'touchCancel', 'touchEnd', 'touchMove', 'touchStart', 'transitionEnd', 'volumeChange', 'waiting', 'wheel'].forEach(function (event) {\n  var capitalizedEvent = event[0].toUpperCase() + event.slice(1);\n  var onEvent = 'on' + capitalizedEvent;\n  var topEvent = 'top' + capitalizedEvent;\n\n  var type = {\n    phasedRegistrationNames: {\n      bubbled: onEvent,\n      captured: onEvent + 'Capture'\n    },\n    dependencies: [topEvent]\n  };\n  eventTypes[event] = type;\n  topLevelEventsToDispatchConfig[topEvent] = type;\n});\n\nvar onClickListeners = {};\n\nfunction getDictionaryKey(inst) {\n  // Prevents V8 performance issue:\n  // https://github.com/facebook/react/pull/7232\n  return '.' + inst._rootNodeID;\n}\n\nfunction isInteractive(tag) {\n  return tag === 'button' || tag === 'input' || tag === 'select' || tag === 'textarea';\n}\n\nvar SimpleEventPlugin = {\n\n  eventTypes: eventTypes,\n\n  extractEvents: function (topLevelType, targetInst, nativeEvent, nativeEventTarget) {\n    var dispatchConfig = topLevelEventsToDispatchConfig[topLevelType];\n    if (!dispatchConfig) {\n      return null;\n    }\n    var EventConstructor;\n    switch (topLevelType) {\n      case 'topAbort':\n      case 'topCanPlay':\n      case 'topCanPlayThrough':\n      case 'topDurationChange':\n      case 'topEmptied':\n      case 'topEncrypted':\n      case 'topEnded':\n      case 'topError':\n      case 'topInput':\n      case 'topInvalid':\n      case 'topLoad':\n      case 'topLoadedData':\n      case 'topLoadedMetadata':\n      case 'topLoadStart':\n      case 'topPause':\n      case 'topPlay':\n      case 'topPlaying':\n      case 'topProgress':\n      case 'topRateChange':\n      case 'topReset':\n      case 'topSeeked':\n      case 'topSeeking':\n      case 'topStalled':\n      case 'topSubmit':\n      case 'topSuspend':\n      case 'topTimeUpdate':\n      case 'topVolumeChange':\n      case 'topWaiting':\n        // HTML Events\n        // @see http://www.w3.org/TR/html5/index.html#events-0\n        EventConstructor = SyntheticEvent;\n        break;\n      case 'topKeyPress':\n        // Firefox creates a keypress event for function keys too. This removes\n        // the unwanted keypress events. Enter is however both printable and\n        // non-printable. One would expect Tab to be as well (but it isn't).\n        if (getEventCharCode(nativeEvent) === 0) {\n          return null;\n        }\n      /* falls through */\n      case 'topKeyDown':\n      case 'topKeyUp':\n        EventConstructor = SyntheticKeyboardEvent;\n        break;\n      case 'topBlur':\n      case 'topFocus':\n        EventConstructor = SyntheticFocusEvent;\n        break;\n      case 'topClick':\n        // Firefox creates a click event on right mouse clicks. This removes the\n        // unwanted click events.\n        if (nativeEvent.button === 2) {\n          return null;\n        }\n      /* falls through */\n      case 'topDoubleClick':\n      case 'topMouseDown':\n      case 'topMouseMove':\n      case 'topMouseUp':\n      // TODO: Disabled elements should not respond to mouse events\n      /* falls through */\n      case 'topMouseOut':\n      case 'topMouseOver':\n      case 'topContextMenu':\n        EventConstructor = SyntheticMouseEvent;\n        break;\n      case 'topDrag':\n      case 'topDragEnd':\n      case 'topDragEnter':\n      case 'topDragExit':\n      case 'topDragLeave':\n      case 'topDragOver':\n      case 'topDragStart':\n      case 'topDrop':\n        EventConstructor = SyntheticDragEvent;\n        break;\n      case 'topTouchCancel':\n      case 'topTouchEnd':\n      case 'topTouchMove':\n      case 'topTouchStart':\n        EventConstructor = SyntheticTouchEvent;\n        break;\n      case 'topAnimationEnd':\n      case 'topAnimationIteration':\n      case 'topAnimationStart':\n        EventConstructor = SyntheticAnimationEvent;\n        break;\n      case 'topTransitionEnd':\n        EventConstructor = SyntheticTransitionEvent;\n        break;\n      case 'topScroll':\n        EventConstructor = SyntheticUIEvent;\n        break;\n      case 'topWheel':\n        EventConstructor = SyntheticWheelEvent;\n        break;\n      case 'topCopy':\n      case 'topCut':\n      case 'topPaste':\n        EventConstructor = SyntheticClipboardEvent;\n        break;\n    }\n    !EventConstructor ? process.env.NODE_ENV !== 'production' ? invariant(false, 'SimpleEventPlugin: Unhandled event type, `%s`.', topLevelType) : _prodInvariant('86', topLevelType) : void 0;\n    var event = EventConstructor.getPooled(dispatchConfig, targetInst, nativeEvent, nativeEventTarget);\n    EventPropagators.accumulateTwoPhaseDispatches(event);\n    return event;\n  },\n\n  didPutListener: function (inst, registrationName, listener) {\n    // Mobile Safari does not fire properly bubble click events on\n    // non-interactive elements, which means delegated click listeners do not\n    // fire. The workaround for this bug involves attaching an empty click\n    // listener on the target node.\n    // http://www.quirksmode.org/blog/archives/2010/09/click_event_del.html\n    if (registrationName === 'onClick' && !isInteractive(inst._tag)) {\n      var key = getDictionaryKey(inst);\n      var node = ReactDOMComponentTree.getNodeFromInstance(inst);\n      if (!onClickListeners[key]) {\n        onClickListeners[key] = EventListener.listen(node, 'click', emptyFunction);\n      }\n    }\n  },\n\n  willDeleteListener: function (inst, registrationName) {\n    if (registrationName === 'onClick' && !isInteractive(inst._tag)) {\n      var key = getDictionaryKey(inst);\n      onClickListeners[key].remove();\n      delete onClickListeners[key];\n    }\n  }\n\n};\n\nmodule.exports = SimpleEventPlugin;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/SimpleEventPlugin.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar SyntheticEvent = require('./SyntheticEvent');\n\n/**\n * @interface Event\n * @see http://www.w3.org/TR/css3-animations/#AnimationEvent-interface\n * @see https://developer.mozilla.org/en-US/docs/Web/API/AnimationEvent\n */\nvar AnimationEventInterface = {\n  animationName: null,\n  elapsedTime: null,\n  pseudoElement: null\n};\n\n/**\n * @param {object} dispatchConfig Configuration used to dispatch this event.\n * @param {string} dispatchMarker Marker identifying the event target.\n * @param {object} nativeEvent Native browser event.\n * @extends {SyntheticEvent}\n */\nfunction SyntheticAnimationEvent(dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget) {\n  return SyntheticEvent.call(this, dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget);\n}\n\nSyntheticEvent.augmentClass(SyntheticAnimationEvent, AnimationEventInterface);\n\nmodule.exports = SyntheticAnimationEvent;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/SyntheticAnimationEvent.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar SyntheticEvent = require('./SyntheticEvent');\n\n/**\n * @interface Event\n * @see http://www.w3.org/TR/clipboard-apis/\n */\nvar ClipboardEventInterface = {\n  clipboardData: function (event) {\n    return 'clipboardData' in event ? event.clipboardData : window.clipboardData;\n  }\n};\n\n/**\n * @param {object} dispatchConfig Configuration used to dispatch this event.\n * @param {string} dispatchMarker Marker identifying the event target.\n * @param {object} nativeEvent Native browser event.\n * @extends {SyntheticUIEvent}\n */\nfunction SyntheticClipboardEvent(dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget) {\n  return SyntheticEvent.call(this, dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget);\n}\n\nSyntheticEvent.augmentClass(SyntheticClipboardEvent, ClipboardEventInterface);\n\nmodule.exports = SyntheticClipboardEvent;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/SyntheticClipboardEvent.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar SyntheticUIEvent = require('./SyntheticUIEvent');\n\n/**\n * @interface FocusEvent\n * @see http://www.w3.org/TR/DOM-Level-3-Events/\n */\nvar FocusEventInterface = {\n  relatedTarget: null\n};\n\n/**\n * @param {object} dispatchConfig Configuration used to dispatch this event.\n * @param {string} dispatchMarker Marker identifying the event target.\n * @param {object} nativeEvent Native browser event.\n * @extends {SyntheticUIEvent}\n */\nfunction SyntheticFocusEvent(dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget) {\n  return SyntheticUIEvent.call(this, dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget);\n}\n\nSyntheticUIEvent.augmentClass(SyntheticFocusEvent, FocusEventInterface);\n\nmodule.exports = SyntheticFocusEvent;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/SyntheticFocusEvent.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar SyntheticUIEvent = require('./SyntheticUIEvent');\n\nvar getEventCharCode = require('./getEventCharCode');\nvar getEventKey = require('./getEventKey');\nvar getEventModifierState = require('./getEventModifierState');\n\n/**\n * @interface KeyboardEvent\n * @see http://www.w3.org/TR/DOM-Level-3-Events/\n */\nvar KeyboardEventInterface = {\n  key: getEventKey,\n  location: null,\n  ctrlKey: null,\n  shiftKey: null,\n  altKey: null,\n  metaKey: null,\n  repeat: null,\n  locale: null,\n  getModifierState: getEventModifierState,\n  // Legacy Interface\n  charCode: function (event) {\n    // `charCode` is the result of a KeyPress event and represents the value of\n    // the actual printable character.\n\n    // KeyPress is deprecated, but its replacement is not yet final and not\n    // implemented in any major browser. Only KeyPress has charCode.\n    if (event.type === 'keypress') {\n      return getEventCharCode(event);\n    }\n    return 0;\n  },\n  keyCode: function (event) {\n    // `keyCode` is the result of a KeyDown/Up event and represents the value of\n    // physical keyboard key.\n\n    // The actual meaning of the value depends on the users' keyboard layout\n    // which cannot be detected. Assuming that it is a US keyboard layout\n    // provides a surprisingly accurate mapping for US and European users.\n    // Due to this, it is left to the user to implement at this time.\n    if (event.type === 'keydown' || event.type === 'keyup') {\n      return event.keyCode;\n    }\n    return 0;\n  },\n  which: function (event) {\n    // `which` is an alias for either `keyCode` or `charCode` depending on the\n    // type of the event.\n    if (event.type === 'keypress') {\n      return getEventCharCode(event);\n    }\n    if (event.type === 'keydown' || event.type === 'keyup') {\n      return event.keyCode;\n    }\n    return 0;\n  }\n};\n\n/**\n * @param {object} dispatchConfig Configuration used to dispatch this event.\n * @param {string} dispatchMarker Marker identifying the event target.\n * @param {object} nativeEvent Native browser event.\n * @extends {SyntheticUIEvent}\n */\nfunction SyntheticKeyboardEvent(dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget) {\n  return SyntheticUIEvent.call(this, dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget);\n}\n\nSyntheticUIEvent.augmentClass(SyntheticKeyboardEvent, KeyboardEventInterface);\n\nmodule.exports = SyntheticKeyboardEvent;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/SyntheticKeyboardEvent.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\n/**\n * `charCode` represents the actual \"character code\" and is safe to use with\n * `String.fromCharCode`. As such, only keys that correspond to printable\n * characters produce a valid `charCode`, the only exception to this is Enter.\n * The Tab-key is considered non-printable and does not have a `charCode`,\n * presumably because it does not produce a tab-character in browsers.\n *\n * @param {object} nativeEvent Native browser event.\n * @return {number} Normalized `charCode` property.\n */\n\nfunction getEventCharCode(nativeEvent) {\n  var charCode;\n  var keyCode = nativeEvent.keyCode;\n\n  if ('charCode' in nativeEvent) {\n    charCode = nativeEvent.charCode;\n\n    // FF does not set `charCode` for the Enter-key, check against `keyCode`.\n    if (charCode === 0 && keyCode === 13) {\n      charCode = 13;\n    }\n  } else {\n    // IE8 does not implement `charCode`, but `keyCode` has the correct value.\n    charCode = keyCode;\n  }\n\n  // Some non-printable keys are reported in `charCode`/`keyCode`, discard them.\n  // Must not discard the (non-)printable Enter-key.\n  if (charCode >= 32 || charCode === 13) {\n    return charCode;\n  }\n\n  return 0;\n}\n\nmodule.exports = getEventCharCode;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/getEventCharCode.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar getEventCharCode = require('./getEventCharCode');\n\n/**\n * Normalization of deprecated HTML5 `key` values\n * @see https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent#Key_names\n */\nvar normalizeKey = {\n  'Esc': 'Escape',\n  'Spacebar': ' ',\n  'Left': 'ArrowLeft',\n  'Up': 'ArrowUp',\n  'Right': 'ArrowRight',\n  'Down': 'ArrowDown',\n  'Del': 'Delete',\n  'Win': 'OS',\n  'Menu': 'ContextMenu',\n  'Apps': 'ContextMenu',\n  'Scroll': 'ScrollLock',\n  'MozPrintableKey': 'Unidentified'\n};\n\n/**\n * Translation from legacy `keyCode` to HTML5 `key`\n * Only special keys supported, all others depend on keyboard layout or browser\n * @see https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent#Key_names\n */\nvar translateToKey = {\n  8: 'Backspace',\n  9: 'Tab',\n  12: 'Clear',\n  13: 'Enter',\n  16: 'Shift',\n  17: 'Control',\n  18: 'Alt',\n  19: 'Pause',\n  20: 'CapsLock',\n  27: 'Escape',\n  32: ' ',\n  33: 'PageUp',\n  34: 'PageDown',\n  35: 'End',\n  36: 'Home',\n  37: 'ArrowLeft',\n  38: 'ArrowUp',\n  39: 'ArrowRight',\n  40: 'ArrowDown',\n  45: 'Insert',\n  46: 'Delete',\n  112: 'F1', 113: 'F2', 114: 'F3', 115: 'F4', 116: 'F5', 117: 'F6',\n  118: 'F7', 119: 'F8', 120: 'F9', 121: 'F10', 122: 'F11', 123: 'F12',\n  144: 'NumLock',\n  145: 'ScrollLock',\n  224: 'Meta'\n};\n\n/**\n * @param {object} nativeEvent Native browser event.\n * @return {string} Normalized `key` property.\n */\nfunction getEventKey(nativeEvent) {\n  if (nativeEvent.key) {\n    // Normalize inconsistent values reported by browsers due to\n    // implementations of a working draft specification.\n\n    // FireFox implements `key` but returns `MozPrintableKey` for all\n    // printable characters (normalized to `Unidentified`), ignore it.\n    var key = normalizeKey[nativeEvent.key] || nativeEvent.key;\n    if (key !== 'Unidentified') {\n      return key;\n    }\n  }\n\n  // Browser does not implement `key`, polyfill as much of it as we can.\n  if (nativeEvent.type === 'keypress') {\n    var charCode = getEventCharCode(nativeEvent);\n\n    // The enter-key is technically both printable and non-printable and can\n    // thus be captured by `keypress`, no other non-printable key should.\n    return charCode === 13 ? 'Enter' : String.fromCharCode(charCode);\n  }\n  if (nativeEvent.type === 'keydown' || nativeEvent.type === 'keyup') {\n    // While user keyboard layout determines the actual meaning of each\n    // `keyCode` value, almost all function keys have a universal value.\n    return translateToKey[nativeEvent.keyCode] || 'Unidentified';\n  }\n  return '';\n}\n\nmodule.exports = getEventKey;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/getEventKey.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar SyntheticMouseEvent = require('./SyntheticMouseEvent');\n\n/**\n * @interface DragEvent\n * @see http://www.w3.org/TR/DOM-Level-3-Events/\n */\nvar DragEventInterface = {\n  dataTransfer: null\n};\n\n/**\n * @param {object} dispatchConfig Configuration used to dispatch this event.\n * @param {string} dispatchMarker Marker identifying the event target.\n * @param {object} nativeEvent Native browser event.\n * @extends {SyntheticUIEvent}\n */\nfunction SyntheticDragEvent(dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget) {\n  return SyntheticMouseEvent.call(this, dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget);\n}\n\nSyntheticMouseEvent.augmentClass(SyntheticDragEvent, DragEventInterface);\n\nmodule.exports = SyntheticDragEvent;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/SyntheticDragEvent.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar SyntheticUIEvent = require('./SyntheticUIEvent');\n\nvar getEventModifierState = require('./getEventModifierState');\n\n/**\n * @interface TouchEvent\n * @see http://www.w3.org/TR/touch-events/\n */\nvar TouchEventInterface = {\n  touches: null,\n  targetTouches: null,\n  changedTouches: null,\n  altKey: null,\n  metaKey: null,\n  ctrlKey: null,\n  shiftKey: null,\n  getModifierState: getEventModifierState\n};\n\n/**\n * @param {object} dispatchConfig Configuration used to dispatch this event.\n * @param {string} dispatchMarker Marker identifying the event target.\n * @param {object} nativeEvent Native browser event.\n * @extends {SyntheticUIEvent}\n */\nfunction SyntheticTouchEvent(dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget) {\n  return SyntheticUIEvent.call(this, dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget);\n}\n\nSyntheticUIEvent.augmentClass(SyntheticTouchEvent, TouchEventInterface);\n\nmodule.exports = SyntheticTouchEvent;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/SyntheticTouchEvent.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar SyntheticEvent = require('./SyntheticEvent');\n\n/**\n * @interface Event\n * @see http://www.w3.org/TR/2009/WD-css3-transitions-20090320/#transition-events-\n * @see https://developer.mozilla.org/en-US/docs/Web/API/TransitionEvent\n */\nvar TransitionEventInterface = {\n  propertyName: null,\n  elapsedTime: null,\n  pseudoElement: null\n};\n\n/**\n * @param {object} dispatchConfig Configuration used to dispatch this event.\n * @param {string} dispatchMarker Marker identifying the event target.\n * @param {object} nativeEvent Native browser event.\n * @extends {SyntheticEvent}\n */\nfunction SyntheticTransitionEvent(dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget) {\n  return SyntheticEvent.call(this, dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget);\n}\n\nSyntheticEvent.augmentClass(SyntheticTransitionEvent, TransitionEventInterface);\n\nmodule.exports = SyntheticTransitionEvent;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/SyntheticTransitionEvent.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar SyntheticMouseEvent = require('./SyntheticMouseEvent');\n\n/**\n * @interface WheelEvent\n * @see http://www.w3.org/TR/DOM-Level-3-Events/\n */\nvar WheelEventInterface = {\n  deltaX: function (event) {\n    return 'deltaX' in event ? event.deltaX :\n    // Fallback to `wheelDeltaX` for Webkit and normalize (right is positive).\n    'wheelDeltaX' in event ? -event.wheelDeltaX : 0;\n  },\n  deltaY: function (event) {\n    return 'deltaY' in event ? event.deltaY :\n    // Fallback to `wheelDeltaY` for Webkit and normalize (down is positive).\n    'wheelDeltaY' in event ? -event.wheelDeltaY :\n    // Fallback to `wheelDelta` for IE<9 and normalize (down is positive).\n    'wheelDelta' in event ? -event.wheelDelta : 0;\n  },\n  deltaZ: null,\n\n  // Browsers without \"deltaMode\" is reporting in raw wheel delta where one\n  // notch on the scroll is always +/- 120, roughly equivalent to pixels.\n  // A good approximation of DOM_DELTA_LINE (1) is 5% of viewport size or\n  // ~40 pixels, for DOM_DELTA_SCREEN (2) it is 87.5% of viewport size.\n  deltaMode: null\n};\n\n/**\n * @param {object} dispatchConfig Configuration used to dispatch this event.\n * @param {string} dispatchMarker Marker identifying the event target.\n * @param {object} nativeEvent Native browser event.\n * @extends {SyntheticMouseEvent}\n */\nfunction SyntheticWheelEvent(dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget) {\n  return SyntheticMouseEvent.call(this, dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget);\n}\n\nSyntheticMouseEvent.augmentClass(SyntheticWheelEvent, WheelEventInterface);\n\nmodule.exports = SyntheticWheelEvent;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/SyntheticWheelEvent.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar DOMLazyTree = require('./DOMLazyTree');\nvar DOMProperty = require('./DOMProperty');\nvar React = require('react/lib/React');\nvar ReactBrowserEventEmitter = require('./ReactBrowserEventEmitter');\nvar ReactCurrentOwner = require('react/lib/ReactCurrentOwner');\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\nvar ReactDOMContainerInfo = require('./ReactDOMContainerInfo');\nvar ReactDOMFeatureFlags = require('./ReactDOMFeatureFlags');\nvar ReactFeatureFlags = require('./ReactFeatureFlags');\nvar ReactInstanceMap = require('./ReactInstanceMap');\nvar ReactInstrumentation = require('./ReactInstrumentation');\nvar ReactMarkupChecksum = require('./ReactMarkupChecksum');\nvar ReactReconciler = require('./ReactReconciler');\nvar ReactUpdateQueue = require('./ReactUpdateQueue');\nvar ReactUpdates = require('./ReactUpdates');\n\nvar emptyObject = require('fbjs/lib/emptyObject');\nvar instantiateReactComponent = require('./instantiateReactComponent');\nvar invariant = require('fbjs/lib/invariant');\nvar setInnerHTML = require('./setInnerHTML');\nvar shouldUpdateReactComponent = require('./shouldUpdateReactComponent');\nvar warning = require('fbjs/lib/warning');\n\nvar ATTR_NAME = DOMProperty.ID_ATTRIBUTE_NAME;\nvar ROOT_ATTR_NAME = DOMProperty.ROOT_ATTRIBUTE_NAME;\n\nvar ELEMENT_NODE_TYPE = 1;\nvar DOC_NODE_TYPE = 9;\nvar DOCUMENT_FRAGMENT_NODE_TYPE = 11;\n\nvar instancesByReactRootID = {};\n\n/**\n * Finds the index of the first character\n * that's not common between the two given strings.\n *\n * @return {number} the index of the character where the strings diverge\n */\nfunction firstDifferenceIndex(string1, string2) {\n  var minLen = Math.min(string1.length, string2.length);\n  for (var i = 0; i < minLen; i++) {\n    if (string1.charAt(i) !== string2.charAt(i)) {\n      return i;\n    }\n  }\n  return string1.length === string2.length ? -1 : minLen;\n}\n\n/**\n * @param {DOMElement|DOMDocument} container DOM element that may contain\n * a React component\n * @return {?*} DOM element that may have the reactRoot ID, or null.\n */\nfunction getReactRootElementInContainer(container) {\n  if (!container) {\n    return null;\n  }\n\n  if (container.nodeType === DOC_NODE_TYPE) {\n    return container.documentElement;\n  } else {\n    return container.firstChild;\n  }\n}\n\nfunction internalGetID(node) {\n  // If node is something like a window, document, or text node, none of\n  // which support attributes or a .getAttribute method, gracefully return\n  // the empty string, as if the attribute were missing.\n  return node.getAttribute && node.getAttribute(ATTR_NAME) || '';\n}\n\n/**\n * Mounts this component and inserts it into the DOM.\n *\n * @param {ReactComponent} componentInstance The instance to mount.\n * @param {DOMElement} container DOM element to mount into.\n * @param {ReactReconcileTransaction} transaction\n * @param {boolean} shouldReuseMarkup If true, do not insert markup\n */\nfunction mountComponentIntoNode(wrapperInstance, container, transaction, shouldReuseMarkup, context) {\n  var markerName;\n  if (ReactFeatureFlags.logTopLevelRenders) {\n    var wrappedElement = wrapperInstance._currentElement.props.child;\n    var type = wrappedElement.type;\n    markerName = 'React mount: ' + (typeof type === 'string' ? type : type.displayName || type.name);\n    console.time(markerName);\n  }\n\n  var markup = ReactReconciler.mountComponent(wrapperInstance, transaction, null, ReactDOMContainerInfo(wrapperInstance, container), context, 0 /* parentDebugID */\n  );\n\n  if (markerName) {\n    console.timeEnd(markerName);\n  }\n\n  wrapperInstance._renderedComponent._topLevelWrapper = wrapperInstance;\n  ReactMount._mountImageIntoNode(markup, container, wrapperInstance, shouldReuseMarkup, transaction);\n}\n\n/**\n * Batched mount.\n *\n * @param {ReactComponent} componentInstance The instance to mount.\n * @param {DOMElement} container DOM element to mount into.\n * @param {boolean} shouldReuseMarkup If true, do not insert markup\n */\nfunction batchedMountComponentIntoNode(componentInstance, container, shouldReuseMarkup, context) {\n  var transaction = ReactUpdates.ReactReconcileTransaction.getPooled(\n  /* useCreateElement */\n  !shouldReuseMarkup && ReactDOMFeatureFlags.useCreateElement);\n  transaction.perform(mountComponentIntoNode, null, componentInstance, container, transaction, shouldReuseMarkup, context);\n  ReactUpdates.ReactReconcileTransaction.release(transaction);\n}\n\n/**\n * Unmounts a component and removes it from the DOM.\n *\n * @param {ReactComponent} instance React component instance.\n * @param {DOMElement} container DOM element to unmount from.\n * @final\n * @internal\n * @see {ReactMount.unmountComponentAtNode}\n */\nfunction unmountComponentFromNode(instance, container, safely) {\n  if (process.env.NODE_ENV !== 'production') {\n    ReactInstrumentation.debugTool.onBeginFlush();\n  }\n  ReactReconciler.unmountComponent(instance, safely);\n  if (process.env.NODE_ENV !== 'production') {\n    ReactInstrumentation.debugTool.onEndFlush();\n  }\n\n  if (container.nodeType === DOC_NODE_TYPE) {\n    container = container.documentElement;\n  }\n\n  // http://jsperf.com/emptying-a-node\n  while (container.lastChild) {\n    container.removeChild(container.lastChild);\n  }\n}\n\n/**\n * True if the supplied DOM node has a direct React-rendered child that is\n * not a React root element. Useful for warning in `render`,\n * `unmountComponentAtNode`, etc.\n *\n * @param {?DOMElement} node The candidate DOM node.\n * @return {boolean} True if the DOM element contains a direct child that was\n * rendered by React but is not a root element.\n * @internal\n */\nfunction hasNonRootReactChild(container) {\n  var rootEl = getReactRootElementInContainer(container);\n  if (rootEl) {\n    var inst = ReactDOMComponentTree.getInstanceFromNode(rootEl);\n    return !!(inst && inst._hostParent);\n  }\n}\n\n/**\n * True if the supplied DOM node is a React DOM element and\n * it has been rendered by another copy of React.\n *\n * @param {?DOMElement} node The candidate DOM node.\n * @return {boolean} True if the DOM has been rendered by another copy of React\n * @internal\n */\nfunction nodeIsRenderedByOtherInstance(container) {\n  var rootEl = getReactRootElementInContainer(container);\n  return !!(rootEl && isReactNode(rootEl) && !ReactDOMComponentTree.getInstanceFromNode(rootEl));\n}\n\n/**\n * True if the supplied DOM node is a valid node element.\n *\n * @param {?DOMElement} node The candidate DOM node.\n * @return {boolean} True if the DOM is a valid DOM node.\n * @internal\n */\nfunction isValidContainer(node) {\n  return !!(node && (node.nodeType === ELEMENT_NODE_TYPE || node.nodeType === DOC_NODE_TYPE || node.nodeType === DOCUMENT_FRAGMENT_NODE_TYPE));\n}\n\n/**\n * True if the supplied DOM node is a valid React node element.\n *\n * @param {?DOMElement} node The candidate DOM node.\n * @return {boolean} True if the DOM is a valid React DOM node.\n * @internal\n */\nfunction isReactNode(node) {\n  return isValidContainer(node) && (node.hasAttribute(ROOT_ATTR_NAME) || node.hasAttribute(ATTR_NAME));\n}\n\nfunction getHostRootInstanceInContainer(container) {\n  var rootEl = getReactRootElementInContainer(container);\n  var prevHostInstance = rootEl && ReactDOMComponentTree.getInstanceFromNode(rootEl);\n  return prevHostInstance && !prevHostInstance._hostParent ? prevHostInstance : null;\n}\n\nfunction getTopLevelWrapperInContainer(container) {\n  var root = getHostRootInstanceInContainer(container);\n  return root ? root._hostContainerInfo._topLevelWrapper : null;\n}\n\n/**\n * Temporary (?) hack so that we can store all top-level pending updates on\n * composites instead of having to worry about different types of components\n * here.\n */\nvar topLevelRootCounter = 1;\nvar TopLevelWrapper = function () {\n  this.rootID = topLevelRootCounter++;\n};\nTopLevelWrapper.prototype.isReactComponent = {};\nif (process.env.NODE_ENV !== 'production') {\n  TopLevelWrapper.displayName = 'TopLevelWrapper';\n}\nTopLevelWrapper.prototype.render = function () {\n  return this.props.child;\n};\nTopLevelWrapper.isReactTopLevelWrapper = true;\n\n/**\n * Mounting is the process of initializing a React component by creating its\n * representative DOM elements and inserting them into a supplied `container`.\n * Any prior content inside `container` is destroyed in the process.\n *\n *   ReactMount.render(\n *     component,\n *     document.getElementById('container')\n *   );\n *\n *   <div id=\"container\">                   <-- Supplied `container`.\n *     <div data-reactid=\".3\">              <-- Rendered reactRoot of React\n *       // ...                                 component.\n *     </div>\n *   </div>\n *\n * Inside of `container`, the first element rendered is the \"reactRoot\".\n */\nvar ReactMount = {\n\n  TopLevelWrapper: TopLevelWrapper,\n\n  /**\n   * Used by devtools. The keys are not important.\n   */\n  _instancesByReactRootID: instancesByReactRootID,\n\n  /**\n   * This is a hook provided to support rendering React components while\n   * ensuring that the apparent scroll position of its `container` does not\n   * change.\n   *\n   * @param {DOMElement} container The `container` being rendered into.\n   * @param {function} renderCallback This must be called once to do the render.\n   */\n  scrollMonitor: function (container, renderCallback) {\n    renderCallback();\n  },\n\n  /**\n   * Take a component that's already mounted into the DOM and replace its props\n   * @param {ReactComponent} prevComponent component instance already in the DOM\n   * @param {ReactElement} nextElement component instance to render\n   * @param {DOMElement} container container to render into\n   * @param {?function} callback function triggered on completion\n   */\n  _updateRootComponent: function (prevComponent, nextElement, nextContext, container, callback) {\n    ReactMount.scrollMonitor(container, function () {\n      ReactUpdateQueue.enqueueElementInternal(prevComponent, nextElement, nextContext);\n      if (callback) {\n        ReactUpdateQueue.enqueueCallbackInternal(prevComponent, callback);\n      }\n    });\n\n    return prevComponent;\n  },\n\n  /**\n   * Render a new component into the DOM. Hooked by hooks!\n   *\n   * @param {ReactElement} nextElement element to render\n   * @param {DOMElement} container container to render into\n   * @param {boolean} shouldReuseMarkup if we should skip the markup insertion\n   * @return {ReactComponent} nextComponent\n   */\n  _renderNewRootComponent: function (nextElement, container, shouldReuseMarkup, context) {\n    // Various parts of our code (such as ReactCompositeComponent's\n    // _renderValidatedComponent) assume that calls to render aren't nested;\n    // verify that that's the case.\n    process.env.NODE_ENV !== 'production' ? warning(ReactCurrentOwner.current == null, '_renderNewRootComponent(): Render methods should be a pure function ' + 'of props and state; triggering nested component updates from ' + 'render is not allowed. If necessary, trigger nested updates in ' + 'componentDidUpdate. Check the render method of %s.', ReactCurrentOwner.current && ReactCurrentOwner.current.getName() || 'ReactCompositeComponent') : void 0;\n\n    !isValidContainer(container) ? process.env.NODE_ENV !== 'production' ? invariant(false, '_registerComponent(...): Target container is not a DOM element.') : _prodInvariant('37') : void 0;\n\n    ReactBrowserEventEmitter.ensureScrollValueMonitoring();\n    var componentInstance = instantiateReactComponent(nextElement, false);\n\n    // The initial render is synchronous but any updates that happen during\n    // rendering, in componentWillMount or componentDidMount, will be batched\n    // according to the current batching strategy.\n\n    ReactUpdates.batchedUpdates(batchedMountComponentIntoNode, componentInstance, container, shouldReuseMarkup, context);\n\n    var wrapperID = componentInstance._instance.rootID;\n    instancesByReactRootID[wrapperID] = componentInstance;\n\n    return componentInstance;\n  },\n\n  /**\n   * Renders a React component into the DOM in the supplied `container`.\n   *\n   * If the React component was previously rendered into `container`, this will\n   * perform an update on it and only mutate the DOM as necessary to reflect the\n   * latest React component.\n   *\n   * @param {ReactComponent} parentComponent The conceptual parent of this render tree.\n   * @param {ReactElement} nextElement Component element to render.\n   * @param {DOMElement} container DOM element to render into.\n   * @param {?function} callback function triggered on completion\n   * @return {ReactComponent} Component instance rendered in `container`.\n   */\n  renderSubtreeIntoContainer: function (parentComponent, nextElement, container, callback) {\n    !(parentComponent != null && ReactInstanceMap.has(parentComponent)) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'parentComponent must be a valid React Component') : _prodInvariant('38') : void 0;\n    return ReactMount._renderSubtreeIntoContainer(parentComponent, nextElement, container, callback);\n  },\n\n  _renderSubtreeIntoContainer: function (parentComponent, nextElement, container, callback) {\n    ReactUpdateQueue.validateCallback(callback, 'ReactDOM.render');\n    !React.isValidElement(nextElement) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactDOM.render(): Invalid component element.%s', typeof nextElement === 'string' ? ' Instead of passing a string like \\'div\\', pass ' + 'React.createElement(\\'div\\') or <div />.' : typeof nextElement === 'function' ? ' Instead of passing a class like Foo, pass ' + 'React.createElement(Foo) or <Foo />.' :\n    // Check if it quacks like an element\n    nextElement != null && nextElement.props !== undefined ? ' This may be caused by unintentionally loading two independent ' + 'copies of React.' : '') : _prodInvariant('39', typeof nextElement === 'string' ? ' Instead of passing a string like \\'div\\', pass ' + 'React.createElement(\\'div\\') or <div />.' : typeof nextElement === 'function' ? ' Instead of passing a class like Foo, pass ' + 'React.createElement(Foo) or <Foo />.' : nextElement != null && nextElement.props !== undefined ? ' This may be caused by unintentionally loading two independent ' + 'copies of React.' : '') : void 0;\n\n    process.env.NODE_ENV !== 'production' ? warning(!container || !container.tagName || container.tagName.toUpperCase() !== 'BODY', 'render(): Rendering components directly into document.body is ' + 'discouraged, since its children are often manipulated by third-party ' + 'scripts and browser extensions. This may lead to subtle ' + 'reconciliation issues. Try rendering into a container element created ' + 'for your app.') : void 0;\n\n    var nextWrappedElement = React.createElement(TopLevelWrapper, { child: nextElement });\n\n    var nextContext;\n    if (parentComponent) {\n      var parentInst = ReactInstanceMap.get(parentComponent);\n      nextContext = parentInst._processChildContext(parentInst._context);\n    } else {\n      nextContext = emptyObject;\n    }\n\n    var prevComponent = getTopLevelWrapperInContainer(container);\n\n    if (prevComponent) {\n      var prevWrappedElement = prevComponent._currentElement;\n      var prevElement = prevWrappedElement.props.child;\n      if (shouldUpdateReactComponent(prevElement, nextElement)) {\n        var publicInst = prevComponent._renderedComponent.getPublicInstance();\n        var updatedCallback = callback && function () {\n          callback.call(publicInst);\n        };\n        ReactMount._updateRootComponent(prevComponent, nextWrappedElement, nextContext, container, updatedCallback);\n        return publicInst;\n      } else {\n        ReactMount.unmountComponentAtNode(container);\n      }\n    }\n\n    var reactRootElement = getReactRootElementInContainer(container);\n    var containerHasReactMarkup = reactRootElement && !!internalGetID(reactRootElement);\n    var containerHasNonRootReactChild = hasNonRootReactChild(container);\n\n    if (process.env.NODE_ENV !== 'production') {\n      process.env.NODE_ENV !== 'production' ? warning(!containerHasNonRootReactChild, 'render(...): Replacing React-rendered children with a new root ' + 'component. If you intended to update the children of this node, ' + 'you should instead have the existing children update their state ' + 'and render the new components instead of calling ReactDOM.render.') : void 0;\n\n      if (!containerHasReactMarkup || reactRootElement.nextSibling) {\n        var rootElementSibling = reactRootElement;\n        while (rootElementSibling) {\n          if (internalGetID(rootElementSibling)) {\n            process.env.NODE_ENV !== 'production' ? warning(false, 'render(): Target node has markup rendered by React, but there ' + 'are unrelated nodes as well. This is most commonly caused by ' + 'white-space inserted around server-rendered markup.') : void 0;\n            break;\n          }\n          rootElementSibling = rootElementSibling.nextSibling;\n        }\n      }\n    }\n\n    var shouldReuseMarkup = containerHasReactMarkup && !prevComponent && !containerHasNonRootReactChild;\n    var component = ReactMount._renderNewRootComponent(nextWrappedElement, container, shouldReuseMarkup, nextContext)._renderedComponent.getPublicInstance();\n    if (callback) {\n      callback.call(component);\n    }\n    return component;\n  },\n\n  /**\n   * Renders a React component into the DOM in the supplied `container`.\n   * See https://facebook.github.io/react/docs/top-level-api.html#reactdom.render\n   *\n   * If the React component was previously rendered into `container`, this will\n   * perform an update on it and only mutate the DOM as necessary to reflect the\n   * latest React component.\n   *\n   * @param {ReactElement} nextElement Component element to render.\n   * @param {DOMElement} container DOM element to render into.\n   * @param {?function} callback function triggered on completion\n   * @return {ReactComponent} Component instance rendered in `container`.\n   */\n  render: function (nextElement, container, callback) {\n    return ReactMount._renderSubtreeIntoContainer(null, nextElement, container, callback);\n  },\n\n  /**\n   * Unmounts and destroys the React component rendered in the `container`.\n   * See https://facebook.github.io/react/docs/top-level-api.html#reactdom.unmountcomponentatnode\n   *\n   * @param {DOMElement} container DOM element containing a React component.\n   * @return {boolean} True if a component was found in and unmounted from\n   *                   `container`\n   */\n  unmountComponentAtNode: function (container) {\n    // Various parts of our code (such as ReactCompositeComponent's\n    // _renderValidatedComponent) assume that calls to render aren't nested;\n    // verify that that's the case. (Strictly speaking, unmounting won't cause a\n    // render but we still don't expect to be in a render call here.)\n    process.env.NODE_ENV !== 'production' ? warning(ReactCurrentOwner.current == null, 'unmountComponentAtNode(): Render methods should be a pure function ' + 'of props and state; triggering nested component updates from render ' + 'is not allowed. If necessary, trigger nested updates in ' + 'componentDidUpdate. Check the render method of %s.', ReactCurrentOwner.current && ReactCurrentOwner.current.getName() || 'ReactCompositeComponent') : void 0;\n\n    !isValidContainer(container) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'unmountComponentAtNode(...): Target container is not a DOM element.') : _prodInvariant('40') : void 0;\n\n    if (process.env.NODE_ENV !== 'production') {\n      process.env.NODE_ENV !== 'production' ? warning(!nodeIsRenderedByOtherInstance(container), 'unmountComponentAtNode(): The node you\\'re attempting to unmount ' + 'was rendered by another copy of React.') : void 0;\n    }\n\n    var prevComponent = getTopLevelWrapperInContainer(container);\n    if (!prevComponent) {\n      // Check if the node being unmounted was rendered by React, but isn't a\n      // root node.\n      var containerHasNonRootReactChild = hasNonRootReactChild(container);\n\n      // Check if the container itself is a React root node.\n      var isContainerReactRoot = container.nodeType === 1 && container.hasAttribute(ROOT_ATTR_NAME);\n\n      if (process.env.NODE_ENV !== 'production') {\n        process.env.NODE_ENV !== 'production' ? warning(!containerHasNonRootReactChild, 'unmountComponentAtNode(): The node you\\'re attempting to unmount ' + 'was rendered by React and is not a top-level container. %s', isContainerReactRoot ? 'You may have accidentally passed in a React root node instead ' + 'of its container.' : 'Instead, have the parent component update its state and ' + 'rerender in order to remove this component.') : void 0;\n      }\n\n      return false;\n    }\n    delete instancesByReactRootID[prevComponent._instance.rootID];\n    ReactUpdates.batchedUpdates(unmountComponentFromNode, prevComponent, container, false);\n    return true;\n  },\n\n  _mountImageIntoNode: function (markup, container, instance, shouldReuseMarkup, transaction) {\n    !isValidContainer(container) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'mountComponentIntoNode(...): Target container is not valid.') : _prodInvariant('41') : void 0;\n\n    if (shouldReuseMarkup) {\n      var rootElement = getReactRootElementInContainer(container);\n      if (ReactMarkupChecksum.canReuseMarkup(markup, rootElement)) {\n        ReactDOMComponentTree.precacheNode(instance, rootElement);\n        return;\n      } else {\n        var checksum = rootElement.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);\n        rootElement.removeAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);\n\n        var rootMarkup = rootElement.outerHTML;\n        rootElement.setAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME, checksum);\n\n        var normalizedMarkup = markup;\n        if (process.env.NODE_ENV !== 'production') {\n          // because rootMarkup is retrieved from the DOM, various normalizations\n          // will have occurred which will not be present in `markup`. Here,\n          // insert markup into a <div> or <iframe> depending on the container\n          // type to perform the same normalizations before comparing.\n          var normalizer;\n          if (container.nodeType === ELEMENT_NODE_TYPE) {\n            normalizer = document.createElement('div');\n            normalizer.innerHTML = markup;\n            normalizedMarkup = normalizer.innerHTML;\n          } else {\n            normalizer = document.createElement('iframe');\n            document.body.appendChild(normalizer);\n            normalizer.contentDocument.write(markup);\n            normalizedMarkup = normalizer.contentDocument.documentElement.outerHTML;\n            document.body.removeChild(normalizer);\n          }\n        }\n\n        var diffIndex = firstDifferenceIndex(normalizedMarkup, rootMarkup);\n        var difference = ' (client) ' + normalizedMarkup.substring(diffIndex - 20, diffIndex + 20) + '\\n (server) ' + rootMarkup.substring(diffIndex - 20, diffIndex + 20);\n\n        !(container.nodeType !== DOC_NODE_TYPE) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'You\\'re trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\\n%s', difference) : _prodInvariant('42', difference) : void 0;\n\n        if (process.env.NODE_ENV !== 'production') {\n          process.env.NODE_ENV !== 'production' ? warning(false, 'React attempted to reuse markup in a container but the ' + 'checksum was invalid. This generally means that you are ' + 'using server rendering and the markup generated on the ' + 'server was not what the client was expecting. React injected ' + 'new markup to compensate which works but you have lost many ' + 'of the benefits of server rendering. Instead, figure out ' + 'why the markup being generated is different on the client ' + 'or server:\\n%s', difference) : void 0;\n        }\n      }\n    }\n\n    !(container.nodeType !== DOC_NODE_TYPE) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'You\\'re trying to render a component to the document but you didn\\'t use server rendering. We can\\'t do this without using server rendering due to cross-browser quirks. See ReactDOMServer.renderToString() for server rendering.') : _prodInvariant('43') : void 0;\n\n    if (transaction.useCreateElement) {\n      while (container.lastChild) {\n        container.removeChild(container.lastChild);\n      }\n      DOMLazyTree.insertTreeBefore(container, markup, null);\n    } else {\n      setInnerHTML(container, markup);\n      ReactDOMComponentTree.precacheNode(instance, container.firstChild);\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var hostNode = ReactDOMComponentTree.getInstanceFromNode(container.firstChild);\n      if (hostNode._debugID !== 0) {\n        ReactInstrumentation.debugTool.onHostOperation({\n          instanceID: hostNode._debugID,\n          type: 'mount',\n          payload: markup.toString()\n        });\n      }\n    }\n  }\n};\n\nmodule.exports = ReactMount;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactMount.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar validateDOMNesting = require('./validateDOMNesting');\n\nvar DOC_NODE_TYPE = 9;\n\nfunction ReactDOMContainerInfo(topLevelWrapper, node) {\n  var info = {\n    _topLevelWrapper: topLevelWrapper,\n    _idCounter: 1,\n    _ownerDocument: node ? node.nodeType === DOC_NODE_TYPE ? node : node.ownerDocument : null,\n    _node: node,\n    _tag: node ? node.nodeName.toLowerCase() : null,\n    _namespaceURI: node ? node.namespaceURI : null\n  };\n  if (process.env.NODE_ENV !== 'production') {\n    info._ancestorInfo = node ? validateDOMNesting.updatedAncestorInfo(null, info._tag, null) : null;\n  }\n  return info;\n}\n\nmodule.exports = ReactDOMContainerInfo;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactDOMContainerInfo.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar ReactDOMFeatureFlags = {\n  useCreateElement: true,\n  useFiber: false\n};\n\nmodule.exports = ReactDOMFeatureFlags;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactDOMFeatureFlags.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar adler32 = require('./adler32');\n\nvar TAG_END = /\\/?>/;\nvar COMMENT_START = /^<\\!\\-\\-/;\n\nvar ReactMarkupChecksum = {\n  CHECKSUM_ATTR_NAME: 'data-react-checksum',\n\n  /**\n   * @param {string} markup Markup string\n   * @return {string} Markup string with checksum attribute attached\n   */\n  addChecksumToMarkup: function (markup) {\n    var checksum = adler32(markup);\n\n    // Add checksum (handle both parent tags, comments and self-closing tags)\n    if (COMMENT_START.test(markup)) {\n      return markup;\n    } else {\n      return markup.replace(TAG_END, ' ' + ReactMarkupChecksum.CHECKSUM_ATTR_NAME + '=\"' + checksum + '\"$&');\n    }\n  },\n\n  /**\n   * @param {string} markup to use\n   * @param {DOMElement} element root React element\n   * @returns {boolean} whether or not the markup is the same\n   */\n  canReuseMarkup: function (markup, element) {\n    var existingChecksum = element.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);\n    existingChecksum = existingChecksum && parseInt(existingChecksum, 10);\n    var markupChecksum = adler32(markup);\n    return markupChecksum === existingChecksum;\n  }\n};\n\nmodule.exports = ReactMarkupChecksum;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactMarkupChecksum.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar MOD = 65521;\n\n// adler32 is not cryptographically strong, and is only used to sanity check that\n// markup generated on the server matches the markup generated on the client.\n// This implementation (a modified version of the SheetJS version) has been optimized\n// for our use case, at the expense of conforming to the adler32 specification\n// for non-ascii inputs.\nfunction adler32(data) {\n  var a = 1;\n  var b = 0;\n  var i = 0;\n  var l = data.length;\n  var m = l & ~0x3;\n  while (i < m) {\n    var n = Math.min(i + 4096, m);\n    for (; i < n; i += 4) {\n      b += (a += data.charCodeAt(i)) + (a += data.charCodeAt(i + 1)) + (a += data.charCodeAt(i + 2)) + (a += data.charCodeAt(i + 3));\n    }\n    a %= MOD;\n    b %= MOD;\n  }\n  for (; i < l; i++) {\n    b += a += data.charCodeAt(i);\n  }\n  a %= MOD;\n  b %= MOD;\n  return a | b << 16;\n}\n\nmodule.exports = adler32;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/adler32.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nmodule.exports = '15.4.2';\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactVersion.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar ReactCurrentOwner = require('react/lib/ReactCurrentOwner');\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\nvar ReactInstanceMap = require('./ReactInstanceMap');\n\nvar getHostComponentFromComposite = require('./getHostComponentFromComposite');\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\n/**\n * Returns the DOM node rendered by this element.\n *\n * See https://facebook.github.io/react/docs/top-level-api.html#reactdom.finddomnode\n *\n * @param {ReactComponent|DOMElement} componentOrElement\n * @return {?DOMElement} The root node of this element.\n */\nfunction findDOMNode(componentOrElement) {\n  if (process.env.NODE_ENV !== 'production') {\n    var owner = ReactCurrentOwner.current;\n    if (owner !== null) {\n      process.env.NODE_ENV !== 'production' ? warning(owner._warnedAboutRefsInRender, '%s is accessing findDOMNode inside its render(). ' + 'render() should be a pure function of props and state. It should ' + 'never access something that requires stale data from the previous ' + 'render, such as refs. Move this logic to componentDidMount and ' + 'componentDidUpdate instead.', owner.getName() || 'A component') : void 0;\n      owner._warnedAboutRefsInRender = true;\n    }\n  }\n  if (componentOrElement == null) {\n    return null;\n  }\n  if (componentOrElement.nodeType === 1) {\n    return componentOrElement;\n  }\n\n  var inst = ReactInstanceMap.get(componentOrElement);\n  if (inst) {\n    inst = getHostComponentFromComposite(inst);\n    return inst ? ReactDOMComponentTree.getNodeFromInstance(inst) : null;\n  }\n\n  if (typeof componentOrElement.render === 'function') {\n    !false ? process.env.NODE_ENV !== 'production' ? invariant(false, 'findDOMNode was called on an unmounted component.') : _prodInvariant('44') : void 0;\n  } else {\n    !false ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Element appears to be neither ReactComponent nor DOMNode (keys: %s)', Object.keys(componentOrElement)) : _prodInvariant('45', Object.keys(componentOrElement)) : void 0;\n  }\n}\n\nmodule.exports = findDOMNode;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/findDOMNode.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar ReactNodeTypes = require('./ReactNodeTypes');\n\nfunction getHostComponentFromComposite(inst) {\n  var type;\n\n  while ((type = inst._renderedNodeType) === ReactNodeTypes.COMPOSITE) {\n    inst = inst._renderedComponent;\n  }\n\n  if (type === ReactNodeTypes.HOST) {\n    return inst._renderedComponent;\n  } else if (type === ReactNodeTypes.EMPTY) {\n    return null;\n  }\n}\n\nmodule.exports = getHostComponentFromComposite;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/getHostComponentFromComposite.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar ReactMount = require('./ReactMount');\n\nmodule.exports = ReactMount.renderSubtreeIntoContainer;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/renderSubtreeIntoContainer.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar DOMProperty = require('./DOMProperty');\nvar EventPluginRegistry = require('./EventPluginRegistry');\nvar ReactComponentTreeHook = require('react/lib/ReactComponentTreeHook');\n\nvar warning = require('fbjs/lib/warning');\n\nif (process.env.NODE_ENV !== 'production') {\n  var reactProps = {\n    children: true,\n    dangerouslySetInnerHTML: true,\n    key: true,\n    ref: true,\n\n    autoFocus: true,\n    defaultValue: true,\n    valueLink: true,\n    defaultChecked: true,\n    checkedLink: true,\n    innerHTML: true,\n    suppressContentEditableWarning: true,\n    onFocusIn: true,\n    onFocusOut: true\n  };\n  var warnedProperties = {};\n\n  var validateProperty = function (tagName, name, debugID) {\n    if (DOMProperty.properties.hasOwnProperty(name) || DOMProperty.isCustomAttribute(name)) {\n      return true;\n    }\n    if (reactProps.hasOwnProperty(name) && reactProps[name] || warnedProperties.hasOwnProperty(name) && warnedProperties[name]) {\n      return true;\n    }\n    if (EventPluginRegistry.registrationNameModules.hasOwnProperty(name)) {\n      return true;\n    }\n    warnedProperties[name] = true;\n    var lowerCasedName = name.toLowerCase();\n\n    // data-* attributes should be lowercase; suggest the lowercase version\n    var standardName = DOMProperty.isCustomAttribute(lowerCasedName) ? lowerCasedName : DOMProperty.getPossibleStandardName.hasOwnProperty(lowerCasedName) ? DOMProperty.getPossibleStandardName[lowerCasedName] : null;\n\n    var registrationName = EventPluginRegistry.possibleRegistrationNames.hasOwnProperty(lowerCasedName) ? EventPluginRegistry.possibleRegistrationNames[lowerCasedName] : null;\n\n    if (standardName != null) {\n      process.env.NODE_ENV !== 'production' ? warning(false, 'Unknown DOM property %s. Did you mean %s?%s', name, standardName, ReactComponentTreeHook.getStackAddendumByID(debugID)) : void 0;\n      return true;\n    } else if (registrationName != null) {\n      process.env.NODE_ENV !== 'production' ? warning(false, 'Unknown event handler property %s. Did you mean `%s`?%s', name, registrationName, ReactComponentTreeHook.getStackAddendumByID(debugID)) : void 0;\n      return true;\n    } else {\n      // We were unable to guess which prop the user intended.\n      // It is likely that the user was just blindly spreading/forwarding props\n      // Components should be careful to only render valid props/attributes.\n      // Warning will be invoked in warnUnknownProperties to allow grouping.\n      return false;\n    }\n  };\n}\n\nvar warnUnknownProperties = function (debugID, element) {\n  var unknownProps = [];\n  for (var key in element.props) {\n    var isValid = validateProperty(element.type, key, debugID);\n    if (!isValid) {\n      unknownProps.push(key);\n    }\n  }\n\n  var unknownPropString = unknownProps.map(function (prop) {\n    return '`' + prop + '`';\n  }).join(', ');\n\n  if (unknownProps.length === 1) {\n    process.env.NODE_ENV !== 'production' ? warning(false, 'Unknown prop %s on <%s> tag. Remove this prop from the element. ' + 'For details, see https://fb.me/react-unknown-prop%s', unknownPropString, element.type, ReactComponentTreeHook.getStackAddendumByID(debugID)) : void 0;\n  } else if (unknownProps.length > 1) {\n    process.env.NODE_ENV !== 'production' ? warning(false, 'Unknown props %s on <%s> tag. Remove these props from the element. ' + 'For details, see https://fb.me/react-unknown-prop%s', unknownPropString, element.type, ReactComponentTreeHook.getStackAddendumByID(debugID)) : void 0;\n  }\n};\n\nfunction handleElement(debugID, element) {\n  if (element == null || typeof element.type !== 'string') {\n    return;\n  }\n  if (element.type.indexOf('-') >= 0 || element.props.is) {\n    return;\n  }\n  warnUnknownProperties(debugID, element);\n}\n\nvar ReactDOMUnknownPropertyHook = {\n  onBeforeMountComponent: function (debugID, element) {\n    handleElement(debugID, element);\n  },\n  onBeforeUpdateComponent: function (debugID, element) {\n    handleElement(debugID, element);\n  }\n};\n\nmodule.exports = ReactDOMUnknownPropertyHook;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactDOMUnknownPropertyHook.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar ReactComponentTreeHook = require('react/lib/ReactComponentTreeHook');\n\nvar warning = require('fbjs/lib/warning');\n\nvar didWarnValueNull = false;\n\nfunction handleElement(debugID, element) {\n  if (element == null) {\n    return;\n  }\n  if (element.type !== 'input' && element.type !== 'textarea' && element.type !== 'select') {\n    return;\n  }\n  if (element.props != null && element.props.value === null && !didWarnValueNull) {\n    process.env.NODE_ENV !== 'production' ? warning(false, '`value` prop on `%s` should not be null. ' + 'Consider using the empty string to clear the component or `undefined` ' + 'for uncontrolled components.%s', element.type, ReactComponentTreeHook.getStackAddendumByID(debugID)) : void 0;\n\n    didWarnValueNull = true;\n  }\n}\n\nvar ReactDOMNullInputValuePropHook = {\n  onBeforeMountComponent: function (debugID, element) {\n    handleElement(debugID, element);\n  },\n  onBeforeUpdateComponent: function (debugID, element) {\n    handleElement(debugID, element);\n  }\n};\n\nmodule.exports = ReactDOMNullInputValuePropHook;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactDOMNullInputValuePropHook.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar DOMProperty = require('./DOMProperty');\nvar ReactComponentTreeHook = require('react/lib/ReactComponentTreeHook');\n\nvar warning = require('fbjs/lib/warning');\n\nvar warnedProperties = {};\nvar rARIA = new RegExp('^(aria)-[' + DOMProperty.ATTRIBUTE_NAME_CHAR + ']*$');\n\nfunction validateProperty(tagName, name, debugID) {\n  if (warnedProperties.hasOwnProperty(name) && warnedProperties[name]) {\n    return true;\n  }\n\n  if (rARIA.test(name)) {\n    var lowerCasedName = name.toLowerCase();\n    var standardName = DOMProperty.getPossibleStandardName.hasOwnProperty(lowerCasedName) ? DOMProperty.getPossibleStandardName[lowerCasedName] : null;\n\n    // If this is an aria-* attribute, but is not listed in the known DOM\n    // DOM properties, then it is an invalid aria-* attribute.\n    if (standardName == null) {\n      warnedProperties[name] = true;\n      return false;\n    }\n    // aria-* attributes should be lowercase; suggest the lowercase version.\n    if (name !== standardName) {\n      process.env.NODE_ENV !== 'production' ? warning(false, 'Unknown ARIA attribute %s. Did you mean %s?%s', name, standardName, ReactComponentTreeHook.getStackAddendumByID(debugID)) : void 0;\n      warnedProperties[name] = true;\n      return true;\n    }\n  }\n\n  return true;\n}\n\nfunction warnInvalidARIAProps(debugID, element) {\n  var invalidProps = [];\n\n  for (var key in element.props) {\n    var isValid = validateProperty(element.type, key, debugID);\n    if (!isValid) {\n      invalidProps.push(key);\n    }\n  }\n\n  var unknownPropString = invalidProps.map(function (prop) {\n    return '`' + prop + '`';\n  }).join(', ');\n\n  if (invalidProps.length === 1) {\n    process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid aria prop %s on <%s> tag. ' + 'For details, see https://fb.me/invalid-aria-prop%s', unknownPropString, element.type, ReactComponentTreeHook.getStackAddendumByID(debugID)) : void 0;\n  } else if (invalidProps.length > 1) {\n    process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid aria props %s on <%s> tag. ' + 'For details, see https://fb.me/invalid-aria-prop%s', unknownPropString, element.type, ReactComponentTreeHook.getStackAddendumByID(debugID)) : void 0;\n  }\n}\n\nfunction handleElement(debugID, element) {\n  if (element == null || typeof element.type !== 'string') {\n    return;\n  }\n  if (element.type.indexOf('-') >= 0 || element.props.is) {\n    return;\n  }\n\n  warnInvalidARIAProps(debugID, element);\n}\n\nvar ReactDOMInvalidARIAHook = {\n  onBeforeMountComponent: function (debugID, element) {\n    if (process.env.NODE_ENV !== 'production') {\n      handleElement(debugID, element);\n    }\n  },\n  onBeforeUpdateComponent: function (debugID, element) {\n    if (process.env.NODE_ENV !== 'production') {\n      handleElement(debugID, element);\n    }\n  }\n};\n\nmodule.exports = ReactDOMInvalidARIAHook;\n\n\n// WEBPACK FOOTER //\n// ./~/react-dom/lib/ReactDOMInvalidARIAHook.js","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n// This is CodeMirror (http://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n// Kludges for bugs and behavior differences that can't be feature\n// detected are enabled based on userAgent etc sniffing.\nvar userAgent = navigator.userAgent\nvar platform = navigator.platform\n\nvar gecko = /gecko\\/\\d/i.test(userAgent)\nvar ie_upto10 = /MSIE \\d/.test(userAgent)\nvar ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent)\nvar ie = ie_upto10 || ie_11up\nvar ie_version = ie && (ie_upto10 ? document.documentMode || 6 : ie_11up[1])\nvar webkit = /WebKit\\//.test(userAgent)\nvar qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent)\nvar chrome = /Chrome\\//.test(userAgent)\nvar presto = /Opera\\//.test(userAgent)\nvar safari = /Apple Computer/.test(navigator.vendor)\nvar mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent)\nvar phantom = /PhantomJS/.test(userAgent)\n\nvar ios = /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent)\n// This is woefully incomplete. Suggestions for alternative methods welcome.\nvar mobile = ios || /Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent)\nvar mac = ios || /Mac/.test(platform)\nvar chromeOS = /\\bCrOS\\b/.test(userAgent)\nvar windows = /win/i.test(platform)\n\nvar presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/)\nif (presto_version) { presto_version = Number(presto_version[1]) }\nif (presto_version && presto_version >= 15) { presto = false; webkit = true }\n// Some browsers use the wrong event properties to signal cmd/ctrl on OS X\nvar flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11))\nvar captureRightClick = gecko || (ie && ie_version >= 9)\n\nfunction classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\nvar rmClass = function(node, cls) {\n  var current = node.className\n  var match = classTest(cls).exec(current)\n  if (match) {\n    var after = current.slice(match.index + match[0].length)\n    node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\")\n  }\n}\n\nfunction removeChildren(e) {\n  for (var count = e.childNodes.length; count > 0; --count)\n    { e.removeChild(e.firstChild) }\n  return e\n}\n\nfunction removeChildrenAndAdd(parent, e) {\n  return removeChildren(parent).appendChild(e)\n}\n\nfunction elt(tag, content, className, style) {\n  var e = document.createElement(tag)\n  if (className) { e.className = className }\n  if (style) { e.style.cssText = style }\n  if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)) }\n  else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]) } }\n  return e\n}\n\nvar range\nif (document.createRange) { range = function(node, start, end, endNode) {\n  var r = document.createRange()\n  r.setEnd(endNode || node, end)\n  r.setStart(node, start)\n  return r\n} }\nelse { range = function(node, start, end) {\n  var r = document.body.createTextRange()\n  try { r.moveToElementText(node.parentNode) }\n  catch(e) { return r }\n  r.collapse(true)\n  r.moveEnd(\"character\", end)\n  r.moveStart(\"character\", start)\n  return r\n} }\n\nfunction contains(parent, child) {\n  if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n    { child = child.parentNode }\n  if (parent.contains)\n    { return parent.contains(child) }\n  do {\n    if (child.nodeType == 11) { child = child.host }\n    if (child == parent) { return true }\n  } while (child = child.parentNode)\n}\n\nfunction activeElt() {\n  // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n  // IE < 10 will throw when accessed while the page is loading or in an iframe.\n  // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n  var activeElement\n  try {\n    activeElement = document.activeElement\n  } catch(e) {\n    activeElement = document.body || null\n  }\n  while (activeElement && activeElement.root && activeElement.root.activeElement)\n    { activeElement = activeElement.root.activeElement }\n  return activeElement\n}\n\nfunction addClass(node, cls) {\n  var current = node.className\n  if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls }\n}\nfunction joinClasses(a, b) {\n  var as = a.split(\" \")\n  for (var i = 0; i < as.length; i++)\n    { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i] } }\n  return b\n}\n\nvar selectInput = function(node) { node.select() }\nif (ios) // Mobile Safari apparently has a bug where select() is broken.\n  { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length } }\nelse if (ie) // Suppress mysterious IE10 errors\n  { selectInput = function(node) { try { node.select() } catch(_e) {} } }\n\nfunction bind(f) {\n  var args = Array.prototype.slice.call(arguments, 1)\n  return function(){return f.apply(null, args)}\n}\n\nfunction copyObj(obj, target, overwrite) {\n  if (!target) { target = {} }\n  for (var prop in obj)\n    { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n      { target[prop] = obj[prop] } }\n  return target\n}\n\n// Counts the column offset in a string, taking tabs into account.\n// Used mostly to find indentation.\nfunction countColumn(string, end, tabSize, startIndex, startValue) {\n  if (end == null) {\n    end = string.search(/[^\\s\\u00a0]/)\n    if (end == -1) { end = string.length }\n  }\n  for (var i = startIndex || 0, n = startValue || 0;;) {\n    var nextTab = string.indexOf(\"\\t\", i)\n    if (nextTab < 0 || nextTab >= end)\n      { return n + (end - i) }\n    n += nextTab - i\n    n += tabSize - (n % tabSize)\n    i = nextTab + 1\n  }\n}\n\nfunction Delayed() {this.id = null}\nDelayed.prototype.set = function(ms, f) {\n  clearTimeout(this.id)\n  this.id = setTimeout(f, ms)\n}\n\nfunction indexOf(array, elt) {\n  for (var i = 0; i < array.length; ++i)\n    { if (array[i] == elt) { return i } }\n  return -1\n}\n\n// Number of pixels added to scroller and sizer to hide scrollbar\nvar scrollerGap = 30\n\n// Returned or thrown by various protocols to signal 'I'm not\n// handling this'.\nvar Pass = {toString: function(){return \"CodeMirror.Pass\"}}\n\n// Reused option objects for setSelection & friends\nvar sel_dontScroll = {scroll: false};\nvar sel_mouse = {origin: \"*mouse\"};\nvar sel_move = {origin: \"+move\"};\n// The inverse of countColumn -- find the offset that corresponds to\n// a particular column.\nfunction findColumn(string, goal, tabSize) {\n  for (var pos = 0, col = 0;;) {\n    var nextTab = string.indexOf(\"\\t\", pos)\n    if (nextTab == -1) { nextTab = string.length }\n    var skipped = nextTab - pos\n    if (nextTab == string.length || col + skipped >= goal)\n      { return pos + Math.min(skipped, goal - col) }\n    col += nextTab - pos\n    col += tabSize - (col % tabSize)\n    pos = nextTab + 1\n    if (col >= goal) { return pos }\n  }\n}\n\nvar spaceStrs = [\"\"]\nfunction spaceStr(n) {\n  while (spaceStrs.length <= n)\n    { spaceStrs.push(lst(spaceStrs) + \" \") }\n  return spaceStrs[n]\n}\n\nfunction lst(arr) { return arr[arr.length-1] }\n\nfunction map(array, f) {\n  var out = []\n  for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i) }\n  return out\n}\n\nfunction insertSorted(array, value, score) {\n  var pos = 0, priority = score(value)\n  while (pos < array.length && score(array[pos]) <= priority) { pos++ }\n  array.splice(pos, 0, value)\n}\n\nfunction nothing() {}\n\nfunction createObj(base, props) {\n  var inst\n  if (Object.create) {\n    inst = Object.create(base)\n  } else {\n    nothing.prototype = base\n    inst = new nothing()\n  }\n  if (props) { copyObj(props, inst) }\n  return inst\n}\n\nvar nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/\nfunction isWordCharBasic(ch) {\n  return /\\w/.test(ch) || ch > \"\\x80\" &&\n    (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n}\nfunction isWordChar(ch, helper) {\n  if (!helper) { return isWordCharBasic(ch) }\n  if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n  return helper.test(ch)\n}\n\nfunction isEmpty(obj) {\n  for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n  return true\n}\n\n// Extending unicode characters. A series of a non-extending char +\n// any number of extending chars is treated as a single unit as far\n// as editing and measuring is concerned. This is not fully correct,\n// since some scripts/fonts/browsers also treat other configurations\n// of code points as a group.\nvar extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/\nfunction isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n// The display handles the DOM integration, both for input reading\n// and content drawing. It holds references to DOM nodes and\n// display-related state.\n\nfunction Display(place, doc, input) {\n  var d = this\n  this.input = input\n\n  // Covers bottom-right square when both scrollbars are present.\n  d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\")\n  d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\")\n  // Covers bottom of gutter when coverGutterNextToScrollbar is on\n  // and h scrollbar is present.\n  d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\")\n  d.gutterFiller.setAttribute(\"cm-not-content\", \"true\")\n  // Will contain the actual code, positioned to cover the viewport.\n  d.lineDiv = elt(\"div\", null, \"CodeMirror-code\")\n  // Elements are added to these to represent selection and cursors.\n  d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\")\n  d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\")\n  // A visibility: hidden element used to find the size of things.\n  d.measure = elt(\"div\", null, \"CodeMirror-measure\")\n  // When lines outside of the viewport are measured, they are drawn in this.\n  d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\")\n  // Wraps everything that needs to exist inside the vertically-padded coordinate system\n  d.lineSpace = elt(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                    null, \"position: relative; outline: none\")\n  // Moved around its parent to cover visible view.\n  d.mover = elt(\"div\", [elt(\"div\", [d.lineSpace], \"CodeMirror-lines\")], null, \"position: relative\")\n  // Set to the height of the document, allowing scrolling.\n  d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\")\n  d.sizerWidth = null\n  // Behavior of elts with overflow: auto and padding is\n  // inconsistent across browsers. This is used to ensure the\n  // scrollable area is big enough.\n  d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\")\n  // Will contain the gutters, if any.\n  d.gutters = elt(\"div\", null, \"CodeMirror-gutters\")\n  d.lineGutter = null\n  // Actual scrollable element.\n  d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\")\n  d.scroller.setAttribute(\"tabIndex\", \"-1\")\n  // The element in which the editor lives.\n  d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\")\n\n  // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n  if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0 }\n  if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true }\n\n  if (place) {\n    if (place.appendChild) { place.appendChild(d.wrapper) }\n    else { place(d.wrapper) }\n  }\n\n  // Current rendered range (may be bigger than the view window).\n  d.viewFrom = d.viewTo = doc.first\n  d.reportedViewFrom = d.reportedViewTo = doc.first\n  // Information about the rendered lines.\n  d.view = []\n  d.renderedView = null\n  // Holds info about a single rendered line when it was rendered\n  // for measurement, while not in view.\n  d.externalMeasured = null\n  // Empty space (in pixels) above the view\n  d.viewOffset = 0\n  d.lastWrapHeight = d.lastWrapWidth = 0\n  d.updateLineNumbers = null\n\n  d.nativeBarWidth = d.barHeight = d.barWidth = 0\n  d.scrollbarsClipped = false\n\n  // Used to only resize the line number gutter when necessary (when\n  // the amount of lines crosses a boundary that makes its width change)\n  d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null\n  // Set to true when a non-horizontal-scrolling line widget is\n  // added. As an optimization, line widget aligning is skipped when\n  // this is false.\n  d.alignWidgets = false\n\n  d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null\n\n  // Tracks the maximum line length so that the horizontal scrollbar\n  // can be kept static when scrolling.\n  d.maxLine = null\n  d.maxLineLength = 0\n  d.maxLineChanged = false\n\n  // Used for measuring wheel scrolling granularity\n  d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null\n\n  // True when shift is held down.\n  d.shift = false\n\n  // Used to track whether anything happened since the context menu\n  // was opened.\n  d.selForContextMenu = null\n\n  d.activeTouch = null\n\n  input.init(d)\n}\n\n// Find the line object corresponding to the given line number.\nfunction getLine(doc, n) {\n  n -= doc.first\n  if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n  var chunk = doc\n  while (!chunk.lines) {\n    for (var i = 0;; ++i) {\n      var child = chunk.children[i], sz = child.chunkSize()\n      if (n < sz) { chunk = child; break }\n      n -= sz\n    }\n  }\n  return chunk.lines[n]\n}\n\n// Get the part of a document between two positions, as an array of\n// strings.\nfunction getBetween(doc, start, end) {\n  var out = [], n = start.line\n  doc.iter(start.line, end.line + 1, function (line) {\n    var text = line.text\n    if (n == end.line) { text = text.slice(0, end.ch) }\n    if (n == start.line) { text = text.slice(start.ch) }\n    out.push(text)\n    ++n\n  })\n  return out\n}\n// Get the lines between from and to, as array of strings.\nfunction getLines(doc, from, to) {\n  var out = []\n  doc.iter(from, to, function (line) { out.push(line.text) }) // iter aborts when callback returns truthy value\n  return out\n}\n\n// Update the height of a line, propagating the height change\n// upwards to parent nodes.\nfunction updateLineHeight(line, height) {\n  var diff = height - line.height\n  if (diff) { for (var n = line; n; n = n.parent) { n.height += diff } }\n}\n\n// Given a line object, find its line number by walking up through\n// its parent links.\nfunction lineNo(line) {\n  if (line.parent == null) { return null }\n  var cur = line.parent, no = indexOf(cur.lines, line)\n  for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n    for (var i = 0;; ++i) {\n      if (chunk.children[i] == cur) { break }\n      no += chunk.children[i].chunkSize()\n    }\n  }\n  return no + cur.first\n}\n\n// Find the line at the given vertical position, using the height\n// information in the document tree.\nfunction lineAtHeight(chunk, h) {\n  var n = chunk.first\n  outer: do {\n    for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n      var child = chunk.children[i$1], ch = child.height\n      if (h < ch) { chunk = child; continue outer }\n      h -= ch\n      n += child.chunkSize()\n    }\n    return n\n  } while (!chunk.lines)\n  var i = 0\n  for (; i < chunk.lines.length; ++i) {\n    var line = chunk.lines[i], lh = line.height\n    if (h < lh) { break }\n    h -= lh\n  }\n  return n + i\n}\n\nfunction isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\nfunction lineNumberFor(options, i) {\n  return String(options.lineNumberFormatter(i + options.firstLineNumber))\n}\n\n// A Pos instance represents a position within the text.\nfunction Pos (line, ch) {\n  if (!(this instanceof Pos)) { return new Pos(line, ch) }\n  this.line = line; this.ch = ch\n}\n\n// Compare two positions, return 0 if they are the same, a negative\n// number when a is less, and a positive number otherwise.\nfunction cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\nfunction copyPos(x) {return Pos(x.line, x.ch)}\nfunction maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\nfunction minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n// Most of the external API clips given positions to make sure they\n// actually exist within the document.\nfunction clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\nfunction clipPos(doc, pos) {\n  if (pos.line < doc.first) { return Pos(doc.first, 0) }\n  var last = doc.first + doc.size - 1\n  if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n  return clipToLen(pos, getLine(doc, pos.line).text.length)\n}\nfunction clipToLen(pos, linelen) {\n  var ch = pos.ch\n  if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n  else if (ch < 0) { return Pos(pos.line, 0) }\n  else { return pos }\n}\nfunction clipPosArray(doc, array) {\n  var out = []\n  for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]) }\n  return out\n}\n\n// Optimize some code when these features are not used.\nvar sawReadOnlySpans = false;\nvar sawCollapsedSpans = false;\nfunction seeReadOnlySpans() {\n  sawReadOnlySpans = true\n}\n\nfunction seeCollapsedSpans() {\n  sawCollapsedSpans = true\n}\n\n// TEXTMARKER SPANS\n\nfunction MarkedSpan(marker, from, to) {\n  this.marker = marker\n  this.from = from; this.to = to\n}\n\n// Search an array of spans for a span matching the given marker.\nfunction getMarkedSpanFor(spans, marker) {\n  if (spans) { for (var i = 0; i < spans.length; ++i) {\n    var span = spans[i]\n    if (span.marker == marker) { return span }\n  } }\n}\n// Remove a span from an array, returning undefined if no spans are\n// left (we don't store arrays for lines without spans).\nfunction removeMarkedSpan(spans, span) {\n  var r\n  for (var i = 0; i < spans.length; ++i)\n    { if (spans[i] != span) { (r || (r = [])).push(spans[i]) } }\n  return r\n}\n// Add a span to a line.\nfunction addMarkedSpan(line, span) {\n  line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span]\n  span.marker.attachLine(line)\n}\n\n// Used for the algorithm that adjusts markers for a change in the\n// document. These functions cut an array of spans at a given\n// character position, returning an array of remaining chunks (or\n// undefined if nothing remains).\nfunction markedSpansBefore(old, startCh, isInsert) {\n  var nw\n  if (old) { for (var i = 0; i < old.length; ++i) {\n    var span = old[i], marker = span.marker\n    var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh)\n    if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n      ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to))\n    }\n  } }\n  return nw\n}\nfunction markedSpansAfter(old, endCh, isInsert) {\n  var nw\n  if (old) { for (var i = 0; i < old.length; ++i) {\n    var span = old[i], marker = span.marker\n    var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh)\n    if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n      ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                            span.to == null ? null : span.to - endCh))\n    }\n  } }\n  return nw\n}\n\n// Given a change object, compute the new set of marker spans that\n// cover the line in which the change took place. Removes spans\n// entirely within the change, reconnects spans belonging to the\n// same marker that appear on both sides of the change, and cuts off\n// spans partially within the change. Returns an array of span\n// arrays with one element for each line in (after) the change.\nfunction stretchSpansOverChange(doc, change) {\n  if (change.full) { return null }\n  var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans\n  var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans\n  if (!oldFirst && !oldLast) { return null }\n\n  var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0\n  // Get the spans that 'stick out' on both sides\n  var first = markedSpansBefore(oldFirst, startCh, isInsert)\n  var last = markedSpansAfter(oldLast, endCh, isInsert)\n\n  // Next, merge those two ends\n  var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0)\n  if (first) {\n    // Fix up .to properties of first\n    for (var i = 0; i < first.length; ++i) {\n      var span = first[i]\n      if (span.to == null) {\n        var found = getMarkedSpanFor(last, span.marker)\n        if (!found) { span.to = startCh }\n        else if (sameLine) { span.to = found.to == null ? null : found.to + offset }\n      }\n    }\n  }\n  if (last) {\n    // Fix up .from in last (or move them into first in case of sameLine)\n    for (var i$1 = 0; i$1 < last.length; ++i$1) {\n      var span$1 = last[i$1]\n      if (span$1.to != null) { span$1.to += offset }\n      if (span$1.from == null) {\n        var found$1 = getMarkedSpanFor(first, span$1.marker)\n        if (!found$1) {\n          span$1.from = offset\n          if (sameLine) { (first || (first = [])).push(span$1) }\n        }\n      } else {\n        span$1.from += offset\n        if (sameLine) { (first || (first = [])).push(span$1) }\n      }\n    }\n  }\n  // Make sure we didn't create any zero-length spans\n  if (first) { first = clearEmptySpans(first) }\n  if (last && last != first) { last = clearEmptySpans(last) }\n\n  var newMarkers = [first]\n  if (!sameLine) {\n    // Fill gap with whole-line-spans\n    var gap = change.text.length - 2, gapMarkers\n    if (gap > 0 && first)\n      { for (var i$2 = 0; i$2 < first.length; ++i$2)\n        { if (first[i$2].to == null)\n          { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)) } } }\n    for (var i$3 = 0; i$3 < gap; ++i$3)\n      { newMarkers.push(gapMarkers) }\n    newMarkers.push(last)\n  }\n  return newMarkers\n}\n\n// Remove spans that are empty and don't have a clearWhenEmpty\n// option of false.\nfunction clearEmptySpans(spans) {\n  for (var i = 0; i < spans.length; ++i) {\n    var span = spans[i]\n    if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n      { spans.splice(i--, 1) }\n  }\n  if (!spans.length) { return null }\n  return spans\n}\n\n// Used to 'clip' out readOnly ranges when making a change.\nfunction removeReadOnlyRanges(doc, from, to) {\n  var markers = null\n  doc.iter(from.line, to.line + 1, function (line) {\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var mark = line.markedSpans[i].marker\n      if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n        { (markers || (markers = [])).push(mark) }\n    } }\n  })\n  if (!markers) { return null }\n  var parts = [{from: from, to: to}]\n  for (var i = 0; i < markers.length; ++i) {\n    var mk = markers[i], m = mk.find(0)\n    for (var j = 0; j < parts.length; ++j) {\n      var p = parts[j]\n      if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n      var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to)\n      if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n        { newParts.push({from: p.from, to: m.from}) }\n      if (dto > 0 || !mk.inclusiveRight && !dto)\n        { newParts.push({from: m.to, to: p.to}) }\n      parts.splice.apply(parts, newParts)\n      j += newParts.length - 1\n    }\n  }\n  return parts\n}\n\n// Connect or disconnect spans from a line.\nfunction detachMarkedSpans(line) {\n  var spans = line.markedSpans\n  if (!spans) { return }\n  for (var i = 0; i < spans.length; ++i)\n    { spans[i].marker.detachLine(line) }\n  line.markedSpans = null\n}\nfunction attachMarkedSpans(line, spans) {\n  if (!spans) { return }\n  for (var i = 0; i < spans.length; ++i)\n    { spans[i].marker.attachLine(line) }\n  line.markedSpans = spans\n}\n\n// Helpers used when computing which overlapping collapsed span\n// counts as the larger one.\nfunction extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\nfunction extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n// Returns a number indicating which of two overlapping collapsed\n// spans is larger (and thus includes the other). Falls back to\n// comparing ids when the spans cover exactly the same range.\nfunction compareCollapsedMarkers(a, b) {\n  var lenDiff = a.lines.length - b.lines.length\n  if (lenDiff != 0) { return lenDiff }\n  var aPos = a.find(), bPos = b.find()\n  var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b)\n  if (fromCmp) { return -fromCmp }\n  var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b)\n  if (toCmp) { return toCmp }\n  return b.id - a.id\n}\n\n// Find out whether a line ends or starts in a collapsed span. If\n// so, return the marker for that span.\nfunction collapsedSpanAtSide(line, start) {\n  var sps = sawCollapsedSpans && line.markedSpans, found\n  if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n    sp = sps[i]\n    if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n        (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n      { found = sp.marker }\n  } }\n  return found\n}\nfunction collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\nfunction collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n// Test whether there exists a collapsed span that partially\n// overlaps (covers the start or end, but not both) of a new span.\n// Such overlap is not allowed.\nfunction conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n  var line = getLine(doc, lineNo)\n  var sps = sawCollapsedSpans && line.markedSpans\n  if (sps) { for (var i = 0; i < sps.length; ++i) {\n    var sp = sps[i]\n    if (!sp.marker.collapsed) { continue }\n    var found = sp.marker.find(0)\n    var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker)\n    var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker)\n    if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n    if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n        fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n      { return true }\n  } }\n}\n\n// A visual line is a line as drawn on the screen. Folding, for\n// example, can cause multiple logical lines to appear on the same\n// visual line. This finds the start of the visual line that the\n// given line is part of (usually that is the line itself).\nfunction visualLine(line) {\n  var merged\n  while (merged = collapsedSpanAtStart(line))\n    { line = merged.find(-1, true).line }\n  return line\n}\n\n// Returns an array of logical lines that continue the visual line\n// started by the argument, or undefined if there are no such lines.\nfunction visualLineContinued(line) {\n  var merged, lines\n  while (merged = collapsedSpanAtEnd(line)) {\n    line = merged.find(1, true).line\n    ;(lines || (lines = [])).push(line)\n  }\n  return lines\n}\n\n// Get the line number of the start of the visual line that the\n// given line number is part of.\nfunction visualLineNo(doc, lineN) {\n  var line = getLine(doc, lineN), vis = visualLine(line)\n  if (line == vis) { return lineN }\n  return lineNo(vis)\n}\n\n// Get the line number of the start of the next visual line after\n// the given line.\nfunction visualLineEndNo(doc, lineN) {\n  if (lineN > doc.lastLine()) { return lineN }\n  var line = getLine(doc, lineN), merged\n  if (!lineIsHidden(doc, line)) { return lineN }\n  while (merged = collapsedSpanAtEnd(line))\n    { line = merged.find(1, true).line }\n  return lineNo(line) + 1\n}\n\n// Compute whether a line is hidden. Lines count as hidden when they\n// are part of a visual line that starts with another line, or when\n// they are entirely covered by collapsed, non-widget span.\nfunction lineIsHidden(doc, line) {\n  var sps = sawCollapsedSpans && line.markedSpans\n  if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n    sp = sps[i]\n    if (!sp.marker.collapsed) { continue }\n    if (sp.from == null) { return true }\n    if (sp.marker.widgetNode) { continue }\n    if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n      { return true }\n  } }\n}\nfunction lineIsHiddenInner(doc, line, span) {\n  if (span.to == null) {\n    var end = span.marker.find(1, true)\n    return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n  }\n  if (span.marker.inclusiveRight && span.to == line.text.length)\n    { return true }\n  for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n    sp = line.markedSpans[i]\n    if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n        (sp.to == null || sp.to != span.from) &&\n        (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n        lineIsHiddenInner(doc, line, sp)) { return true }\n  }\n}\n\n// Find the height above the given line.\nfunction heightAtLine(lineObj) {\n  lineObj = visualLine(lineObj)\n\n  var h = 0, chunk = lineObj.parent\n  for (var i = 0; i < chunk.lines.length; ++i) {\n    var line = chunk.lines[i]\n    if (line == lineObj) { break }\n    else { h += line.height }\n  }\n  for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n    for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n      var cur = p.children[i$1]\n      if (cur == chunk) { break }\n      else { h += cur.height }\n    }\n  }\n  return h\n}\n\n// Compute the character length of a line, taking into account\n// collapsed ranges (see markText) that might hide parts, and join\n// other lines onto it.\nfunction lineLength(line) {\n  if (line.height == 0) { return 0 }\n  var len = line.text.length, merged, cur = line\n  while (merged = collapsedSpanAtStart(cur)) {\n    var found = merged.find(0, true)\n    cur = found.from.line\n    len += found.from.ch - found.to.ch\n  }\n  cur = line\n  while (merged = collapsedSpanAtEnd(cur)) {\n    var found$1 = merged.find(0, true)\n    len -= cur.text.length - found$1.from.ch\n    cur = found$1.to.line\n    len += cur.text.length - found$1.to.ch\n  }\n  return len\n}\n\n// Find the longest line in the document.\nfunction findMaxLine(cm) {\n  var d = cm.display, doc = cm.doc\n  d.maxLine = getLine(doc, doc.first)\n  d.maxLineLength = lineLength(d.maxLine)\n  d.maxLineChanged = true\n  doc.iter(function (line) {\n    var len = lineLength(line)\n    if (len > d.maxLineLength) {\n      d.maxLineLength = len\n      d.maxLine = line\n    }\n  })\n}\n\n// BIDI HELPERS\n\nfunction iterateBidiSections(order, from, to, f) {\n  if (!order) { return f(from, to, \"ltr\") }\n  var found = false\n  for (var i = 0; i < order.length; ++i) {\n    var part = order[i]\n    if (part.from < to && part.to > from || from == to && part.to == from) {\n      f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\")\n      found = true\n    }\n  }\n  if (!found) { f(from, to, \"ltr\") }\n}\n\nfunction bidiLeft(part) { return part.level % 2 ? part.to : part.from }\nfunction bidiRight(part) { return part.level % 2 ? part.from : part.to }\n\nfunction lineLeft(line) { var order = getOrder(line); return order ? bidiLeft(order[0]) : 0 }\nfunction lineRight(line) {\n  var order = getOrder(line)\n  if (!order) { return line.text.length }\n  return bidiRight(lst(order))\n}\n\nfunction compareBidiLevel(order, a, b) {\n  var linedir = order[0].level\n  if (a == linedir) { return true }\n  if (b == linedir) { return false }\n  return a < b\n}\n\nvar bidiOther = null\nfunction getBidiPartAt(order, pos) {\n  var found\n  bidiOther = null\n  for (var i = 0; i < order.length; ++i) {\n    var cur = order[i]\n    if (cur.from < pos && cur.to > pos) { return i }\n    if ((cur.from == pos || cur.to == pos)) {\n      if (found == null) {\n        found = i\n      } else if (compareBidiLevel(order, cur.level, order[found].level)) {\n        if (cur.from != cur.to) { bidiOther = found }\n        return i\n      } else {\n        if (cur.from != cur.to) { bidiOther = i }\n        return found\n      }\n    }\n  }\n  return found\n}\n\nfunction moveInLine(line, pos, dir, byUnit) {\n  if (!byUnit) { return pos + dir }\n  do { pos += dir }\n  while (pos > 0 && isExtendingChar(line.text.charAt(pos)))\n  return pos\n}\n\n// This is needed in order to move 'visually' through bi-directional\n// text -- i.e., pressing left should make the cursor go left, even\n// when in RTL text. The tricky part is the 'jumps', where RTL and\n// LTR text touch each other. This often requires the cursor offset\n// to move more than one unit, in order to visually move one unit.\nfunction moveVisually(line, start, dir, byUnit) {\n  var bidi = getOrder(line)\n  if (!bidi) { return moveLogically(line, start, dir, byUnit) }\n  var pos = getBidiPartAt(bidi, start), part = bidi[pos]\n  var target = moveInLine(line, start, part.level % 2 ? -dir : dir, byUnit)\n\n  for (;;) {\n    if (target > part.from && target < part.to) { return target }\n    if (target == part.from || target == part.to) {\n      if (getBidiPartAt(bidi, target) == pos) { return target }\n      part = bidi[pos += dir]\n      return (dir > 0) == part.level % 2 ? part.to : part.from\n    } else {\n      part = bidi[pos += dir]\n      if (!part) { return null }\n      if ((dir > 0) == part.level % 2)\n        { target = moveInLine(line, part.to, -1, byUnit) }\n      else\n        { target = moveInLine(line, part.from, 1, byUnit) }\n    }\n  }\n}\n\nfunction moveLogically(line, start, dir, byUnit) {\n  var target = start + dir\n  if (byUnit) { while (target > 0 && isExtendingChar(line.text.charAt(target))) { target += dir } }\n  return target < 0 || target > line.text.length ? null : target\n}\n\n// Bidirectional ordering algorithm\n// See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n// that this (partially) implements.\n\n// One-char codes used for character types:\n// L (L):   Left-to-Right\n// R (R):   Right-to-Left\n// r (AL):  Right-to-Left Arabic\n// 1 (EN):  European Number\n// + (ES):  European Number Separator\n// % (ET):  European Number Terminator\n// n (AN):  Arabic Number\n// , (CS):  Common Number Separator\n// m (NSM): Non-Spacing Mark\n// b (BN):  Boundary Neutral\n// s (B):   Paragraph Separator\n// t (S):   Segment Separator\n// w (WS):  Whitespace\n// N (ON):  Other Neutrals\n\n// Returns null if characters are ordered as they appear\n// (left-to-right), or an array of sections ({from, to, level}\n// objects) in the order in which they occur visually.\nvar bidiOrdering = (function() {\n  // Character types for codepoints 0 to 0xff\n  var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\"\n  // Character types for codepoints 0x600 to 0x6f9\n  var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\"\n  function charType(code) {\n    if (code <= 0xf7) { return lowTypes.charAt(code) }\n    else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n    else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n    else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n    else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n    else if (code == 0x200c) { return \"b\" }\n    else { return \"L\" }\n  }\n\n  var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/\n  var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/\n  // Browsers seem to always treat the boundaries of block elements as being L.\n  var outerType = \"L\"\n\n  function BidiSpan(level, from, to) {\n    this.level = level\n    this.from = from; this.to = to\n  }\n\n  return function(str) {\n    if (!bidiRE.test(str)) { return false }\n    var len = str.length, types = []\n    for (var i = 0; i < len; ++i)\n      { types.push(charType(str.charCodeAt(i))) }\n\n    // W1. Examine each non-spacing mark (NSM) in the level run, and\n    // change the type of the NSM to the type of the previous\n    // character. If the NSM is at the start of the level run, it will\n    // get the type of sor.\n    for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n      var type = types[i$1]\n      if (type == \"m\") { types[i$1] = prev }\n      else { prev = type }\n    }\n\n    // W2. Search backwards from each instance of a European number\n    // until the first strong type (R, L, AL, or sor) is found. If an\n    // AL is found, change the type of the European number to Arabic\n    // number.\n    // W3. Change all ALs to R.\n    for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n      var type$1 = types[i$2]\n      if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\" }\n      else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\" } }\n    }\n\n    // W4. A single European separator between two European numbers\n    // changes to a European number. A single common separator between\n    // two numbers of the same type changes to that type.\n    for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n      var type$2 = types[i$3]\n      if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\" }\n      else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n               (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1 }\n      prev$1 = type$2\n    }\n\n    // W5. A sequence of European terminators adjacent to European\n    // numbers changes to all European numbers.\n    // W6. Otherwise, separators and terminators change to Other\n    // Neutral.\n    for (var i$4 = 0; i$4 < len; ++i$4) {\n      var type$3 = types[i$4]\n      if (type$3 == \",\") { types[i$4] = \"N\" }\n      else if (type$3 == \"%\") {\n        var end = (void 0)\n        for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n        var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\"\n        for (var j = i$4; j < end; ++j) { types[j] = replace }\n        i$4 = end - 1\n      }\n    }\n\n    // W7. Search backwards from each instance of a European number\n    // until the first strong type (R, L, or sor) is found. If an L is\n    // found, then change the type of the European number to L.\n    for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n      var type$4 = types[i$5]\n      if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\" }\n      else if (isStrong.test(type$4)) { cur$1 = type$4 }\n    }\n\n    // N1. A sequence of neutrals takes the direction of the\n    // surrounding strong text if the text on both sides has the same\n    // direction. European and Arabic numbers act as if they were R in\n    // terms of their influence on neutrals. Start-of-level-run (sor)\n    // and end-of-level-run (eor) are used at level run boundaries.\n    // N2. Any remaining neutrals take the embedding direction.\n    for (var i$6 = 0; i$6 < len; ++i$6) {\n      if (isNeutral.test(types[i$6])) {\n        var end$1 = (void 0)\n        for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n        var before = (i$6 ? types[i$6-1] : outerType) == \"L\"\n        var after = (end$1 < len ? types[end$1] : outerType) == \"L\"\n        var replace$1 = before || after ? \"L\" : \"R\"\n        for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1 }\n        i$6 = end$1 - 1\n      }\n    }\n\n    // Here we depart from the documented algorithm, in order to avoid\n    // building up an actual levels array. Since there are only three\n    // levels (0, 1, 2) in an implementation that doesn't take\n    // explicit embedding into account, we can build up the order on\n    // the fly, without following the level-based algorithm.\n    var order = [], m\n    for (var i$7 = 0; i$7 < len;) {\n      if (countsAsLeft.test(types[i$7])) {\n        var start = i$7\n        for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n        order.push(new BidiSpan(0, start, i$7))\n      } else {\n        var pos = i$7, at = order.length\n        for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n        for (var j$2 = pos; j$2 < i$7;) {\n          if (countsAsNum.test(types[j$2])) {\n            if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)) }\n            var nstart = j$2\n            for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n            order.splice(at, 0, new BidiSpan(2, nstart, j$2))\n            pos = j$2\n          } else { ++j$2 }\n        }\n        if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)) }\n      }\n    }\n    if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n      order[0].from = m[0].length\n      order.unshift(new BidiSpan(0, 0, m[0].length))\n    }\n    if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n      lst(order).to -= m[0].length\n      order.push(new BidiSpan(0, len - m[0].length, len))\n    }\n    if (order[0].level == 2)\n      { order.unshift(new BidiSpan(1, order[0].to, order[0].to)) }\n    if (order[0].level != lst(order).level)\n      { order.push(new BidiSpan(order[0].level, len, len)) }\n\n    return order\n  }\n})()\n\n// Get the bidi ordering for the given line (and cache it). Returns\n// false for lines that are fully left-to-right, and an array of\n// BidiSpan objects otherwise.\nfunction getOrder(line) {\n  var order = line.order\n  if (order == null) { order = line.order = bidiOrdering(line.text) }\n  return order\n}\n\n// EVENT HANDLING\n\n// Lightweight event framework. on/off also work on DOM nodes,\n// registering native DOM handlers.\n\nvar noHandlers = []\n\nvar on = function(emitter, type, f) {\n  if (emitter.addEventListener) {\n    emitter.addEventListener(type, f, false)\n  } else if (emitter.attachEvent) {\n    emitter.attachEvent(\"on\" + type, f)\n  } else {\n    var map = emitter._handlers || (emitter._handlers = {})\n    map[type] = (map[type] || noHandlers).concat(f)\n  }\n}\n\nfunction getHandlers(emitter, type) {\n  return emitter._handlers && emitter._handlers[type] || noHandlers\n}\n\nfunction off(emitter, type, f) {\n  if (emitter.removeEventListener) {\n    emitter.removeEventListener(type, f, false)\n  } else if (emitter.detachEvent) {\n    emitter.detachEvent(\"on\" + type, f)\n  } else {\n    var map = emitter._handlers, arr = map && map[type]\n    if (arr) {\n      var index = indexOf(arr, f)\n      if (index > -1)\n        { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)) }\n    }\n  }\n}\n\nfunction signal(emitter, type /*, values...*/) {\n  var handlers = getHandlers(emitter, type)\n  if (!handlers.length) { return }\n  var args = Array.prototype.slice.call(arguments, 2)\n  for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args) }\n}\n\n// The DOM events that CodeMirror handles can be overridden by\n// registering a (non-DOM) handler on the editor for the event name,\n// and preventDefault-ing the event in that handler.\nfunction signalDOMEvent(cm, e, override) {\n  if (typeof e == \"string\")\n    { e = {type: e, preventDefault: function() { this.defaultPrevented = true }} }\n  signal(cm, override || e.type, cm, e)\n  return e_defaultPrevented(e) || e.codemirrorIgnore\n}\n\nfunction signalCursorActivity(cm) {\n  var arr = cm._handlers && cm._handlers.cursorActivity\n  if (!arr) { return }\n  var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = [])\n  for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n    { set.push(arr[i]) } }\n}\n\nfunction hasHandler(emitter, type) {\n  return getHandlers(emitter, type).length > 0\n}\n\n// Add on and off methods to a constructor's prototype, to make\n// registering events on such objects more convenient.\nfunction eventMixin(ctor) {\n  ctor.prototype.on = function(type, f) {on(this, type, f)}\n  ctor.prototype.off = function(type, f) {off(this, type, f)}\n}\n\n// Due to the fact that we still support jurassic IE versions, some\n// compatibility wrappers are needed.\n\nfunction e_preventDefault(e) {\n  if (e.preventDefault) { e.preventDefault() }\n  else { e.returnValue = false }\n}\nfunction e_stopPropagation(e) {\n  if (e.stopPropagation) { e.stopPropagation() }\n  else { e.cancelBubble = true }\n}\nfunction e_defaultPrevented(e) {\n  return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n}\nfunction e_stop(e) {e_preventDefault(e); e_stopPropagation(e)}\n\nfunction e_target(e) {return e.target || e.srcElement}\nfunction e_button(e) {\n  var b = e.which\n  if (b == null) {\n    if (e.button & 1) { b = 1 }\n    else if (e.button & 2) { b = 3 }\n    else if (e.button & 4) { b = 2 }\n  }\n  if (mac && e.ctrlKey && b == 1) { b = 3 }\n  return b\n}\n\n// Detect drag-and-drop\nvar dragAndDrop = function() {\n  // There is *some* kind of drag-and-drop support in IE6-8, but I\n  // couldn't get it to work yet.\n  if (ie && ie_version < 9) { return false }\n  var div = elt('div')\n  return \"draggable\" in div || \"dragDrop\" in div\n}()\n\nvar zwspSupported\nfunction zeroWidthElement(measure) {\n  if (zwspSupported == null) {\n    var test = elt(\"span\", \"\\u200b\")\n    removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]))\n    if (measure.firstChild.offsetHeight != 0)\n      { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8) }\n  }\n  var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n    elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\")\n  node.setAttribute(\"cm-text\", \"\")\n  return node\n}\n\n// Feature-detect IE's crummy client rect reporting for bidi text\nvar badBidiRects\nfunction hasBadBidiRects(measure) {\n  if (badBidiRects != null) { return badBidiRects }\n  var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"))\n  var r0 = range(txt, 0, 1).getBoundingClientRect()\n  var r1 = range(txt, 1, 2).getBoundingClientRect()\n  removeChildren(measure)\n  if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n  return badBidiRects = (r1.right - r0.right < 3)\n}\n\n// See if \"\".split is the broken IE version, if so, provide an\n// alternative way to split lines.\nvar splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n  var pos = 0, result = [], l = string.length\n  while (pos <= l) {\n    var nl = string.indexOf(\"\\n\", pos)\n    if (nl == -1) { nl = string.length }\n    var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl)\n    var rt = line.indexOf(\"\\r\")\n    if (rt != -1) {\n      result.push(line.slice(0, rt))\n      pos += rt + 1\n    } else {\n      result.push(line)\n      pos = nl + 1\n    }\n  }\n  return result\n} : function (string) { return string.split(/\\r\\n?|\\n/); }\n\nvar hasSelection = window.getSelection ? function (te) {\n  try { return te.selectionStart != te.selectionEnd }\n  catch(e) { return false }\n} : function (te) {\n  var range\n  try {range = te.ownerDocument.selection.createRange()}\n  catch(e) {}\n  if (!range || range.parentElement() != te) { return false }\n  return range.compareEndPoints(\"StartToEnd\", range) != 0\n}\n\nvar hasCopyEvent = (function () {\n  var e = elt(\"div\")\n  if (\"oncopy\" in e) { return true }\n  e.setAttribute(\"oncopy\", \"return;\")\n  return typeof e.oncopy == \"function\"\n})()\n\nvar badZoomedRects = null\nfunction hasBadZoomedRects(measure) {\n  if (badZoomedRects != null) { return badZoomedRects }\n  var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"))\n  var normal = node.getBoundingClientRect()\n  var fromRange = range(node, 0, 1).getBoundingClientRect()\n  return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n}\n\nvar modes = {};\nvar mimeModes = {};\n// Extra arguments are stored as the mode's dependencies, which is\n// used by (legacy) mechanisms like loadmode.js to automatically\n// load a mode. (Preferred mechanism is the require/define calls.)\nfunction defineMode(name, mode) {\n  if (arguments.length > 2)\n    { mode.dependencies = Array.prototype.slice.call(arguments, 2) }\n  modes[name] = mode\n}\n\nfunction defineMIME(mime, spec) {\n  mimeModes[mime] = spec\n}\n\n// Given a MIME type, a {name, ...options} config object, or a name\n// string, return a mode config object.\nfunction resolveMode(spec) {\n  if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n    spec = mimeModes[spec]\n  } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n    var found = mimeModes[spec.name]\n    if (typeof found == \"string\") { found = {name: found} }\n    spec = createObj(found, spec)\n    spec.name = found.name\n  } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n    return resolveMode(\"application/xml\")\n  } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n    return resolveMode(\"application/json\")\n  }\n  if (typeof spec == \"string\") { return {name: spec} }\n  else { return spec || {name: \"null\"} }\n}\n\n// Given a mode spec (anything that resolveMode accepts), find and\n// initialize an actual mode object.\nfunction getMode(options, spec) {\n  spec = resolveMode(spec)\n  var mfactory = modes[spec.name]\n  if (!mfactory) { return getMode(options, \"text/plain\") }\n  var modeObj = mfactory(options, spec)\n  if (modeExtensions.hasOwnProperty(spec.name)) {\n    var exts = modeExtensions[spec.name]\n    for (var prop in exts) {\n      if (!exts.hasOwnProperty(prop)) { continue }\n      if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop] }\n      modeObj[prop] = exts[prop]\n    }\n  }\n  modeObj.name = spec.name\n  if (spec.helperType) { modeObj.helperType = spec.helperType }\n  if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n    { modeObj[prop$1] = spec.modeProps[prop$1] } }\n\n  return modeObj\n}\n\n// This can be used to attach properties to mode objects from\n// outside the actual mode definition.\nvar modeExtensions = {}\nfunction extendMode(mode, properties) {\n  var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {})\n  copyObj(properties, exts)\n}\n\nfunction copyState(mode, state) {\n  if (state === true) { return state }\n  if (mode.copyState) { return mode.copyState(state) }\n  var nstate = {}\n  for (var n in state) {\n    var val = state[n]\n    if (val instanceof Array) { val = val.concat([]) }\n    nstate[n] = val\n  }\n  return nstate\n}\n\n// Given a mode and a state (for that mode), find the inner mode and\n// state at the position that the state refers to.\nfunction innerMode(mode, state) {\n  var info\n  while (mode.innerMode) {\n    info = mode.innerMode(state)\n    if (!info || info.mode == mode) { break }\n    state = info.state\n    mode = info.mode\n  }\n  return info || {mode: mode, state: state}\n}\n\nfunction startState(mode, a1, a2) {\n  return mode.startState ? mode.startState(a1, a2) : true\n}\n\n// STRING STREAM\n\n// Fed to the mode parsers, provides helper functions to make\n// parsers more succinct.\n\nvar StringStream = function(string, tabSize) {\n  this.pos = this.start = 0\n  this.string = string\n  this.tabSize = tabSize || 8\n  this.lastColumnPos = this.lastColumnValue = 0\n  this.lineStart = 0\n}\n\nStringStream.prototype = {\n  eol: function() {return this.pos >= this.string.length},\n  sol: function() {return this.pos == this.lineStart},\n  peek: function() {return this.string.charAt(this.pos) || undefined},\n  next: function() {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  },\n  eat: function(match) {\n    var ch = this.string.charAt(this.pos)\n    var ok\n    if (typeof match == \"string\") { ok = ch == match }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)) }\n    if (ok) {++this.pos; return ch}\n  },\n  eatWhile: function(match) {\n    var start = this.pos\n    while (this.eat(match)){}\n    return this.pos > start\n  },\n  eatSpace: function() {\n    var this$1 = this;\n\n    var start = this.pos\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this$1.pos }\n    return this.pos > start\n  },\n  skipToEnd: function() {this.pos = this.string.length},\n  skipTo: function(ch) {\n    var found = this.string.indexOf(ch, this.pos)\n    if (found > -1) {this.pos = found; return true}\n  },\n  backUp: function(n) {this.pos -= n},\n  column: function() {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue)\n      this.lastColumnPos = this.start\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  },\n  indentation: function() {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  },\n  match: function(pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; }\n      var substr = this.string.substr(this.pos, pattern.length)\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern)\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length }\n      return match\n    }\n  },\n  current: function(){return this.string.slice(this.start, this.pos)},\n  hideFirstChars: function(n, inner) {\n    this.lineStart += n\n    try { return inner() }\n    finally { this.lineStart -= n }\n  }\n}\n\n// Compute a style array (an array starting with a mode generation\n// -- for invalidation -- followed by pairs of end positions and\n// style strings), which is used to highlight the tokens on the\n// line.\nfunction highlightLine(cm, line, state, forceToEnd) {\n  // A styles array always starts with a number identifying the\n  // mode/overlays that it is based on (for easy invalidation).\n  var st = [cm.state.modeGen], lineClasses = {}\n  // Compute the base array of styles\n  runMode(cm, line.text, cm.doc.mode, state, function (end, style) { return st.push(end, style); },\n    lineClasses, forceToEnd)\n\n  // Run overlays, adjust style array.\n  var loop = function ( o ) {\n    var overlay = cm.state.overlays[o], i = 1, at = 0\n    runMode(cm, line.text, overlay.mode, true, function (end, style) {\n      var start = i\n      // Ensure there's a token end at the current position, and that i points at it\n      while (at < end) {\n        var i_end = st[i]\n        if (i_end > end)\n          { st.splice(i, 1, end, st[i+1], i_end) }\n        i += 2\n        at = Math.min(end, i_end)\n      }\n      if (!style) { return }\n      if (overlay.opaque) {\n        st.splice(start, i - start, end, \"overlay \" + style)\n        i = start + 2\n      } else {\n        for (; start < i; start += 2) {\n          var cur = st[start+1]\n          st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style\n        }\n      }\n    }, lineClasses)\n  };\n\n  for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n  return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n}\n\nfunction getLineStyles(cm, line, updateFrontier) {\n  if (!line.styles || line.styles[0] != cm.state.modeGen) {\n    var state = getStateBefore(cm, lineNo(line))\n    var result = highlightLine(cm, line, line.text.length > cm.options.maxHighlightLength ? copyState(cm.doc.mode, state) : state)\n    line.stateAfter = state\n    line.styles = result.styles\n    if (result.classes) { line.styleClasses = result.classes }\n    else if (line.styleClasses) { line.styleClasses = null }\n    if (updateFrontier === cm.doc.frontier) { cm.doc.frontier++ }\n  }\n  return line.styles\n}\n\nfunction getStateBefore(cm, n, precise) {\n  var doc = cm.doc, display = cm.display\n  if (!doc.mode.startState) { return true }\n  var pos = findStartLine(cm, n, precise), state = pos > doc.first && getLine(doc, pos-1).stateAfter\n  if (!state) { state = startState(doc.mode) }\n  else { state = copyState(doc.mode, state) }\n  doc.iter(pos, n, function (line) {\n    processLine(cm, line.text, state)\n    var save = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo\n    line.stateAfter = save ? copyState(doc.mode, state) : null\n    ++pos\n  })\n  if (precise) { doc.frontier = pos }\n  return state\n}\n\n// Lightweight form of highlight -- proceed over this line and\n// update state, but don't save a style array. Used for lines that\n// aren't currently visible.\nfunction processLine(cm, text, state, startAt) {\n  var mode = cm.doc.mode\n  var stream = new StringStream(text, cm.options.tabSize)\n  stream.start = stream.pos = startAt || 0\n  if (text == \"\") { callBlankLine(mode, state) }\n  while (!stream.eol()) {\n    readToken(mode, stream, state)\n    stream.start = stream.pos\n  }\n}\n\nfunction callBlankLine(mode, state) {\n  if (mode.blankLine) { return mode.blankLine(state) }\n  if (!mode.innerMode) { return }\n  var inner = innerMode(mode, state)\n  if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n}\n\nfunction readToken(mode, stream, state, inner) {\n  for (var i = 0; i < 10; i++) {\n    if (inner) { inner[0] = innerMode(mode, state).mode }\n    var style = mode.token(stream, state)\n    if (stream.pos > stream.start) { return style }\n  }\n  throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n}\n\n// Utility for getTokenAt and getLineTokens\nfunction takeToken(cm, pos, precise, asArray) {\n  var getObj = function (copy) { return ({\n    start: stream.start, end: stream.pos,\n    string: stream.current(),\n    type: style || null,\n    state: copy ? copyState(doc.mode, state) : state\n  }); }\n\n  var doc = cm.doc, mode = doc.mode, style\n  pos = clipPos(doc, pos)\n  var line = getLine(doc, pos.line), state = getStateBefore(cm, pos.line, precise)\n  var stream = new StringStream(line.text, cm.options.tabSize), tokens\n  if (asArray) { tokens = [] }\n  while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n    stream.start = stream.pos\n    style = readToken(mode, stream, state)\n    if (asArray) { tokens.push(getObj(true)) }\n  }\n  return asArray ? tokens : getObj()\n}\n\nfunction extractLineClasses(type, output) {\n  if (type) { for (;;) {\n    var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/)\n    if (!lineClass) { break }\n    type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length)\n    var prop = lineClass[1] ? \"bgClass\" : \"textClass\"\n    if (output[prop] == null)\n      { output[prop] = lineClass[2] }\n    else if (!(new RegExp(\"(?:^|\\s)\" + lineClass[2] + \"(?:$|\\s)\")).test(output[prop]))\n      { output[prop] += \" \" + lineClass[2] }\n  } }\n  return type\n}\n\n// Run the given mode's parser over a line, calling f for each token.\nfunction runMode(cm, text, mode, state, f, lineClasses, forceToEnd) {\n  var flattenSpans = mode.flattenSpans\n  if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans }\n  var curStart = 0, curStyle = null\n  var stream = new StringStream(text, cm.options.tabSize), style\n  var inner = cm.options.addModeClass && [null]\n  if (text == \"\") { extractLineClasses(callBlankLine(mode, state), lineClasses) }\n  while (!stream.eol()) {\n    if (stream.pos > cm.options.maxHighlightLength) {\n      flattenSpans = false\n      if (forceToEnd) { processLine(cm, text, state, stream.pos) }\n      stream.pos = text.length\n      style = null\n    } else {\n      style = extractLineClasses(readToken(mode, stream, state, inner), lineClasses)\n    }\n    if (inner) {\n      var mName = inner[0].name\n      if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName) }\n    }\n    if (!flattenSpans || curStyle != style) {\n      while (curStart < stream.start) {\n        curStart = Math.min(stream.start, curStart + 5000)\n        f(curStart, curStyle)\n      }\n      curStyle = style\n    }\n    stream.start = stream.pos\n  }\n  while (curStart < stream.pos) {\n    // Webkit seems to refuse to render text nodes longer than 57444\n    // characters, and returns inaccurate measurements in nodes\n    // starting around 5000 chars.\n    var pos = Math.min(stream.pos, curStart + 5000)\n    f(pos, curStyle)\n    curStart = pos\n  }\n}\n\n// Finds the line to start with when starting a parse. Tries to\n// find a line with a stateAfter, so that it can start with a\n// valid state. If that fails, it returns the line with the\n// smallest indentation, which tends to need the least context to\n// parse correctly.\nfunction findStartLine(cm, n, precise) {\n  var minindent, minline, doc = cm.doc\n  var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100)\n  for (var search = n; search > lim; --search) {\n    if (search <= doc.first) { return doc.first }\n    var line = getLine(doc, search - 1)\n    if (line.stateAfter && (!precise || search <= doc.frontier)) { return search }\n    var indented = countColumn(line.text, null, cm.options.tabSize)\n    if (minline == null || minindent > indented) {\n      minline = search - 1\n      minindent = indented\n    }\n  }\n  return minline\n}\n\n// LINE DATA STRUCTURE\n\n// Line objects. These hold state related to a line, including\n// highlighting info (the styles array).\nfunction Line(text, markedSpans, estimateHeight) {\n  this.text = text\n  attachMarkedSpans(this, markedSpans)\n  this.height = estimateHeight ? estimateHeight(this) : 1\n}\neventMixin(Line)\nLine.prototype.lineNo = function() { return lineNo(this) }\n\n// Change the content (text, markers) of a line. Automatically\n// invalidates cached information and tries to re-estimate the\n// line's height.\nfunction updateLine(line, text, markedSpans, estimateHeight) {\n  line.text = text\n  if (line.stateAfter) { line.stateAfter = null }\n  if (line.styles) { line.styles = null }\n  if (line.order != null) { line.order = null }\n  detachMarkedSpans(line)\n  attachMarkedSpans(line, markedSpans)\n  var estHeight = estimateHeight ? estimateHeight(line) : 1\n  if (estHeight != line.height) { updateLineHeight(line, estHeight) }\n}\n\n// Detach a line from the document tree and its markers.\nfunction cleanUpLine(line) {\n  line.parent = null\n  detachMarkedSpans(line)\n}\n\n// Convert a style as returned by a mode (either null, or a string\n// containing one or more styles) to a CSS style. This is cached,\n// and also looks for line-wide styles.\nvar styleToClassCache = {};\nvar styleToClassCacheWithMode = {};\nfunction interpretTokenStyle(style, options) {\n  if (!style || /^\\s*$/.test(style)) { return null }\n  var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache\n  return cache[style] ||\n    (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n}\n\n// Render the DOM representation of the text of a line. Also builds\n// up a 'line map', which points at the DOM nodes that represent\n// specific stretches of text, and is used by the measuring code.\n// The returned object contains the DOM node, this map, and\n// information about line-wide styles that were set by the mode.\nfunction buildLineContent(cm, lineView) {\n  // The padding-right forces the element to have a 'border', which\n  // is needed on Webkit to be able to get line-level bounding\n  // rectangles for it (in measureChar).\n  var content = elt(\"span\", null, null, webkit ? \"padding-right: .1px\" : null)\n  var builder = {pre: elt(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                 col: 0, pos: 0, cm: cm,\n                 trailingSpace: false,\n                 splitSpaces: (ie || webkit) && cm.getOption(\"lineWrapping\")}\n  // hide from accessibility tree\n  content.setAttribute(\"role\", \"presentation\")\n  builder.pre.setAttribute(\"role\", \"presentation\")\n  lineView.measure = {}\n\n  // Iterate over the logical lines that make up this visual line.\n  for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n    var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0)\n    builder.pos = 0\n    builder.addToken = buildToken\n    // Optionally wire in some hacks into the token-rendering\n    // algorithm, to deal with browser quirks.\n    if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line)))\n      { builder.addToken = buildTokenBadBidi(builder.addToken, order) }\n    builder.map = []\n    var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line)\n    insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate))\n    if (line.styleClasses) {\n      if (line.styleClasses.bgClass)\n        { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\") }\n      if (line.styleClasses.textClass)\n        { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\") }\n    }\n\n    // Ensure at least a single node is present, for measuring.\n    if (builder.map.length == 0)\n      { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))) }\n\n    // Store the map and a cache object for the current logical line\n    if (i == 0) {\n      lineView.measure.map = builder.map\n      lineView.measure.cache = {}\n    } else {\n      ;(lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n      ;(lineView.measure.caches || (lineView.measure.caches = [])).push({})\n    }\n  }\n\n  // See issue #2901\n  if (webkit) {\n    var last = builder.content.lastChild\n    if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n      { builder.content.className = \"cm-tab-wrap-hack\" }\n  }\n\n  signal(cm, \"renderLine\", cm, lineView.line, builder.pre)\n  if (builder.pre.className)\n    { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\") }\n\n  return builder\n}\n\nfunction defaultSpecialCharPlaceholder(ch) {\n  var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\")\n  token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16)\n  token.setAttribute(\"aria-label\", token.title)\n  return token\n}\n\n// Build up the DOM representation for a single token, and add it to\n// the line map. Takes care to render special characters separately.\nfunction buildToken(builder, text, style, startStyle, endStyle, title, css) {\n  if (!text) { return }\n  var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text\n  var special = builder.cm.state.specialChars, mustWrap = false\n  var content\n  if (!special.test(text)) {\n    builder.col += text.length\n    content = document.createTextNode(displayText)\n    builder.map.push(builder.pos, builder.pos + text.length, content)\n    if (ie && ie_version < 9) { mustWrap = true }\n    builder.pos += text.length\n  } else {\n    content = document.createDocumentFragment()\n    var pos = 0\n    while (true) {\n      special.lastIndex = pos\n      var m = special.exec(text)\n      var skipped = m ? m.index - pos : text.length - pos\n      if (skipped) {\n        var txt = document.createTextNode(displayText.slice(pos, pos + skipped))\n        if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])) }\n        else { content.appendChild(txt) }\n        builder.map.push(builder.pos, builder.pos + skipped, txt)\n        builder.col += skipped\n        builder.pos += skipped\n      }\n      if (!m) { break }\n      pos += skipped + 1\n      var txt$1 = (void 0)\n      if (m[0] == \"\\t\") {\n        var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize\n        txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"))\n        txt$1.setAttribute(\"role\", \"presentation\")\n        txt$1.setAttribute(\"cm-text\", \"\\t\")\n        builder.col += tabWidth\n      } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n        txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"))\n        txt$1.setAttribute(\"cm-text\", m[0])\n        builder.col += 1\n      } else {\n        txt$1 = builder.cm.options.specialCharPlaceholder(m[0])\n        txt$1.setAttribute(\"cm-text\", m[0])\n        if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])) }\n        else { content.appendChild(txt$1) }\n        builder.col += 1\n      }\n      builder.map.push(builder.pos, builder.pos + 1, txt$1)\n      builder.pos++\n    }\n  }\n  builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32\n  if (style || startStyle || endStyle || mustWrap || css) {\n    var fullStyle = style || \"\"\n    if (startStyle) { fullStyle += startStyle }\n    if (endStyle) { fullStyle += endStyle }\n    var token = elt(\"span\", [content], fullStyle, css)\n    if (title) { token.title = title }\n    return builder.content.appendChild(token)\n  }\n  builder.content.appendChild(content)\n}\n\nfunction splitSpaces(text, trailingBefore) {\n  if (text.length > 1 && !/  /.test(text)) { return text }\n  var spaceBefore = trailingBefore, result = \"\"\n  for (var i = 0; i < text.length; i++) {\n    var ch = text.charAt(i)\n    if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n      { ch = \"\\u00a0\" }\n    result += ch\n    spaceBefore = ch == \" \"\n  }\n  return result\n}\n\n// Work around nonsense dimensions being reported for stretches of\n// right-to-left text.\nfunction buildTokenBadBidi(inner, order) {\n  return function (builder, text, style, startStyle, endStyle, title, css) {\n    style = style ? style + \" cm-force-border\" : \"cm-force-border\"\n    var start = builder.pos, end = start + text.length\n    for (;;) {\n      // Find the part that overlaps with the start of this text\n      var part = (void 0)\n      for (var i = 0; i < order.length; i++) {\n        part = order[i]\n        if (part.to > start && part.from <= start) { break }\n      }\n      if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, title, css) }\n      inner(builder, text.slice(0, part.to - start), style, startStyle, null, title, css)\n      startStyle = null\n      text = text.slice(part.to - start)\n      start = part.to\n    }\n  }\n}\n\nfunction buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n  var widget = !ignoreWidget && marker.widgetNode\n  if (widget) { builder.map.push(builder.pos, builder.pos + size, widget) }\n  if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n    if (!widget)\n      { widget = builder.content.appendChild(document.createElement(\"span\")) }\n    widget.setAttribute(\"cm-marker\", marker.id)\n  }\n  if (widget) {\n    builder.cm.display.input.setUneditable(widget)\n    builder.content.appendChild(widget)\n  }\n  builder.pos += size\n  builder.trailingSpace = false\n}\n\n// Outputs a number of spans to make up a line, taking highlighting\n// and marked text into account.\nfunction insertLineContent(line, builder, styles) {\n  var spans = line.markedSpans, allText = line.text, at = 0\n  if (!spans) {\n    for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n      { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)) }\n    return\n  }\n\n  var len = allText.length, pos = 0, i = 1, text = \"\", style, css\n  var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, title, collapsed\n  for (;;) {\n    if (nextChange == pos) { // Update current marker set\n      spanStyle = spanEndStyle = spanStartStyle = title = css = \"\"\n      collapsed = null; nextChange = Infinity\n      var foundBookmarks = [], endStyles = (void 0)\n      for (var j = 0; j < spans.length; ++j) {\n        var sp = spans[j], m = sp.marker\n        if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n          foundBookmarks.push(m)\n        } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n          if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n            nextChange = sp.to\n            spanEndStyle = \"\"\n          }\n          if (m.className) { spanStyle += \" \" + m.className }\n          if (m.css) { css = (css ? css + \";\" : \"\") + m.css }\n          if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle }\n          if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to) }\n          if (m.title && !title) { title = m.title }\n          if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n            { collapsed = sp }\n        } else if (sp.from > pos && nextChange > sp.from) {\n          nextChange = sp.from\n        }\n      }\n      if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n        { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1] } } }\n\n      if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n        { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]) } }\n      if (collapsed && (collapsed.from || 0) == pos) {\n        buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                           collapsed.marker, collapsed.from == null)\n        if (collapsed.to == null) { return }\n        if (collapsed.to == pos) { collapsed = false }\n      }\n    }\n    if (pos >= len) { break }\n\n    var upto = Math.min(len, nextChange)\n    while (true) {\n      if (text) {\n        var end = pos + text.length\n        if (!collapsed) {\n          var tokenText = end > upto ? text.slice(0, upto - pos) : text\n          builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                           spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", title, css)\n        }\n        if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n        pos = end\n        spanStartStyle = \"\"\n      }\n      text = allText.slice(at, at = styles[i++])\n      style = interpretTokenStyle(styles[i++], builder.cm.options)\n    }\n  }\n}\n\n\n// These objects are used to represent the visible (currently drawn)\n// part of the document. A LineView may correspond to multiple\n// logical lines, if those are connected by collapsed ranges.\nfunction LineView(doc, line, lineN) {\n  // The starting line\n  this.line = line\n  // Continuing lines, if any\n  this.rest = visualLineContinued(line)\n  // Number of logical lines in this visual line\n  this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1\n  this.node = this.text = null\n  this.hidden = lineIsHidden(doc, line)\n}\n\n// Create a range of LineView objects for the given lines.\nfunction buildViewArray(cm, from, to) {\n  var array = [], nextPos\n  for (var pos = from; pos < to; pos = nextPos) {\n    var view = new LineView(cm.doc, getLine(cm.doc, pos), pos)\n    nextPos = pos + view.size\n    array.push(view)\n  }\n  return array\n}\n\nvar operationGroup = null\n\nfunction pushOperation(op) {\n  if (operationGroup) {\n    operationGroup.ops.push(op)\n  } else {\n    op.ownsGroup = operationGroup = {\n      ops: [op],\n      delayedCallbacks: []\n    }\n  }\n}\n\nfunction fireCallbacksForOps(group) {\n  // Calls delayed callbacks and cursorActivity handlers until no\n  // new ones appear\n  var callbacks = group.delayedCallbacks, i = 0\n  do {\n    for (; i < callbacks.length; i++)\n      { callbacks[i].call(null) }\n    for (var j = 0; j < group.ops.length; j++) {\n      var op = group.ops[j]\n      if (op.cursorActivityHandlers)\n        { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n          { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm) } }\n    }\n  } while (i < callbacks.length)\n}\n\nfunction finishOperation(op, endCb) {\n  var group = op.ownsGroup\n  if (!group) { return }\n\n  try { fireCallbacksForOps(group) }\n  finally {\n    operationGroup = null\n    endCb(group)\n  }\n}\n\nvar orphanDelayedCallbacks = null\n\n// Often, we want to signal events at a point where we are in the\n// middle of some work, but don't want the handler to start calling\n// other methods on the editor, which might be in an inconsistent\n// state or simply not expect any other events to happen.\n// signalLater looks whether there are any handlers, and schedules\n// them to be executed when the last operation ends, or, if no\n// operation is active, when a timeout fires.\nfunction signalLater(emitter, type /*, values...*/) {\n  var arr = getHandlers(emitter, type)\n  if (!arr.length) { return }\n  var args = Array.prototype.slice.call(arguments, 2), list\n  if (operationGroup) {\n    list = operationGroup.delayedCallbacks\n  } else if (orphanDelayedCallbacks) {\n    list = orphanDelayedCallbacks\n  } else {\n    list = orphanDelayedCallbacks = []\n    setTimeout(fireOrphanDelayed, 0)\n  }\n  var loop = function ( i ) {\n    list.push(function () { return arr[i].apply(null, args); })\n  };\n\n  for (var i = 0; i < arr.length; ++i)\n    loop( i );\n}\n\nfunction fireOrphanDelayed() {\n  var delayed = orphanDelayedCallbacks\n  orphanDelayedCallbacks = null\n  for (var i = 0; i < delayed.length; ++i) { delayed[i]() }\n}\n\n// When an aspect of a line changes, a string is added to\n// lineView.changes. This updates the relevant part of the line's\n// DOM structure.\nfunction updateLineForChanges(cm, lineView, lineN, dims) {\n  for (var j = 0; j < lineView.changes.length; j++) {\n    var type = lineView.changes[j]\n    if (type == \"text\") { updateLineText(cm, lineView) }\n    else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims) }\n    else if (type == \"class\") { updateLineClasses(lineView) }\n    else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims) }\n  }\n  lineView.changes = null\n}\n\n// Lines with gutter elements, widgets or a background class need to\n// be wrapped, and have the extra elements added to the wrapper div\nfunction ensureLineWrapped(lineView) {\n  if (lineView.node == lineView.text) {\n    lineView.node = elt(\"div\", null, null, \"position: relative\")\n    if (lineView.text.parentNode)\n      { lineView.text.parentNode.replaceChild(lineView.node, lineView.text) }\n    lineView.node.appendChild(lineView.text)\n    if (ie && ie_version < 8) { lineView.node.style.zIndex = 2 }\n  }\n  return lineView.node\n}\n\nfunction updateLineBackground(lineView) {\n  var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass\n  if (cls) { cls += \" CodeMirror-linebackground\" }\n  if (lineView.background) {\n    if (cls) { lineView.background.className = cls }\n    else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null }\n  } else if (cls) {\n    var wrap = ensureLineWrapped(lineView)\n    lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild)\n  }\n}\n\n// Wrapper around buildLineContent which will reuse the structure\n// in display.externalMeasured when possible.\nfunction getLineContent(cm, lineView) {\n  var ext = cm.display.externalMeasured\n  if (ext && ext.line == lineView.line) {\n    cm.display.externalMeasured = null\n    lineView.measure = ext.measure\n    return ext.built\n  }\n  return buildLineContent(cm, lineView)\n}\n\n// Redraw the line's text. Interacts with the background and text\n// classes because the mode may output tokens that influence these\n// classes.\nfunction updateLineText(cm, lineView) {\n  var cls = lineView.text.className\n  var built = getLineContent(cm, lineView)\n  if (lineView.text == lineView.node) { lineView.node = built.pre }\n  lineView.text.parentNode.replaceChild(built.pre, lineView.text)\n  lineView.text = built.pre\n  if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n    lineView.bgClass = built.bgClass\n    lineView.textClass = built.textClass\n    updateLineClasses(lineView)\n  } else if (cls) {\n    lineView.text.className = cls\n  }\n}\n\nfunction updateLineClasses(lineView) {\n  updateLineBackground(lineView)\n  if (lineView.line.wrapClass)\n    { ensureLineWrapped(lineView).className = lineView.line.wrapClass }\n  else if (lineView.node != lineView.text)\n    { lineView.node.className = \"\" }\n  var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass\n  lineView.text.className = textClass || \"\"\n}\n\nfunction updateLineGutter(cm, lineView, lineN, dims) {\n  if (lineView.gutter) {\n    lineView.node.removeChild(lineView.gutter)\n    lineView.gutter = null\n  }\n  if (lineView.gutterBackground) {\n    lineView.node.removeChild(lineView.gutterBackground)\n    lineView.gutterBackground = null\n  }\n  if (lineView.line.gutterClass) {\n    var wrap = ensureLineWrapped(lineView)\n    lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                    (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"))\n    wrap.insertBefore(lineView.gutterBackground, lineView.text)\n  }\n  var markers = lineView.line.gutterMarkers\n  if (cm.options.lineNumbers || markers) {\n    var wrap$1 = ensureLineWrapped(lineView)\n    var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"))\n    cm.display.input.setUneditable(gutterWrap)\n    wrap$1.insertBefore(gutterWrap, lineView.text)\n    if (lineView.line.gutterClass)\n      { gutterWrap.className += \" \" + lineView.line.gutterClass }\n    if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n      { lineView.lineNumber = gutterWrap.appendChild(\n        elt(\"div\", lineNumberFor(cm.options, lineN),\n            \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n            (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))) }\n    if (markers) { for (var k = 0; k < cm.options.gutters.length; ++k) {\n      var id = cm.options.gutters[k], found = markers.hasOwnProperty(id) && markers[id]\n      if (found)\n        { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                   (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))) }\n    } }\n  }\n}\n\nfunction updateLineWidgets(cm, lineView, dims) {\n  if (lineView.alignable) { lineView.alignable = null }\n  for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n    next = node.nextSibling\n    if (node.className == \"CodeMirror-linewidget\")\n      { lineView.node.removeChild(node) }\n  }\n  insertLineWidgets(cm, lineView, dims)\n}\n\n// Build a line's DOM representation from scratch\nfunction buildLineElement(cm, lineView, lineN, dims) {\n  var built = getLineContent(cm, lineView)\n  lineView.text = lineView.node = built.pre\n  if (built.bgClass) { lineView.bgClass = built.bgClass }\n  if (built.textClass) { lineView.textClass = built.textClass }\n\n  updateLineClasses(lineView)\n  updateLineGutter(cm, lineView, lineN, dims)\n  insertLineWidgets(cm, lineView, dims)\n  return lineView.node\n}\n\n// A lineView may contain multiple logical lines (when merged by\n// collapsed spans). The widgets for all of them need to be drawn.\nfunction insertLineWidgets(cm, lineView, dims) {\n  insertLineWidgetsFor(cm, lineView.line, lineView, dims, true)\n  if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n    { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false) } }\n}\n\nfunction insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n  if (!line.widgets) { return }\n  var wrap = ensureLineWrapped(lineView)\n  for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n    var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\")\n    if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\") }\n    positionLineWidget(widget, node, lineView, dims)\n    cm.display.input.setUneditable(node)\n    if (allowAbove && widget.above)\n      { wrap.insertBefore(node, lineView.gutter || lineView.text) }\n    else\n      { wrap.appendChild(node) }\n    signalLater(widget, \"redraw\")\n  }\n}\n\nfunction positionLineWidget(widget, node, lineView, dims) {\n  if (widget.noHScroll) {\n    ;(lineView.alignable || (lineView.alignable = [])).push(node)\n    var width = dims.wrapperWidth\n    node.style.left = dims.fixedPos + \"px\"\n    if (!widget.coverGutter) {\n      width -= dims.gutterTotalWidth\n      node.style.paddingLeft = dims.gutterTotalWidth + \"px\"\n    }\n    node.style.width = width + \"px\"\n  }\n  if (widget.coverGutter) {\n    node.style.zIndex = 5\n    node.style.position = \"relative\"\n    if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\" }\n  }\n}\n\nfunction widgetHeight(widget) {\n  if (widget.height != null) { return widget.height }\n  var cm = widget.doc.cm\n  if (!cm) { return 0 }\n  if (!contains(document.body, widget.node)) {\n    var parentStyle = \"position: relative;\"\n    if (widget.coverGutter)\n      { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\" }\n    if (widget.noHScroll)\n      { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\" }\n    removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle))\n  }\n  return widget.height = widget.node.parentNode.offsetHeight\n}\n\n// Return true when the given mouse event happened in a widget\nfunction eventInWidget(display, e) {\n  for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n    if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n        (n.parentNode == display.sizer && n != display.mover))\n      { return true }\n  }\n}\n\n// POSITION MEASUREMENT\n\nfunction paddingTop(display) {return display.lineSpace.offsetTop}\nfunction paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\nfunction paddingH(display) {\n  if (display.cachedPaddingH) { return display.cachedPaddingH }\n  var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\"))\n  var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle\n  var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)}\n  if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data }\n  return data\n}\n\nfunction scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\nfunction displayWidth(cm) {\n  return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n}\nfunction displayHeight(cm) {\n  return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n}\n\n// Ensure the lineView.wrapping.heights array is populated. This is\n// an array of bottom offsets for the lines that make up a drawn\n// line. When lineWrapping is on, there might be more than one\n// height.\nfunction ensureLineHeights(cm, lineView, rect) {\n  var wrapping = cm.options.lineWrapping\n  var curWidth = wrapping && displayWidth(cm)\n  if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n    var heights = lineView.measure.heights = []\n    if (wrapping) {\n      lineView.measure.width = curWidth\n      var rects = lineView.text.firstChild.getClientRects()\n      for (var i = 0; i < rects.length - 1; i++) {\n        var cur = rects[i], next = rects[i + 1]\n        if (Math.abs(cur.bottom - next.bottom) > 2)\n          { heights.push((cur.bottom + next.top) / 2 - rect.top) }\n      }\n    }\n    heights.push(rect.bottom - rect.top)\n  }\n}\n\n// Find a line map (mapping character offsets to text nodes) and a\n// measurement cache for the given line number. (A line view might\n// contain multiple lines when collapsed ranges are present.)\nfunction mapFromLineView(lineView, line, lineN) {\n  if (lineView.line == line)\n    { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n  for (var i = 0; i < lineView.rest.length; i++)\n    { if (lineView.rest[i] == line)\n      { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n  for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n    { if (lineNo(lineView.rest[i$1]) > lineN)\n      { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n}\n\n// Render a line into the hidden node display.externalMeasured. Used\n// when measurement is needed for a line that's not in the viewport.\nfunction updateExternalMeasurement(cm, line) {\n  line = visualLine(line)\n  var lineN = lineNo(line)\n  var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN)\n  view.lineN = lineN\n  var built = view.built = buildLineContent(cm, view)\n  view.text = built.pre\n  removeChildrenAndAdd(cm.display.lineMeasure, built.pre)\n  return view\n}\n\n// Get a {top, bottom, left, right} box (in line-local coordinates)\n// for a given character.\nfunction measureChar(cm, line, ch, bias) {\n  return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n}\n\n// Find a line view that corresponds to the given line number.\nfunction findViewForLine(cm, lineN) {\n  if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n    { return cm.display.view[findViewIndex(cm, lineN)] }\n  var ext = cm.display.externalMeasured\n  if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n    { return ext }\n}\n\n// Measurement can be split in two steps, the set-up work that\n// applies to the whole line, and the measurement of the actual\n// character. Functions like coordsChar, that need to do a lot of\n// measurements in a row, can thus ensure that the set-up work is\n// only done once.\nfunction prepareMeasureForLine(cm, line) {\n  var lineN = lineNo(line)\n  var view = findViewForLine(cm, lineN)\n  if (view && !view.text) {\n    view = null\n  } else if (view && view.changes) {\n    updateLineForChanges(cm, view, lineN, getDimensions(cm))\n    cm.curOp.forceUpdate = true\n  }\n  if (!view)\n    { view = updateExternalMeasurement(cm, line) }\n\n  var info = mapFromLineView(view, line, lineN)\n  return {\n    line: line, view: view, rect: null,\n    map: info.map, cache: info.cache, before: info.before,\n    hasHeights: false\n  }\n}\n\n// Given a prepared measurement object, measures the position of an\n// actual character (or fetches it from the cache).\nfunction measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n  if (prepared.before) { ch = -1 }\n  var key = ch + (bias || \"\"), found\n  if (prepared.cache.hasOwnProperty(key)) {\n    found = prepared.cache[key]\n  } else {\n    if (!prepared.rect)\n      { prepared.rect = prepared.view.text.getBoundingClientRect() }\n    if (!prepared.hasHeights) {\n      ensureLineHeights(cm, prepared.view, prepared.rect)\n      prepared.hasHeights = true\n    }\n    found = measureCharInner(cm, prepared, ch, bias)\n    if (!found.bogus) { prepared.cache[key] = found }\n  }\n  return {left: found.left, right: found.right,\n          top: varHeight ? found.rtop : found.top,\n          bottom: varHeight ? found.rbottom : found.bottom}\n}\n\nvar nullRect = {left: 0, right: 0, top: 0, bottom: 0}\n\nfunction nodeAndOffsetInLineMap(map, ch, bias) {\n  var node, start, end, collapse, mStart, mEnd\n  // First, search the line map for the text node corresponding to,\n  // or closest to, the target character.\n  for (var i = 0; i < map.length; i += 3) {\n    mStart = map[i]\n    mEnd = map[i + 1]\n    if (ch < mStart) {\n      start = 0; end = 1\n      collapse = \"left\"\n    } else if (ch < mEnd) {\n      start = ch - mStart\n      end = start + 1\n    } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n      end = mEnd - mStart\n      start = end - 1\n      if (ch >= mEnd) { collapse = \"right\" }\n    }\n    if (start != null) {\n      node = map[i + 2]\n      if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n        { collapse = bias }\n      if (bias == \"left\" && start == 0)\n        { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n          node = map[(i -= 3) + 2]\n          collapse = \"left\"\n        } }\n      if (bias == \"right\" && start == mEnd - mStart)\n        { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n          node = map[(i += 3) + 2]\n          collapse = \"right\"\n        } }\n      break\n    }\n  }\n  return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n}\n\nfunction getUsefulRect(rects, bias) {\n  var rect = nullRect\n  if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n    if ((rect = rects[i]).left != rect.right) { break }\n  } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n    if ((rect = rects[i$1]).left != rect.right) { break }\n  } }\n  return rect\n}\n\nfunction measureCharInner(cm, prepared, ch, bias) {\n  var place = nodeAndOffsetInLineMap(prepared.map, ch, bias)\n  var node = place.node, start = place.start, end = place.end, collapse = place.collapse\n\n  var rect\n  if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n    for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n      while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start }\n      while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end }\n      if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n        { rect = node.parentNode.getBoundingClientRect() }\n      else\n        { rect = getUsefulRect(range(node, start, end).getClientRects(), bias) }\n      if (rect.left || rect.right || start == 0) { break }\n      end = start\n      start = start - 1\n      collapse = \"right\"\n    }\n    if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect) }\n  } else { // If it is a widget, simply get the box for the whole widget.\n    if (start > 0) { collapse = bias = \"right\" }\n    var rects\n    if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n      { rect = rects[bias == \"right\" ? rects.length - 1 : 0] }\n    else\n      { rect = node.getBoundingClientRect() }\n  }\n  if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n    var rSpan = node.parentNode.getClientRects()[0]\n    if (rSpan)\n      { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom} }\n    else\n      { rect = nullRect }\n  }\n\n  var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top\n  var mid = (rtop + rbot) / 2\n  var heights = prepared.view.measure.heights\n  var i = 0\n  for (; i < heights.length - 1; i++)\n    { if (mid < heights[i]) { break } }\n  var top = i ? heights[i - 1] : 0, bot = heights[i]\n  var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                top: top, bottom: bot}\n  if (!rect.left && !rect.right) { result.bogus = true }\n  if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot }\n\n  return result\n}\n\n// Work around problem with bounding client rects on ranges being\n// returned incorrectly when zoomed on IE10 and below.\nfunction maybeUpdateRectForZooming(measure, rect) {\n  if (!window.screen || screen.logicalXDPI == null ||\n      screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n    { return rect }\n  var scaleX = screen.logicalXDPI / screen.deviceXDPI\n  var scaleY = screen.logicalYDPI / screen.deviceYDPI\n  return {left: rect.left * scaleX, right: rect.right * scaleX,\n          top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n}\n\nfunction clearLineMeasurementCacheFor(lineView) {\n  if (lineView.measure) {\n    lineView.measure.cache = {}\n    lineView.measure.heights = null\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { lineView.measure.caches[i] = {} } }\n  }\n}\n\nfunction clearLineMeasurementCache(cm) {\n  cm.display.externalMeasure = null\n  removeChildren(cm.display.lineMeasure)\n  for (var i = 0; i < cm.display.view.length; i++)\n    { clearLineMeasurementCacheFor(cm.display.view[i]) }\n}\n\nfunction clearCaches(cm) {\n  clearLineMeasurementCache(cm)\n  cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null\n  if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true }\n  cm.display.lineNumChars = null\n}\n\nfunction pageScrollX() { return window.pageXOffset || (document.documentElement || document.body).scrollLeft }\nfunction pageScrollY() { return window.pageYOffset || (document.documentElement || document.body).scrollTop }\n\n// Converts a {top, bottom, left, right} box from line-local\n// coordinates into another coordinate system. Context may be one of\n// \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n// or \"page\".\nfunction intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n  if (!includeWidgets && lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above) {\n    var size = widgetHeight(lineObj.widgets[i])\n    rect.top += size; rect.bottom += size\n  } } }\n  if (context == \"line\") { return rect }\n  if (!context) { context = \"local\" }\n  var yOff = heightAtLine(lineObj)\n  if (context == \"local\") { yOff += paddingTop(cm.display) }\n  else { yOff -= cm.display.viewOffset }\n  if (context == \"page\" || context == \"window\") {\n    var lOff = cm.display.lineSpace.getBoundingClientRect()\n    yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY())\n    var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX())\n    rect.left += xOff; rect.right += xOff\n  }\n  rect.top += yOff; rect.bottom += yOff\n  return rect\n}\n\n// Coverts a box from \"div\" coords to another coordinate system.\n// Context may be \"window\", \"page\", \"div\", or \"local\"./null.\nfunction fromCoordSystem(cm, coords, context) {\n  if (context == \"div\") { return coords }\n  var left = coords.left, top = coords.top\n  // First move into \"page\" coordinate system\n  if (context == \"page\") {\n    left -= pageScrollX()\n    top -= pageScrollY()\n  } else if (context == \"local\" || !context) {\n    var localBox = cm.display.sizer.getBoundingClientRect()\n    left += localBox.left\n    top += localBox.top\n  }\n\n  var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect()\n  return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n}\n\nfunction charCoords(cm, pos, context, lineObj, bias) {\n  if (!lineObj) { lineObj = getLine(cm.doc, pos.line) }\n  return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n}\n\n// Returns a box for a given cursor position, which may have an\n// 'other' property containing the position of the secondary cursor\n// on a bidi boundary.\nfunction cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n  lineObj = lineObj || getLine(cm.doc, pos.line)\n  if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj) }\n  function get(ch, right) {\n    var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight)\n    if (right) { m.left = m.right; } else { m.right = m.left }\n    return intoCoordSystem(cm, lineObj, m, context)\n  }\n  function getBidi(ch, partPos) {\n    var part = order[partPos], right = part.level % 2\n    if (ch == bidiLeft(part) && partPos && part.level < order[partPos - 1].level) {\n      part = order[--partPos]\n      ch = bidiRight(part) - (part.level % 2 ? 0 : 1)\n      right = true\n    } else if (ch == bidiRight(part) && partPos < order.length - 1 && part.level < order[partPos + 1].level) {\n      part = order[++partPos]\n      ch = bidiLeft(part) - part.level % 2\n      right = false\n    }\n    if (right && ch == part.to && ch > part.from) { return get(ch - 1) }\n    return get(ch, right)\n  }\n  var order = getOrder(lineObj), ch = pos.ch\n  if (!order) { return get(ch) }\n  var partPos = getBidiPartAt(order, ch)\n  var val = getBidi(ch, partPos)\n  if (bidiOther != null) { val.other = getBidi(ch, bidiOther) }\n  return val\n}\n\n// Used to cheaply estimate the coordinates for a position. Used for\n// intermediate scroll updates.\nfunction estimateCoords(cm, pos) {\n  var left = 0\n  pos = clipPos(cm.doc, pos)\n  if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch }\n  var lineObj = getLine(cm.doc, pos.line)\n  var top = heightAtLine(lineObj) + paddingTop(cm.display)\n  return {left: left, right: left, top: top, bottom: top + lineObj.height}\n}\n\n// Positions returned by coordsChar contain some extra information.\n// xRel is the relative x position of the input coordinates compared\n// to the found position (so xRel > 0 means the coordinates are to\n// the right of the character position, for example). When outside\n// is true, that means the coordinates lie outside the line's\n// vertical range.\nfunction PosWithInfo(line, ch, outside, xRel) {\n  var pos = Pos(line, ch)\n  pos.xRel = xRel\n  if (outside) { pos.outside = true }\n  return pos\n}\n\n// Compute the character position closest to the given coordinates.\n// Input must be lineSpace-local (\"div\" coordinate system).\nfunction coordsChar(cm, x, y) {\n  var doc = cm.doc\n  y += cm.display.viewOffset\n  if (y < 0) { return PosWithInfo(doc.first, 0, true, -1) }\n  var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1\n  if (lineN > last)\n    { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, true, 1) }\n  if (x < 0) { x = 0 }\n\n  var lineObj = getLine(doc, lineN)\n  for (;;) {\n    var found = coordsCharInner(cm, lineObj, lineN, x, y)\n    var merged = collapsedSpanAtEnd(lineObj)\n    var mergedPos = merged && merged.find(0, true)\n    if (merged && (found.ch > mergedPos.from.ch || found.ch == mergedPos.from.ch && found.xRel > 0))\n      { lineN = lineNo(lineObj = mergedPos.to.line) }\n    else\n      { return found }\n  }\n}\n\nfunction coordsCharInner(cm, lineObj, lineNo, x, y) {\n  var innerOff = y - heightAtLine(lineObj)\n  var wrongLine = false, adjust = 2 * cm.display.wrapper.clientWidth\n  var preparedMeasure = prepareMeasureForLine(cm, lineObj)\n\n  function getX(ch) {\n    var sp = cursorCoords(cm, Pos(lineNo, ch), \"line\", lineObj, preparedMeasure)\n    wrongLine = true\n    if (innerOff > sp.bottom) { return sp.left - adjust }\n    else if (innerOff < sp.top) { return sp.left + adjust }\n    else { wrongLine = false }\n    return sp.left\n  }\n\n  var bidi = getOrder(lineObj), dist = lineObj.text.length\n  var from = lineLeft(lineObj), to = lineRight(lineObj)\n  var fromX = getX(from), fromOutside = wrongLine, toX = getX(to), toOutside = wrongLine\n\n  if (x > toX) { return PosWithInfo(lineNo, to, toOutside, 1) }\n  // Do a binary search between these bounds.\n  for (;;) {\n    if (bidi ? to == from || to == moveVisually(lineObj, from, 1) : to - from <= 1) {\n      var ch = x < fromX || x - fromX <= toX - x ? from : to\n      var outside = ch == from ? fromOutside : toOutside\n      var xDiff = x - (ch == from ? fromX : toX)\n      // This is a kludge to handle the case where the coordinates\n      // are after a line-wrapped line. We should replace it with a\n      // more general handling of cursor positions around line\n      // breaks. (Issue #4078)\n      if (toOutside && !bidi && !/\\s/.test(lineObj.text.charAt(ch)) && xDiff > 0 &&\n          ch < lineObj.text.length && preparedMeasure.view.measure.heights.length > 1) {\n        var charSize = measureCharPrepared(cm, preparedMeasure, ch, \"right\")\n        if (innerOff <= charSize.bottom && innerOff >= charSize.top && Math.abs(x - charSize.right) < xDiff) {\n          outside = false\n          ch++\n          xDiff = x - charSize.right\n        }\n      }\n      while (isExtendingChar(lineObj.text.charAt(ch))) { ++ch }\n      var pos = PosWithInfo(lineNo, ch, outside, xDiff < -1 ? -1 : xDiff > 1 ? 1 : 0)\n      return pos\n    }\n    var step = Math.ceil(dist / 2), middle = from + step\n    if (bidi) {\n      middle = from\n      for (var i = 0; i < step; ++i) { middle = moveVisually(lineObj, middle, 1) }\n    }\n    var middleX = getX(middle)\n    if (middleX > x) {to = middle; toX = middleX; if (toOutside = wrongLine) { toX += 1000; } dist = step}\n    else {from = middle; fromX = middleX; fromOutside = wrongLine; dist -= step}\n  }\n}\n\nvar measureText\n// Compute the default text height.\nfunction textHeight(display) {\n  if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n  if (measureText == null) {\n    measureText = elt(\"pre\")\n    // Measure a bunch of lines, for browsers that compute\n    // fractional heights.\n    for (var i = 0; i < 49; ++i) {\n      measureText.appendChild(document.createTextNode(\"x\"))\n      measureText.appendChild(elt(\"br\"))\n    }\n    measureText.appendChild(document.createTextNode(\"x\"))\n  }\n  removeChildrenAndAdd(display.measure, measureText)\n  var height = measureText.offsetHeight / 50\n  if (height > 3) { display.cachedTextHeight = height }\n  removeChildren(display.measure)\n  return height || 1\n}\n\n// Compute the default character width.\nfunction charWidth(display) {\n  if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n  var anchor = elt(\"span\", \"xxxxxxxxxx\")\n  var pre = elt(\"pre\", [anchor])\n  removeChildrenAndAdd(display.measure, pre)\n  var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10\n  if (width > 2) { display.cachedCharWidth = width }\n  return width || 10\n}\n\n// Do a bulk-read of the DOM positions and sizes needed to draw the\n// view, so that we don't interleave reading and writing to the DOM.\nfunction getDimensions(cm) {\n  var d = cm.display, left = {}, width = {}\n  var gutterLeft = d.gutters.clientLeft\n  for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n    left[cm.options.gutters[i]] = n.offsetLeft + n.clientLeft + gutterLeft\n    width[cm.options.gutters[i]] = n.clientWidth\n  }\n  return {fixedPos: compensateForHScroll(d),\n          gutterTotalWidth: d.gutters.offsetWidth,\n          gutterLeft: left,\n          gutterWidth: width,\n          wrapperWidth: d.wrapper.clientWidth}\n}\n\n// Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n// but using getBoundingClientRect to get a sub-pixel-accurate\n// result.\nfunction compensateForHScroll(display) {\n  return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n}\n\n// Returns a function that estimates the height of a line, to use as\n// first approximation until the line becomes visible (and is thus\n// properly measurable).\nfunction estimateHeight(cm) {\n  var th = textHeight(cm.display), wrapping = cm.options.lineWrapping\n  var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3)\n  return function (line) {\n    if (lineIsHidden(cm.doc, line)) { return 0 }\n\n    var widgetsHeight = 0\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n      if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height }\n    } }\n\n    if (wrapping)\n      { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n    else\n      { return widgetsHeight + th }\n  }\n}\n\nfunction estimateLineHeights(cm) {\n  var doc = cm.doc, est = estimateHeight(cm)\n  doc.iter(function (line) {\n    var estHeight = est(line)\n    if (estHeight != line.height) { updateLineHeight(line, estHeight) }\n  })\n}\n\n// Given a mouse event, find the corresponding position. If liberal\n// is false, it checks whether a gutter or scrollbar was clicked,\n// and returns null if it was. forRect is used by rectangular\n// selections, and tries to estimate a character position even for\n// coordinates beyond the right of the text.\nfunction posFromMouse(cm, e, liberal, forRect) {\n  var display = cm.display\n  if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n  var x, y, space = display.lineSpace.getBoundingClientRect()\n  // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n  try { x = e.clientX - space.left; y = e.clientY - space.top }\n  catch (e) { return null }\n  var coords = coordsChar(cm, x, y), line\n  if (forRect && coords.xRel == 1 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n    var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length\n    coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff))\n  }\n  return coords\n}\n\n// Find the view element corresponding to a given line. Return null\n// when the line isn't visible.\nfunction findViewIndex(cm, n) {\n  if (n >= cm.display.viewTo) { return null }\n  n -= cm.display.viewFrom\n  if (n < 0) { return null }\n  var view = cm.display.view\n  for (var i = 0; i < view.length; i++) {\n    n -= view[i].size\n    if (n < 0) { return i }\n  }\n}\n\nfunction updateSelection(cm) {\n  cm.display.input.showSelection(cm.display.input.prepareSelection())\n}\n\nfunction prepareSelection(cm, primary) {\n  var doc = cm.doc, result = {}\n  var curFragment = result.cursors = document.createDocumentFragment()\n  var selFragment = result.selection = document.createDocumentFragment()\n\n  for (var i = 0; i < doc.sel.ranges.length; i++) {\n    if (primary === false && i == doc.sel.primIndex) { continue }\n    var range = doc.sel.ranges[i]\n    if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\n    var collapsed = range.empty()\n    if (collapsed || cm.options.showCursorWhenSelecting)\n      { drawSelectionCursor(cm, range.head, curFragment) }\n    if (!collapsed)\n      { drawSelectionRange(cm, range, selFragment) }\n  }\n  return result\n}\n\n// Draws a cursor for the given range\nfunction drawSelectionCursor(cm, head, output) {\n  var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine)\n\n  var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"))\n  cursor.style.left = pos.left + \"px\"\n  cursor.style.top = pos.top + \"px\"\n  cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\"\n\n  if (pos.other) {\n    // Secondary cursor, shown when on a 'jump' in bi-directional text\n    var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"))\n    otherCursor.style.display = \"\"\n    otherCursor.style.left = pos.other.left + \"px\"\n    otherCursor.style.top = pos.other.top + \"px\"\n    otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\"\n  }\n}\n\n// Draws the given range as a highlighted selection\nfunction drawSelectionRange(cm, range, output) {\n  var display = cm.display, doc = cm.doc\n  var fragment = document.createDocumentFragment()\n  var padding = paddingH(cm.display), leftSide = padding.left\n  var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right\n\n  function add(left, top, width, bottom) {\n    if (top < 0) { top = 0 }\n    top = Math.round(top)\n    bottom = Math.round(bottom)\n    fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")))\n  }\n\n  function drawForLine(line, fromArg, toArg) {\n    var lineObj = getLine(doc, line)\n    var lineLen = lineObj.text.length\n    var start, end\n    function coords(ch, bias) {\n      return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n    }\n\n    iterateBidiSections(getOrder(lineObj), fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir) {\n      var leftPos = coords(from, \"left\"), rightPos, left, right\n      if (from == to) {\n        rightPos = leftPos\n        left = right = leftPos.left\n      } else {\n        rightPos = coords(to - 1, \"right\")\n        if (dir == \"rtl\") { var tmp = leftPos; leftPos = rightPos; rightPos = tmp }\n        left = leftPos.left\n        right = rightPos.right\n      }\n      if (fromArg == null && from == 0) { left = leftSide }\n      if (rightPos.top - leftPos.top > 3) { // Different lines, draw top part\n        add(left, leftPos.top, null, leftPos.bottom)\n        left = leftSide\n        if (leftPos.bottom < rightPos.top) { add(left, leftPos.bottom, null, rightPos.top) }\n      }\n      if (toArg == null && to == lineLen) { right = rightSide }\n      if (!start || leftPos.top < start.top || leftPos.top == start.top && leftPos.left < start.left)\n        { start = leftPos }\n      if (!end || rightPos.bottom > end.bottom || rightPos.bottom == end.bottom && rightPos.right > end.right)\n        { end = rightPos }\n      if (left < leftSide + 1) { left = leftSide }\n      add(left, rightPos.top, right - left, rightPos.bottom)\n    })\n    return {start: start, end: end}\n  }\n\n  var sFrom = range.from(), sTo = range.to()\n  if (sFrom.line == sTo.line) {\n    drawForLine(sFrom.line, sFrom.ch, sTo.ch)\n  } else {\n    var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line)\n    var singleVLine = visualLine(fromLine) == visualLine(toLine)\n    var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end\n    var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start\n    if (singleVLine) {\n      if (leftEnd.top < rightStart.top - 2) {\n        add(leftEnd.right, leftEnd.top, null, leftEnd.bottom)\n        add(leftSide, rightStart.top, rightStart.left, rightStart.bottom)\n      } else {\n        add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom)\n      }\n    }\n    if (leftEnd.bottom < rightStart.top)\n      { add(leftSide, leftEnd.bottom, null, rightStart.top) }\n  }\n\n  output.appendChild(fragment)\n}\n\n// Cursor-blinking\nfunction restartBlink(cm) {\n  if (!cm.state.focused) { return }\n  var display = cm.display\n  clearInterval(display.blinker)\n  var on = true\n  display.cursorDiv.style.visibility = \"\"\n  if (cm.options.cursorBlinkRate > 0)\n    { display.blinker = setInterval(function () { return display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\"; },\n      cm.options.cursorBlinkRate) }\n  else if (cm.options.cursorBlinkRate < 0)\n    { display.cursorDiv.style.visibility = \"hidden\" }\n}\n\nfunction ensureFocus(cm) {\n  if (!cm.state.focused) { cm.display.input.focus(); onFocus(cm) }\n}\n\nfunction delayBlurEvent(cm) {\n  cm.state.delayingBlurEvent = true\n  setTimeout(function () { if (cm.state.delayingBlurEvent) {\n    cm.state.delayingBlurEvent = false\n    onBlur(cm)\n  } }, 100)\n}\n\nfunction onFocus(cm, e) {\n  if (cm.state.delayingBlurEvent) { cm.state.delayingBlurEvent = false }\n\n  if (cm.options.readOnly == \"nocursor\") { return }\n  if (!cm.state.focused) {\n    signal(cm, \"focus\", cm, e)\n    cm.state.focused = true\n    addClass(cm.display.wrapper, \"CodeMirror-focused\")\n    // This test prevents this from firing when a context\n    // menu is closed (since the input reset would kill the\n    // select-all detection hack)\n    if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n      cm.display.input.reset()\n      if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20) } // Issue #1730\n    }\n    cm.display.input.receivedFocus()\n  }\n  restartBlink(cm)\n}\nfunction onBlur(cm, e) {\n  if (cm.state.delayingBlurEvent) { return }\n\n  if (cm.state.focused) {\n    signal(cm, \"blur\", cm, e)\n    cm.state.focused = false\n    rmClass(cm.display.wrapper, \"CodeMirror-focused\")\n  }\n  clearInterval(cm.display.blinker)\n  setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false } }, 150)\n}\n\n// Re-align line numbers and gutter marks to compensate for\n// horizontal scrolling.\nfunction alignHorizontally(cm) {\n  var display = cm.display, view = display.view\n  if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n  var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft\n  var gutterW = display.gutters.offsetWidth, left = comp + \"px\"\n  for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n    if (cm.options.fixedGutter) {\n      if (view[i].gutter)\n        { view[i].gutter.style.left = left }\n      if (view[i].gutterBackground)\n        { view[i].gutterBackground.style.left = left }\n    }\n    var align = view[i].alignable\n    if (align) { for (var j = 0; j < align.length; j++)\n      { align[j].style.left = left } }\n  } }\n  if (cm.options.fixedGutter)\n    { display.gutters.style.left = (comp + gutterW) + \"px\" }\n}\n\n// Used to ensure that the line number gutter is still the right\n// size for the current document size. Returns true when an update\n// is needed.\nfunction maybeUpdateLineNumberWidth(cm) {\n  if (!cm.options.lineNumbers) { return false }\n  var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display\n  if (last.length != display.lineNumChars) {\n    var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                               \"CodeMirror-linenumber CodeMirror-gutter-elt\"))\n    var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW\n    display.lineGutter.style.width = \"\"\n    display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1\n    display.lineNumWidth = display.lineNumInnerWidth + padding\n    display.lineNumChars = display.lineNumInnerWidth ? last.length : -1\n    display.lineGutter.style.width = display.lineNumWidth + \"px\"\n    updateGutterSpace(cm)\n    return true\n  }\n  return false\n}\n\n// Read the actual heights of the rendered lines, and update their\n// stored heights to match.\nfunction updateHeightsInViewport(cm) {\n  var display = cm.display\n  var prevBottom = display.lineDiv.offsetTop\n  for (var i = 0; i < display.view.length; i++) {\n    var cur = display.view[i], height = (void 0)\n    if (cur.hidden) { continue }\n    if (ie && ie_version < 8) {\n      var bot = cur.node.offsetTop + cur.node.offsetHeight\n      height = bot - prevBottom\n      prevBottom = bot\n    } else {\n      var box = cur.node.getBoundingClientRect()\n      height = box.bottom - box.top\n    }\n    var diff = cur.line.height - height\n    if (height < 2) { height = textHeight(display) }\n    if (diff > .001 || diff < -.001) {\n      updateLineHeight(cur.line, height)\n      updateWidgetHeight(cur.line)\n      if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n        { updateWidgetHeight(cur.rest[j]) } }\n    }\n  }\n}\n\n// Read and store the height of line widgets associated with the\n// given line.\nfunction updateWidgetHeight(line) {\n  if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i)\n    { line.widgets[i].height = line.widgets[i].node.parentNode.offsetHeight } }\n}\n\n// Compute the lines that are visible in a given viewport (defaults\n// the the current scroll position). viewport may contain top,\n// height, and ensure (see op.scrollToPos) properties.\nfunction visibleLines(display, doc, viewport) {\n  var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop\n  top = Math.floor(top - paddingTop(display))\n  var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight\n\n  var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom)\n  // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n  // forces those lines into the viewport (if possible).\n  if (viewport && viewport.ensure) {\n    var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line\n    if (ensureFrom < from) {\n      from = ensureFrom\n      to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight)\n    } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n      from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight)\n      to = ensureTo\n    }\n  }\n  return {from: from, to: Math.max(to, from + 1)}\n}\n\n// Sync the scrollable area and scrollbars, ensure the viewport\n// covers the visible area.\nfunction setScrollTop(cm, val) {\n  if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n  cm.doc.scrollTop = val\n  if (!gecko) { updateDisplaySimple(cm, {top: val}) }\n  if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val }\n  cm.display.scrollbars.setScrollTop(val)\n  if (gecko) { updateDisplaySimple(cm) }\n  startWorker(cm, 100)\n}\n// Sync scroller and scrollbar, ensure the gutter elements are\n// aligned.\nfunction setScrollLeft(cm, val, isScroller) {\n  if (isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) { return }\n  val = Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth)\n  cm.doc.scrollLeft = val\n  alignHorizontally(cm)\n  if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val }\n  cm.display.scrollbars.setScrollLeft(val)\n}\n\n// Since the delta values reported on mouse wheel events are\n// unstandardized between browsers and even browser versions, and\n// generally horribly unpredictable, this code starts by measuring\n// the scroll effect that the first few mouse wheel events have,\n// and, from that, detects the way it can convert deltas to pixel\n// offsets afterwards.\n//\n// The reason we want to know the amount a wheel event will scroll\n// is that it gives us a chance to update the display before the\n// actual scrolling happens, reducing flickering.\n\nvar wheelSamples = 0;\nvar wheelPixelsPerUnit = null;\n// Fill in a browser-detected starting value on browsers where we\n// know one. These don't have to be accurate -- the result of them\n// being wrong would just be a slight flicker on the first wheel\n// scroll (if it is large enough).\nif (ie) { wheelPixelsPerUnit = -.53 }\nelse if (gecko) { wheelPixelsPerUnit = 15 }\nelse if (chrome) { wheelPixelsPerUnit = -.7 }\nelse if (safari) { wheelPixelsPerUnit = -1/3 }\n\nfunction wheelEventDelta(e) {\n  var dx = e.wheelDeltaX, dy = e.wheelDeltaY\n  if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail }\n  if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail }\n  else if (dy == null) { dy = e.wheelDelta }\n  return {x: dx, y: dy}\n}\nfunction wheelEventPixels(e) {\n  var delta = wheelEventDelta(e)\n  delta.x *= wheelPixelsPerUnit\n  delta.y *= wheelPixelsPerUnit\n  return delta\n}\n\nfunction onScrollWheel(cm, e) {\n  var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y\n\n  var display = cm.display, scroll = display.scroller\n  // Quit if there's nothing to scroll here\n  var canScrollX = scroll.scrollWidth > scroll.clientWidth\n  var canScrollY = scroll.scrollHeight > scroll.clientHeight\n  if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n  // Webkit browsers on OS X abort momentum scrolls when the target\n  // of the scroll event is removed from the scrollable element.\n  // This hack (see related code in patchDisplay) makes sure the\n  // element is kept around.\n  if (dy && mac && webkit) {\n    outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n      for (var i = 0; i < view.length; i++) {\n        if (view[i].node == cur) {\n          cm.display.currentWheelTarget = cur\n          break outer\n        }\n      }\n    }\n  }\n\n  // On some browsers, horizontal scrolling will cause redraws to\n  // happen before the gutter has been realigned, causing it to\n  // wriggle around in a most unseemly way. When we have an\n  // estimated pixels/delta value, we just handle horizontal\n  // scrolling entirely here. It'll be slightly off from native, but\n  // better than glitching out.\n  if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n    if (dy && canScrollY)\n      { setScrollTop(cm, Math.max(0, Math.min(scroll.scrollTop + dy * wheelPixelsPerUnit, scroll.scrollHeight - scroll.clientHeight))) }\n    setScrollLeft(cm, Math.max(0, Math.min(scroll.scrollLeft + dx * wheelPixelsPerUnit, scroll.scrollWidth - scroll.clientWidth)))\n    // Only prevent default scrolling if vertical scrolling is\n    // actually possible. Otherwise, it causes vertical scroll\n    // jitter on OSX trackpads when deltaX is small and deltaY\n    // is large (issue #3579)\n    if (!dy || (dy && canScrollY))\n      { e_preventDefault(e) }\n    display.wheelStartX = null // Abort measurement, if in progress\n    return\n  }\n\n  // 'Project' the visible viewport to cover the area that is being\n  // scrolled into view (if we know enough to estimate it).\n  if (dy && wheelPixelsPerUnit != null) {\n    var pixels = dy * wheelPixelsPerUnit\n    var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight\n    if (pixels < 0) { top = Math.max(0, top + pixels - 50) }\n    else { bot = Math.min(cm.doc.height, bot + pixels + 50) }\n    updateDisplaySimple(cm, {top: top, bottom: bot})\n  }\n\n  if (wheelSamples < 20) {\n    if (display.wheelStartX == null) {\n      display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop\n      display.wheelDX = dx; display.wheelDY = dy\n      setTimeout(function () {\n        if (display.wheelStartX == null) { return }\n        var movedX = scroll.scrollLeft - display.wheelStartX\n        var movedY = scroll.scrollTop - display.wheelStartY\n        var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n          (movedX && display.wheelDX && movedX / display.wheelDX)\n        display.wheelStartX = display.wheelStartY = null\n        if (!sample) { return }\n        wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1)\n        ++wheelSamples\n      }, 200)\n    } else {\n      display.wheelDX += dx; display.wheelDY += dy\n    }\n  }\n}\n\n// SCROLLBARS\n\n// Prepare DOM reads needed to update the scrollbars. Done in one\n// shot to minimize update/measure roundtrips.\nfunction measureForScrollbars(cm) {\n  var d = cm.display, gutterW = d.gutters.offsetWidth\n  var docH = Math.round(cm.doc.height + paddingVert(cm.display))\n  return {\n    clientHeight: d.scroller.clientHeight,\n    viewHeight: d.wrapper.clientHeight,\n    scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n    viewWidth: d.wrapper.clientWidth,\n    barLeft: cm.options.fixedGutter ? gutterW : 0,\n    docHeight: docH,\n    scrollHeight: docH + scrollGap(cm) + d.barHeight,\n    nativeBarWidth: d.nativeBarWidth,\n    gutterWidth: gutterW\n  }\n}\n\nvar NativeScrollbars = function(place, scroll, cm) {\n  this.cm = cm\n  var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\")\n  var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\")\n  place(vert); place(horiz)\n\n  on(vert, \"scroll\", function () {\n    if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\") }\n  })\n  on(horiz, \"scroll\", function () {\n    if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\") }\n  })\n\n  this.checkedZeroWidth = false\n  // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n  if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\" }\n};\n\nNativeScrollbars.prototype.update = function (measure) {\n  var needsH = measure.scrollWidth > measure.clientWidth + 1\n  var needsV = measure.scrollHeight > measure.clientHeight + 1\n  var sWidth = measure.nativeBarWidth\n\n  if (needsV) {\n    this.vert.style.display = \"block\"\n    this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\"\n    var totalHeight = measure.viewHeight - (needsH ? sWidth : 0)\n    // A bug in IE8 can cause this value to be negative, so guard it.\n    this.vert.firstChild.style.height =\n      Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\"\n  } else {\n    this.vert.style.display = \"\"\n    this.vert.firstChild.style.height = \"0\"\n  }\n\n  if (needsH) {\n    this.horiz.style.display = \"block\"\n    this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\"\n    this.horiz.style.left = measure.barLeft + \"px\"\n    var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0)\n    this.horiz.firstChild.style.width =\n      (measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\"\n  } else {\n    this.horiz.style.display = \"\"\n    this.horiz.firstChild.style.width = \"0\"\n  }\n\n  if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n    if (sWidth == 0) { this.zeroWidthHack() }\n    this.checkedZeroWidth = true\n  }\n\n  return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n};\n\nNativeScrollbars.prototype.setScrollLeft = function (pos) {\n  if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos }\n  if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz) }\n};\n\nNativeScrollbars.prototype.setScrollTop = function (pos) {\n  if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos }\n  if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert) }\n};\n\nNativeScrollbars.prototype.zeroWidthHack = function () {\n  var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\"\n  this.horiz.style.height = this.vert.style.width = w\n  this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\"\n  this.disableHoriz = new Delayed\n  this.disableVert = new Delayed\n};\n\nNativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay) {\n  bar.style.pointerEvents = \"auto\"\n  function maybeDisable() {\n    // To find out whether the scrollbar is still visible, we\n    // check whether the element under the pixel in the bottom\n    // left corner of the scrollbar box is the scrollbar box\n    // itself (when the bar is still visible) or its filler child\n    // (when the bar is hidden). If it is still visible, we keep\n    // it enabled, if it's hidden, we disable pointer events.\n    var box = bar.getBoundingClientRect()\n    var elt = document.elementFromPoint(box.left + 1, box.bottom - 1)\n    if (elt != bar) { bar.style.pointerEvents = \"none\" }\n    else { delay.set(1000, maybeDisable) }\n  }\n  delay.set(1000, maybeDisable)\n};\n\nNativeScrollbars.prototype.clear = function () {\n  var parent = this.horiz.parentNode\n  parent.removeChild(this.horiz)\n  parent.removeChild(this.vert)\n};\n\nvar NullScrollbars = function () {};\n\nNullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\nNullScrollbars.prototype.setScrollLeft = function () {};\nNullScrollbars.prototype.setScrollTop = function () {};\nNullScrollbars.prototype.clear = function () {};\n\nfunction updateScrollbars(cm, measure) {\n  if (!measure) { measure = measureForScrollbars(cm) }\n  var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight\n  updateScrollbarsInner(cm, measure)\n  for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n    if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n      { updateHeightsInViewport(cm) }\n    updateScrollbarsInner(cm, measureForScrollbars(cm))\n    startWidth = cm.display.barWidth; startHeight = cm.display.barHeight\n  }\n}\n\n// Re-synchronize the fake scrollbars with the actual size of the\n// content.\nfunction updateScrollbarsInner(cm, measure) {\n  var d = cm.display\n  var sizes = d.scrollbars.update(measure)\n\n  d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\"\n  d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\"\n  d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\"\n\n  if (sizes.right && sizes.bottom) {\n    d.scrollbarFiller.style.display = \"block\"\n    d.scrollbarFiller.style.height = sizes.bottom + \"px\"\n    d.scrollbarFiller.style.width = sizes.right + \"px\"\n  } else { d.scrollbarFiller.style.display = \"\" }\n  if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n    d.gutterFiller.style.display = \"block\"\n    d.gutterFiller.style.height = sizes.bottom + \"px\"\n    d.gutterFiller.style.width = measure.gutterWidth + \"px\"\n  } else { d.gutterFiller.style.display = \"\" }\n}\n\nvar scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars}\n\nfunction initScrollbars(cm) {\n  if (cm.display.scrollbars) {\n    cm.display.scrollbars.clear()\n    if (cm.display.scrollbars.addClass)\n      { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass) }\n  }\n\n  cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n    cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller)\n    // Prevent clicks in the scrollbars from killing focus\n    on(node, \"mousedown\", function () {\n      if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0) }\n    })\n    node.setAttribute(\"cm-not-content\", \"true\")\n  }, function (pos, axis) {\n    if (axis == \"horizontal\") { setScrollLeft(cm, pos) }\n    else { setScrollTop(cm, pos) }\n  }, cm)\n  if (cm.display.scrollbars.addClass)\n    { addClass(cm.display.wrapper, cm.display.scrollbars.addClass) }\n}\n\n// SCROLLING THINGS INTO VIEW\n\n// If an editor sits on the top or bottom of the window, partially\n// scrolled out of view, this ensures that the cursor is visible.\nfunction maybeScrollWindow(cm, coords) {\n  if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n  var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null\n  if (coords.top + box.top < 0) { doScroll = true }\n  else if (coords.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false }\n  if (doScroll != null && !phantom) {\n    var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (coords.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (coords.bottom - coords.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (coords.left) + \"px; width: 2px;\"))\n    cm.display.lineSpace.appendChild(scrollNode)\n    scrollNode.scrollIntoView(doScroll)\n    cm.display.lineSpace.removeChild(scrollNode)\n  }\n}\n\n// Scroll a given position into view (immediately), verifying that\n// it actually became visible (as line heights are accurately\n// measured, the position of something may 'drift' during drawing).\nfunction scrollPosIntoView(cm, pos, end, margin) {\n  if (margin == null) { margin = 0 }\n  var coords\n  for (var limit = 0; limit < 5; limit++) {\n    var changed = false\n    coords = cursorCoords(cm, pos)\n    var endCoords = !end || end == pos ? coords : cursorCoords(cm, end)\n    var scrollPos = calculateScrollPos(cm, Math.min(coords.left, endCoords.left),\n                                       Math.min(coords.top, endCoords.top) - margin,\n                                       Math.max(coords.left, endCoords.left),\n                                       Math.max(coords.bottom, endCoords.bottom) + margin)\n    var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft\n    if (scrollPos.scrollTop != null) {\n      setScrollTop(cm, scrollPos.scrollTop)\n      if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true }\n    }\n    if (scrollPos.scrollLeft != null) {\n      setScrollLeft(cm, scrollPos.scrollLeft)\n      if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true }\n    }\n    if (!changed) { break }\n  }\n  return coords\n}\n\n// Scroll a given set of coordinates into view (immediately).\nfunction scrollIntoView(cm, x1, y1, x2, y2) {\n  var scrollPos = calculateScrollPos(cm, x1, y1, x2, y2)\n  if (scrollPos.scrollTop != null) { setScrollTop(cm, scrollPos.scrollTop) }\n  if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft) }\n}\n\n// Calculate a new scroll position needed to scroll the given\n// rectangle into view. Returns an object with scrollTop and\n// scrollLeft properties. When these are undefined, the\n// vertical/horizontal position does not need to be adjusted.\nfunction calculateScrollPos(cm, x1, y1, x2, y2) {\n  var display = cm.display, snapMargin = textHeight(cm.display)\n  if (y1 < 0) { y1 = 0 }\n  var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop\n  var screen = displayHeight(cm), result = {}\n  if (y2 - y1 > screen) { y2 = y1 + screen }\n  var docBottom = cm.doc.height + paddingVert(display)\n  var atTop = y1 < snapMargin, atBottom = y2 > docBottom - snapMargin\n  if (y1 < screentop) {\n    result.scrollTop = atTop ? 0 : y1\n  } else if (y2 > screentop + screen) {\n    var newTop = Math.min(y1, (atBottom ? docBottom : y2) - screen)\n    if (newTop != screentop) { result.scrollTop = newTop }\n  }\n\n  var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft\n  var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0)\n  var tooWide = x2 - x1 > screenw\n  if (tooWide) { x2 = x1 + screenw }\n  if (x1 < 10)\n    { result.scrollLeft = 0 }\n  else if (x1 < screenleft)\n    { result.scrollLeft = Math.max(0, x1 - (tooWide ? 0 : 10)) }\n  else if (x2 > screenw + screenleft - 3)\n    { result.scrollLeft = x2 + (tooWide ? 0 : 10) - screenw }\n  return result\n}\n\n// Store a relative adjustment to the scroll position in the current\n// operation (to be applied when the operation finishes).\nfunction addToScrollPos(cm, left, top) {\n  if (left != null || top != null) { resolveScrollToPos(cm) }\n  if (left != null)\n    { cm.curOp.scrollLeft = (cm.curOp.scrollLeft == null ? cm.doc.scrollLeft : cm.curOp.scrollLeft) + left }\n  if (top != null)\n    { cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top }\n}\n\n// Make sure that at the end of the operation the current cursor is\n// shown.\nfunction ensureCursorVisible(cm) {\n  resolveScrollToPos(cm)\n  var cur = cm.getCursor(), from = cur, to = cur\n  if (!cm.options.lineWrapping) {\n    from = cur.ch ? Pos(cur.line, cur.ch - 1) : cur\n    to = Pos(cur.line, cur.ch + 1)\n  }\n  cm.curOp.scrollToPos = {from: from, to: to, margin: cm.options.cursorScrollMargin, isCursor: true}\n}\n\n// When an operation has its scrollToPos property set, and another\n// scroll action is applied before the end of the operation, this\n// 'simulates' scrolling that position into view in a cheap way, so\n// that the effect of intermediate scroll commands is not ignored.\nfunction resolveScrollToPos(cm) {\n  var range = cm.curOp.scrollToPos\n  if (range) {\n    cm.curOp.scrollToPos = null\n    var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to)\n    var sPos = calculateScrollPos(cm, Math.min(from.left, to.left),\n                                  Math.min(from.top, to.top) - range.margin,\n                                  Math.max(from.right, to.right),\n                                  Math.max(from.bottom, to.bottom) + range.margin)\n    cm.scrollTo(sPos.scrollLeft, sPos.scrollTop)\n  }\n}\n\n// Operations are used to wrap a series of changes to the editor\n// state in such a way that each change won't have to update the\n// cursor and display (which would be awkward, slow, and\n// error-prone). Instead, display updates are batched and then all\n// combined and executed at once.\n\nvar nextOpId = 0\n// Start a new operation.\nfunction startOperation(cm) {\n  cm.curOp = {\n    cm: cm,\n    viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n    startHeight: cm.doc.height, // Used to detect need to update scrollbar\n    forceUpdate: false,      // Used to force a redraw\n    updateInput: null,       // Whether to reset the input textarea\n    typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n    changeObjs: null,        // Accumulated changes, for firing change events\n    cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n    cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n    selectionChanged: false, // Whether the selection needs to be redrawn\n    updateMaxLine: false,    // Set when the widest line needs to be determined anew\n    scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n    scrollToPos: null,       // Used to scroll to a specific position\n    focus: false,\n    id: ++nextOpId           // Unique ID\n  }\n  pushOperation(cm.curOp)\n}\n\n// Finish an operation, updating the display and signalling delayed events\nfunction endOperation(cm) {\n  var op = cm.curOp\n  finishOperation(op, function (group) {\n    for (var i = 0; i < group.ops.length; i++)\n      { group.ops[i].cm.curOp = null }\n    endOperations(group)\n  })\n}\n\n// The DOM updates done when an operation finishes are batched so\n// that the minimum number of relayouts are required.\nfunction endOperations(group) {\n  var ops = group.ops\n  for (var i = 0; i < ops.length; i++) // Read DOM\n    { endOperation_R1(ops[i]) }\n  for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n    { endOperation_W1(ops[i$1]) }\n  for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n    { endOperation_R2(ops[i$2]) }\n  for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n    { endOperation_W2(ops[i$3]) }\n  for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n    { endOperation_finish(ops[i$4]) }\n}\n\nfunction endOperation_R1(op) {\n  var cm = op.cm, display = cm.display\n  maybeClipScrollbars(cm)\n  if (op.updateMaxLine) { findMaxLine(cm) }\n\n  op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n    op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                       op.scrollToPos.to.line >= display.viewTo) ||\n    display.maxLineChanged && cm.options.lineWrapping\n  op.update = op.mustUpdate &&\n    new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate)\n}\n\nfunction endOperation_W1(op) {\n  op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update)\n}\n\nfunction endOperation_R2(op) {\n  var cm = op.cm, display = cm.display\n  if (op.updatedDisplay) { updateHeightsInViewport(cm) }\n\n  op.barMeasure = measureForScrollbars(cm)\n\n  // If the max line changed since it was last measured, measure it,\n  // and ensure the document's width matches it.\n  // updateDisplay_W2 will use these properties to do the actual resizing\n  if (display.maxLineChanged && !cm.options.lineWrapping) {\n    op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3\n    cm.display.sizerWidth = op.adjustWidthTo\n    op.barMeasure.scrollWidth =\n      Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth)\n    op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm))\n  }\n\n  if (op.updatedDisplay || op.selectionChanged)\n    { op.preparedSelection = display.input.prepareSelection(op.focus) }\n}\n\nfunction endOperation_W2(op) {\n  var cm = op.cm\n\n  if (op.adjustWidthTo != null) {\n    cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\"\n    if (op.maxScrollLeft < cm.doc.scrollLeft)\n      { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true) }\n    cm.display.maxLineChanged = false\n  }\n\n  var takeFocus = op.focus && op.focus == activeElt() && (!document.hasFocus || document.hasFocus())\n  if (op.preparedSelection)\n    { cm.display.input.showSelection(op.preparedSelection, takeFocus) }\n  if (op.updatedDisplay || op.startHeight != cm.doc.height)\n    { updateScrollbars(cm, op.barMeasure) }\n  if (op.updatedDisplay)\n    { setDocumentHeight(cm, op.barMeasure) }\n\n  if (op.selectionChanged) { restartBlink(cm) }\n\n  if (cm.state.focused && op.updateInput)\n    { cm.display.input.reset(op.typing) }\n  if (takeFocus) { ensureFocus(op.cm) }\n}\n\nfunction endOperation_finish(op) {\n  var cm = op.cm, display = cm.display, doc = cm.doc\n\n  if (op.updatedDisplay) { postUpdateDisplay(cm, op.update) }\n\n  // Abort mouse wheel delta measurement, when scrolling explicitly\n  if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n    { display.wheelStartX = display.wheelStartY = null }\n\n  // Propagate the scroll position to the actual DOM scroller\n  if (op.scrollTop != null && (display.scroller.scrollTop != op.scrollTop || op.forceScroll)) {\n    doc.scrollTop = Math.max(0, Math.min(display.scroller.scrollHeight - display.scroller.clientHeight, op.scrollTop))\n    display.scrollbars.setScrollTop(doc.scrollTop)\n    display.scroller.scrollTop = doc.scrollTop\n  }\n  if (op.scrollLeft != null && (display.scroller.scrollLeft != op.scrollLeft || op.forceScroll)) {\n    doc.scrollLeft = Math.max(0, Math.min(display.scroller.scrollWidth - display.scroller.clientWidth, op.scrollLeft))\n    display.scrollbars.setScrollLeft(doc.scrollLeft)\n    display.scroller.scrollLeft = doc.scrollLeft\n    alignHorizontally(cm)\n  }\n  // If we need to scroll a specific position into view, do so.\n  if (op.scrollToPos) {\n    var coords = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin)\n    if (op.scrollToPos.isCursor && cm.state.focused) { maybeScrollWindow(cm, coords) }\n  }\n\n  // Fire events for markers that are hidden/unidden by editing or\n  // undoing\n  var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers\n  if (hidden) { for (var i = 0; i < hidden.length; ++i)\n    { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\") } } }\n  if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n    { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\") } } }\n\n  if (display.wrapper.offsetHeight)\n    { doc.scrollTop = cm.display.scroller.scrollTop }\n\n  // Fire change events, and delayed event handlers\n  if (op.changeObjs)\n    { signal(cm, \"changes\", cm, op.changeObjs) }\n  if (op.update)\n    { op.update.finish() }\n}\n\n// Run the given function in an operation\nfunction runInOp(cm, f) {\n  if (cm.curOp) { return f() }\n  startOperation(cm)\n  try { return f() }\n  finally { endOperation(cm) }\n}\n// Wraps a function in an operation. Returns the wrapped function.\nfunction operation(cm, f) {\n  return function() {\n    if (cm.curOp) { return f.apply(cm, arguments) }\n    startOperation(cm)\n    try { return f.apply(cm, arguments) }\n    finally { endOperation(cm) }\n  }\n}\n// Used to add methods to editor and doc instances, wrapping them in\n// operations.\nfunction methodOp(f) {\n  return function() {\n    if (this.curOp) { return f.apply(this, arguments) }\n    startOperation(this)\n    try { return f.apply(this, arguments) }\n    finally { endOperation(this) }\n  }\n}\nfunction docMethodOp(f) {\n  return function() {\n    var cm = this.cm\n    if (!cm || cm.curOp) { return f.apply(this, arguments) }\n    startOperation(cm)\n    try { return f.apply(this, arguments) }\n    finally { endOperation(cm) }\n  }\n}\n\n// Updates the display.view data structure for a given change to the\n// document. From and to are in pre-change coordinates. Lendiff is\n// the amount of lines added or subtracted by the change. This is\n// used for changes that span multiple lines, or change the way\n// lines are divided into visual lines. regLineChange (below)\n// registers single-line changes.\nfunction regChange(cm, from, to, lendiff) {\n  if (from == null) { from = cm.doc.first }\n  if (to == null) { to = cm.doc.first + cm.doc.size }\n  if (!lendiff) { lendiff = 0 }\n\n  var display = cm.display\n  if (lendiff && to < display.viewTo &&\n      (display.updateLineNumbers == null || display.updateLineNumbers > from))\n    { display.updateLineNumbers = from }\n\n  cm.curOp.viewChanged = true\n\n  if (from >= display.viewTo) { // Change after\n    if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n      { resetView(cm) }\n  } else if (to <= display.viewFrom) { // Change before\n    if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n      resetView(cm)\n    } else {\n      display.viewFrom += lendiff\n      display.viewTo += lendiff\n    }\n  } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n    resetView(cm)\n  } else if (from <= display.viewFrom) { // Top overlap\n    var cut = viewCuttingPoint(cm, to, to + lendiff, 1)\n    if (cut) {\n      display.view = display.view.slice(cut.index)\n      display.viewFrom = cut.lineN\n      display.viewTo += lendiff\n    } else {\n      resetView(cm)\n    }\n  } else if (to >= display.viewTo) { // Bottom overlap\n    var cut$1 = viewCuttingPoint(cm, from, from, -1)\n    if (cut$1) {\n      display.view = display.view.slice(0, cut$1.index)\n      display.viewTo = cut$1.lineN\n    } else {\n      resetView(cm)\n    }\n  } else { // Gap in the middle\n    var cutTop = viewCuttingPoint(cm, from, from, -1)\n    var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1)\n    if (cutTop && cutBot) {\n      display.view = display.view.slice(0, cutTop.index)\n        .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n        .concat(display.view.slice(cutBot.index))\n      display.viewTo += lendiff\n    } else {\n      resetView(cm)\n    }\n  }\n\n  var ext = display.externalMeasured\n  if (ext) {\n    if (to < ext.lineN)\n      { ext.lineN += lendiff }\n    else if (from < ext.lineN + ext.size)\n      { display.externalMeasured = null }\n  }\n}\n\n// Register a change to a single line. Type must be one of \"text\",\n// \"gutter\", \"class\", \"widget\"\nfunction regLineChange(cm, line, type) {\n  cm.curOp.viewChanged = true\n  var display = cm.display, ext = cm.display.externalMeasured\n  if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n    { display.externalMeasured = null }\n\n  if (line < display.viewFrom || line >= display.viewTo) { return }\n  var lineView = display.view[findViewIndex(cm, line)]\n  if (lineView.node == null) { return }\n  var arr = lineView.changes || (lineView.changes = [])\n  if (indexOf(arr, type) == -1) { arr.push(type) }\n}\n\n// Clear the view.\nfunction resetView(cm) {\n  cm.display.viewFrom = cm.display.viewTo = cm.doc.first\n  cm.display.view = []\n  cm.display.viewOffset = 0\n}\n\nfunction viewCuttingPoint(cm, oldN, newN, dir) {\n  var index = findViewIndex(cm, oldN), diff, view = cm.display.view\n  if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n    { return {index: index, lineN: newN} }\n  var n = cm.display.viewFrom\n  for (var i = 0; i < index; i++)\n    { n += view[i].size }\n  if (n != oldN) {\n    if (dir > 0) {\n      if (index == view.length - 1) { return null }\n      diff = (n + view[index].size) - oldN\n      index++\n    } else {\n      diff = n - oldN\n    }\n    oldN += diff; newN += diff\n  }\n  while (visualLineNo(cm.doc, newN) != newN) {\n    if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n    newN += dir * view[index - (dir < 0 ? 1 : 0)].size\n    index += dir\n  }\n  return {index: index, lineN: newN}\n}\n\n// Force the view to cover a given range, adding empty view element\n// or clipping off existing ones as needed.\nfunction adjustView(cm, from, to) {\n  var display = cm.display, view = display.view\n  if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n    display.view = buildViewArray(cm, from, to)\n    display.viewFrom = from\n  } else {\n    if (display.viewFrom > from)\n      { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view) }\n    else if (display.viewFrom < from)\n      { display.view = display.view.slice(findViewIndex(cm, from)) }\n    display.viewFrom = from\n    if (display.viewTo < to)\n      { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)) }\n    else if (display.viewTo > to)\n      { display.view = display.view.slice(0, findViewIndex(cm, to)) }\n  }\n  display.viewTo = to\n}\n\n// Count the number of lines in the view whose DOM representation is\n// out of date (or nonexistent).\nfunction countDirtyView(cm) {\n  var view = cm.display.view, dirty = 0\n  for (var i = 0; i < view.length; i++) {\n    var lineView = view[i]\n    if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty }\n  }\n  return dirty\n}\n\n// HIGHLIGHT WORKER\n\nfunction startWorker(cm, time) {\n  if (cm.doc.mode.startState && cm.doc.frontier < cm.display.viewTo)\n    { cm.state.highlight.set(time, bind(highlightWorker, cm)) }\n}\n\nfunction highlightWorker(cm) {\n  var doc = cm.doc\n  if (doc.frontier < doc.first) { doc.frontier = doc.first }\n  if (doc.frontier >= cm.display.viewTo) { return }\n  var end = +new Date + cm.options.workTime\n  var state = copyState(doc.mode, getStateBefore(cm, doc.frontier))\n  var changedLines = []\n\n  doc.iter(doc.frontier, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n    if (doc.frontier >= cm.display.viewFrom) { // Visible\n      var oldStyles = line.styles, tooLong = line.text.length > cm.options.maxHighlightLength\n      var highlighted = highlightLine(cm, line, tooLong ? copyState(doc.mode, state) : state, true)\n      line.styles = highlighted.styles\n      var oldCls = line.styleClasses, newCls = highlighted.classes\n      if (newCls) { line.styleClasses = newCls }\n      else if (oldCls) { line.styleClasses = null }\n      var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n        oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass)\n      for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i] }\n      if (ischange) { changedLines.push(doc.frontier) }\n      line.stateAfter = tooLong ? state : copyState(doc.mode, state)\n    } else {\n      if (line.text.length <= cm.options.maxHighlightLength)\n        { processLine(cm, line.text, state) }\n      line.stateAfter = doc.frontier % 5 == 0 ? copyState(doc.mode, state) : null\n    }\n    ++doc.frontier\n    if (+new Date > end) {\n      startWorker(cm, cm.options.workDelay)\n      return true\n    }\n  })\n  if (changedLines.length) { runInOp(cm, function () {\n    for (var i = 0; i < changedLines.length; i++)\n      { regLineChange(cm, changedLines[i], \"text\") }\n  }) }\n}\n\n// DISPLAY DRAWING\n\nvar DisplayUpdate = function(cm, viewport, force) {\n  var display = cm.display\n\n  this.viewport = viewport\n  // Store some values that we'll need later (but don't want to force a relayout for)\n  this.visible = visibleLines(display, cm.doc, viewport)\n  this.editorIsHidden = !display.wrapper.offsetWidth\n  this.wrapperHeight = display.wrapper.clientHeight\n  this.wrapperWidth = display.wrapper.clientWidth\n  this.oldDisplayWidth = displayWidth(cm)\n  this.force = force\n  this.dims = getDimensions(cm)\n  this.events = []\n};\n\nDisplayUpdate.prototype.signal = function (emitter, type) {\n  if (hasHandler(emitter, type))\n    { this.events.push(arguments) }\n};\nDisplayUpdate.prototype.finish = function () {\n    var this$1 = this;\n\n  for (var i = 0; i < this.events.length; i++)\n    { signal.apply(null, this$1.events[i]) }\n};\n\nfunction maybeClipScrollbars(cm) {\n  var display = cm.display\n  if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n    display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth\n    display.heightForcer.style.height = scrollGap(cm) + \"px\"\n    display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\"\n    display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\"\n    display.scrollbarsClipped = true\n  }\n}\n\n// Does the actual updating of the line display. Bails out\n// (returning false) when there is nothing to be done and forced is\n// false.\nfunction updateDisplayIfNeeded(cm, update) {\n  var display = cm.display, doc = cm.doc\n\n  if (update.editorIsHidden) {\n    resetView(cm)\n    return false\n  }\n\n  // Bail out if the visible area is already rendered and nothing changed.\n  if (!update.force &&\n      update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n      (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n      display.renderedView == display.view && countDirtyView(cm) == 0)\n    { return false }\n\n  if (maybeUpdateLineNumberWidth(cm)) {\n    resetView(cm)\n    update.dims = getDimensions(cm)\n  }\n\n  // Compute a suitable new viewport (from & to)\n  var end = doc.first + doc.size\n  var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first)\n  var to = Math.min(end, update.visible.to + cm.options.viewportMargin)\n  if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom) }\n  if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo) }\n  if (sawCollapsedSpans) {\n    from = visualLineNo(cm.doc, from)\n    to = visualLineEndNo(cm.doc, to)\n  }\n\n  var different = from != display.viewFrom || to != display.viewTo ||\n    display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth\n  adjustView(cm, from, to)\n\n  display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom))\n  // Position the mover div to align with the current scroll position\n  cm.display.mover.style.top = display.viewOffset + \"px\"\n\n  var toUpdate = countDirtyView(cm)\n  if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n      (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n    { return false }\n\n  // For big changes, we hide the enclosing element during the\n  // update, since that speeds up the operations on most browsers.\n  var focused = activeElt()\n  if (toUpdate > 4) { display.lineDiv.style.display = \"none\" }\n  patchDisplay(cm, display.updateLineNumbers, update.dims)\n  if (toUpdate > 4) { display.lineDiv.style.display = \"\" }\n  display.renderedView = display.view\n  // There might have been a widget with a focused element that got\n  // hidden or updated, if so re-focus it.\n  if (focused && activeElt() != focused && focused.offsetHeight) { focused.focus() }\n\n  // Prevent selection and cursors from interfering with the scroll\n  // width and height.\n  removeChildren(display.cursorDiv)\n  removeChildren(display.selectionDiv)\n  display.gutters.style.height = display.sizer.style.minHeight = 0\n\n  if (different) {\n    display.lastWrapHeight = update.wrapperHeight\n    display.lastWrapWidth = update.wrapperWidth\n    startWorker(cm, 400)\n  }\n\n  display.updateLineNumbers = null\n\n  return true\n}\n\nfunction postUpdateDisplay(cm, update) {\n  var viewport = update.viewport\n\n  for (var first = true;; first = false) {\n    if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n      // Clip forced viewport to actual scrollable area.\n      if (viewport && viewport.top != null)\n        { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)} }\n      // Updated line heights might result in the drawn area not\n      // actually covering the viewport. Keep looping until it does.\n      update.visible = visibleLines(cm.display, cm.doc, viewport)\n      if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n        { break }\n    }\n    if (!updateDisplayIfNeeded(cm, update)) { break }\n    updateHeightsInViewport(cm)\n    var barMeasure = measureForScrollbars(cm)\n    updateSelection(cm)\n    updateScrollbars(cm, barMeasure)\n    setDocumentHeight(cm, barMeasure)\n  }\n\n  update.signal(cm, \"update\", cm)\n  if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n    update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo)\n    cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo\n  }\n}\n\nfunction updateDisplaySimple(cm, viewport) {\n  var update = new DisplayUpdate(cm, viewport)\n  if (updateDisplayIfNeeded(cm, update)) {\n    updateHeightsInViewport(cm)\n    postUpdateDisplay(cm, update)\n    var barMeasure = measureForScrollbars(cm)\n    updateSelection(cm)\n    updateScrollbars(cm, barMeasure)\n    setDocumentHeight(cm, barMeasure)\n    update.finish()\n  }\n}\n\n// Sync the actual display DOM structure with display.view, removing\n// nodes for lines that are no longer in view, and creating the ones\n// that are not there yet, and updating the ones that are out of\n// date.\nfunction patchDisplay(cm, updateNumbersFrom, dims) {\n  var display = cm.display, lineNumbers = cm.options.lineNumbers\n  var container = display.lineDiv, cur = container.firstChild\n\n  function rm(node) {\n    var next = node.nextSibling\n    // Works around a throw-scroll bug in OS X Webkit\n    if (webkit && mac && cm.display.currentWheelTarget == node)\n      { node.style.display = \"none\" }\n    else\n      { node.parentNode.removeChild(node) }\n    return next\n  }\n\n  var view = display.view, lineN = display.viewFrom\n  // Loop over the elements in the view, syncing cur (the DOM nodes\n  // in display.lineDiv) with the view as we go.\n  for (var i = 0; i < view.length; i++) {\n    var lineView = view[i]\n    if (lineView.hidden) {\n    } else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n      var node = buildLineElement(cm, lineView, lineN, dims)\n      container.insertBefore(node, cur)\n    } else { // Already drawn\n      while (cur != lineView.node) { cur = rm(cur) }\n      var updateNumber = lineNumbers && updateNumbersFrom != null &&\n        updateNumbersFrom <= lineN && lineView.lineNumber\n      if (lineView.changes) {\n        if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false }\n        updateLineForChanges(cm, lineView, lineN, dims)\n      }\n      if (updateNumber) {\n        removeChildren(lineView.lineNumber)\n        lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)))\n      }\n      cur = lineView.node.nextSibling\n    }\n    lineN += lineView.size\n  }\n  while (cur) { cur = rm(cur) }\n}\n\nfunction updateGutterSpace(cm) {\n  var width = cm.display.gutters.offsetWidth\n  cm.display.sizer.style.marginLeft = width + \"px\"\n}\n\nfunction setDocumentHeight(cm, measure) {\n  cm.display.sizer.style.minHeight = measure.docHeight + \"px\"\n  cm.display.heightForcer.style.top = measure.docHeight + \"px\"\n  cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\"\n}\n\n// Rebuild the gutter elements, ensure the margin to the left of the\n// code matches their width.\nfunction updateGutters(cm) {\n  var gutters = cm.display.gutters, specs = cm.options.gutters\n  removeChildren(gutters)\n  var i = 0\n  for (; i < specs.length; ++i) {\n    var gutterClass = specs[i]\n    var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + gutterClass))\n    if (gutterClass == \"CodeMirror-linenumbers\") {\n      cm.display.lineGutter = gElt\n      gElt.style.width = (cm.display.lineNumWidth || 1) + \"px\"\n    }\n  }\n  gutters.style.display = i ? \"\" : \"none\"\n  updateGutterSpace(cm)\n}\n\n// Make sure the gutters options contains the element\n// \"CodeMirror-linenumbers\" when the lineNumbers option is true.\nfunction setGuttersForLineNumbers(options) {\n  var found = indexOf(options.gutters, \"CodeMirror-linenumbers\")\n  if (found == -1 && options.lineNumbers) {\n    options.gutters = options.gutters.concat([\"CodeMirror-linenumbers\"])\n  } else if (found > -1 && !options.lineNumbers) {\n    options.gutters = options.gutters.slice(0)\n    options.gutters.splice(found, 1)\n  }\n}\n\n// Selection objects are immutable. A new one is created every time\n// the selection changes. A selection is one or more non-overlapping\n// (and non-touching) ranges, sorted, and an integer that indicates\n// which one is the primary selection (the one that's scrolled into\n// view, that getCursor returns, etc).\nfunction Selection(ranges, primIndex) {\n  this.ranges = ranges\n  this.primIndex = primIndex\n}\n\nSelection.prototype = {\n  primary: function() { return this.ranges[this.primIndex] },\n  equals: function(other) {\n    var this$1 = this;\n\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this$1.ranges[i], there = other.ranges[i]\n      if (cmp(here.anchor, there.anchor) != 0 || cmp(here.head, there.head) != 0) { return false }\n    }\n    return true\n  },\n  deepCopy: function() {\n    var this$1 = this;\n\n    var out = []\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this$1.ranges[i].anchor), copyPos(this$1.ranges[i].head)) }\n    return new Selection(out, this.primIndex)\n  },\n  somethingSelected: function() {\n    var this$1 = this;\n\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this$1.ranges[i].empty()) { return true } }\n    return false\n  },\n  contains: function(pos, end) {\n    var this$1 = this;\n\n    if (!end) { end = pos }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this$1.ranges[i]\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  }\n}\n\nfunction Range(anchor, head) {\n  this.anchor = anchor; this.head = head\n}\n\nRange.prototype = {\n  from: function() { return minPos(this.anchor, this.head) },\n  to: function() { return maxPos(this.anchor, this.head) },\n  empty: function() {\n    return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch\n  }\n}\n\n// Take an unsorted, potentially overlapping set of ranges, and\n// build a selection out of it. 'Consumes' ranges array (modifying\n// it).\nfunction normalizeSelection(ranges, primIndex) {\n  var prim = ranges[primIndex]\n  ranges.sort(function (a, b) { return cmp(a.from(), b.from()); })\n  primIndex = indexOf(ranges, prim)\n  for (var i = 1; i < ranges.length; i++) {\n    var cur = ranges[i], prev = ranges[i - 1]\n    if (cmp(prev.to(), cur.from()) >= 0) {\n      var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to())\n      var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head\n      if (i <= primIndex) { --primIndex }\n      ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to))\n    }\n  }\n  return new Selection(ranges, primIndex)\n}\n\nfunction simpleSelection(anchor, head) {\n  return new Selection([new Range(anchor, head || anchor)], 0)\n}\n\n// Compute the position of the end of a change (its 'to' property\n// refers to the pre-change end).\nfunction changeEnd(change) {\n  if (!change.text) { return change.to }\n  return Pos(change.from.line + change.text.length - 1,\n             lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n}\n\n// Adjust a position to refer to the post-change position of the\n// same text, or the end of the change if the change covers it.\nfunction adjustForChange(pos, change) {\n  if (cmp(pos, change.from) < 0) { return pos }\n  if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n  var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch\n  if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch }\n  return Pos(line, ch)\n}\n\nfunction computeSelAfterChange(doc, change) {\n  var out = []\n  for (var i = 0; i < doc.sel.ranges.length; i++) {\n    var range = doc.sel.ranges[i]\n    out.push(new Range(adjustForChange(range.anchor, change),\n                       adjustForChange(range.head, change)))\n  }\n  return normalizeSelection(out, doc.sel.primIndex)\n}\n\nfunction offsetPos(pos, old, nw) {\n  if (pos.line == old.line)\n    { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n  else\n    { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n}\n\n// Used by replaceSelections to allow moving the selection to the\n// start or around the replaced test. Hint may be \"start\" or \"around\".\nfunction computeReplacedSel(doc, changes, hint) {\n  var out = []\n  var oldPrev = Pos(doc.first, 0), newPrev = oldPrev\n  for (var i = 0; i < changes.length; i++) {\n    var change = changes[i]\n    var from = offsetPos(change.from, oldPrev, newPrev)\n    var to = offsetPos(changeEnd(change), oldPrev, newPrev)\n    oldPrev = change.to\n    newPrev = to\n    if (hint == \"around\") {\n      var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0\n      out[i] = new Range(inv ? to : from, inv ? from : to)\n    } else {\n      out[i] = new Range(from, from)\n    }\n  }\n  return new Selection(out, doc.sel.primIndex)\n}\n\n// Used to get the editor into a consistent state again when options change.\n\nfunction loadMode(cm) {\n  cm.doc.mode = getMode(cm.options, cm.doc.modeOption)\n  resetModeState(cm)\n}\n\nfunction resetModeState(cm) {\n  cm.doc.iter(function (line) {\n    if (line.stateAfter) { line.stateAfter = null }\n    if (line.styles) { line.styles = null }\n  })\n  cm.doc.frontier = cm.doc.first\n  startWorker(cm, 100)\n  cm.state.modeGen++\n  if (cm.curOp) { regChange(cm) }\n}\n\n// DOCUMENT DATA STRUCTURE\n\n// By default, updates that start and end at the beginning of a line\n// are treated specially, in order to make the association of line\n// widgets and marker elements with the text behave more intuitive.\nfunction isWholeLineUpdate(doc, change) {\n  return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n    (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n}\n\n// Perform a change on the document data structure.\nfunction updateDoc(doc, change, markedSpans, estimateHeight) {\n  function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n  function update(line, text, spans) {\n    updateLine(line, text, spans, estimateHeight)\n    signalLater(line, \"change\", line, change)\n  }\n  function linesFor(start, end) {\n    var result = []\n    for (var i = start; i < end; ++i)\n      { result.push(new Line(text[i], spansFor(i), estimateHeight)) }\n    return result\n  }\n\n  var from = change.from, to = change.to, text = change.text\n  var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line)\n  var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line\n\n  // Adjust the line structure\n  if (change.full) {\n    doc.insert(0, linesFor(0, text.length))\n    doc.remove(text.length, doc.size - text.length)\n  } else if (isWholeLineUpdate(doc, change)) {\n    // This is a whole-line replace. Treated specially to make\n    // sure line objects move the way they are supposed to.\n    var added = linesFor(0, text.length - 1)\n    update(lastLine, lastLine.text, lastSpans)\n    if (nlines) { doc.remove(from.line, nlines) }\n    if (added.length) { doc.insert(from.line, added) }\n  } else if (firstLine == lastLine) {\n    if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans)\n    } else {\n      var added$1 = linesFor(1, text.length - 1)\n      added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight))\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0))\n      doc.insert(from.line + 1, added$1)\n    }\n  } else if (text.length == 1) {\n    update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0))\n    doc.remove(from.line + 1, nlines)\n  } else {\n    update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0))\n    update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans)\n    var added$2 = linesFor(1, text.length - 1)\n    if (nlines > 1) { doc.remove(from.line + 1, nlines - 1) }\n    doc.insert(from.line + 1, added$2)\n  }\n\n  signalLater(doc, \"change\", doc, change)\n}\n\n// Call f for all linked documents.\nfunction linkedDocs(doc, f, sharedHistOnly) {\n  function propagate(doc, skip, sharedHist) {\n    if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n      var rel = doc.linked[i]\n      if (rel.doc == skip) { continue }\n      var shared = sharedHist && rel.sharedHist\n      if (sharedHistOnly && !shared) { continue }\n      f(rel.doc, shared)\n      propagate(rel.doc, doc, shared)\n    } }\n  }\n  propagate(doc, null, true)\n}\n\n// Attach a document to an editor.\nfunction attachDoc(cm, doc) {\n  if (doc.cm) { throw new Error(\"This document is already in use.\") }\n  cm.doc = doc\n  doc.cm = cm\n  estimateLineHeights(cm)\n  loadMode(cm)\n  if (!cm.options.lineWrapping) { findMaxLine(cm) }\n  cm.options.mode = doc.modeOption\n  regChange(cm)\n}\n\nfunction History(startGen) {\n  // Arrays of change events and selections. Doing something adds an\n  // event to done and clears undo. Undoing moves events from done\n  // to undone, redoing moves them in the other direction.\n  this.done = []; this.undone = []\n  this.undoDepth = Infinity\n  // Used to track when changes can be merged into a single undo\n  // event\n  this.lastModTime = this.lastSelTime = 0\n  this.lastOp = this.lastSelOp = null\n  this.lastOrigin = this.lastSelOrigin = null\n  // Used by the isClean() method\n  this.generation = this.maxGeneration = startGen || 1\n}\n\n// Create a history change event from an updateDoc-style change\n// object.\nfunction historyChangeFromChange(doc, change) {\n  var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)}\n  attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1)\n  linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true)\n  return histChange\n}\n\n// Pop all selection events off the end of a history array. Stop at\n// a change event.\nfunction clearSelectionEvents(array) {\n  while (array.length) {\n    var last = lst(array)\n    if (last.ranges) { array.pop() }\n    else { break }\n  }\n}\n\n// Find the top change event in the history. Pop off selection\n// events that are in the way.\nfunction lastChangeEvent(hist, force) {\n  if (force) {\n    clearSelectionEvents(hist.done)\n    return lst(hist.done)\n  } else if (hist.done.length && !lst(hist.done).ranges) {\n    return lst(hist.done)\n  } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n    hist.done.pop()\n    return lst(hist.done)\n  }\n}\n\n// Register a change in the history. Merges changes that are within\n// a single operation, or are close together with an origin that\n// allows merging (starting with \"+\") into a single event.\nfunction addChangeToHistory(doc, change, selAfter, opId) {\n  var hist = doc.history\n  hist.undone.length = 0\n  var time = +new Date, cur\n  var last\n\n  if ((hist.lastOp == opId ||\n       hist.lastOrigin == change.origin && change.origin &&\n       ((change.origin.charAt(0) == \"+\" && doc.cm && hist.lastModTime > time - doc.cm.options.historyEventDelay) ||\n        change.origin.charAt(0) == \"*\")) &&\n      (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n    // Merge this change into the last event\n    last = lst(cur.changes)\n    if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n      // Optimized case for simple insertion -- don't want to add\n      // new changesets for every character typed\n      last.to = changeEnd(change)\n    } else {\n      // Add new sub-event\n      cur.changes.push(historyChangeFromChange(doc, change))\n    }\n  } else {\n    // Can not be merged, start a new event.\n    var before = lst(hist.done)\n    if (!before || !before.ranges)\n      { pushSelectionToHistory(doc.sel, hist.done) }\n    cur = {changes: [historyChangeFromChange(doc, change)],\n           generation: hist.generation}\n    hist.done.push(cur)\n    while (hist.done.length > hist.undoDepth) {\n      hist.done.shift()\n      if (!hist.done[0].ranges) { hist.done.shift() }\n    }\n  }\n  hist.done.push(selAfter)\n  hist.generation = ++hist.maxGeneration\n  hist.lastModTime = hist.lastSelTime = time\n  hist.lastOp = hist.lastSelOp = opId\n  hist.lastOrigin = hist.lastSelOrigin = change.origin\n\n  if (!last) { signal(doc, \"historyAdded\") }\n}\n\nfunction selectionEventCanBeMerged(doc, origin, prev, sel) {\n  var ch = origin.charAt(0)\n  return ch == \"*\" ||\n    ch == \"+\" &&\n    prev.ranges.length == sel.ranges.length &&\n    prev.somethingSelected() == sel.somethingSelected() &&\n    new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n}\n\n// Called whenever the selection changes, sets the new selection as\n// the pending selection in the history, and pushes the old pending\n// selection into the 'done' array when it was significantly\n// different (in number of selected ranges, emptiness, or time).\nfunction addSelectionToHistory(doc, sel, opId, options) {\n  var hist = doc.history, origin = options && options.origin\n\n  // A new event is started when the previous origin does not match\n  // the current, or the origins don't allow matching. Origins\n  // starting with * are always merged, those starting with + are\n  // merged when similar and close together in time.\n  if (opId == hist.lastSelOp ||\n      (origin && hist.lastSelOrigin == origin &&\n       (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n        selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n    { hist.done[hist.done.length - 1] = sel }\n  else\n    { pushSelectionToHistory(sel, hist.done) }\n\n  hist.lastSelTime = +new Date\n  hist.lastSelOrigin = origin\n  hist.lastSelOp = opId\n  if (options && options.clearRedo !== false)\n    { clearSelectionEvents(hist.undone) }\n}\n\nfunction pushSelectionToHistory(sel, dest) {\n  var top = lst(dest)\n  if (!(top && top.ranges && top.equals(sel)))\n    { dest.push(sel) }\n}\n\n// Used to store marked span information in the history.\nfunction attachLocalSpans(doc, change, from, to) {\n  var existing = change[\"spans_\" + doc.id], n = 0\n  doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n    if (line.markedSpans)\n      { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans }\n    ++n\n  })\n}\n\n// When un/re-doing restores text containing marked spans, those\n// that have been explicitly cleared should not be restored.\nfunction removeClearedSpans(spans) {\n  if (!spans) { return null }\n  var out\n  for (var i = 0; i < spans.length; ++i) {\n    if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i) } }\n    else if (out) { out.push(spans[i]) }\n  }\n  return !out ? spans : out.length ? out : null\n}\n\n// Retrieve and filter the old marked spans stored in a change event.\nfunction getOldSpans(doc, change) {\n  var found = change[\"spans_\" + doc.id]\n  if (!found) { return null }\n  var nw = []\n  for (var i = 0; i < change.text.length; ++i)\n    { nw.push(removeClearedSpans(found[i])) }\n  return nw\n}\n\n// Used for un/re-doing changes from the history. Combines the\n// result of computing the existing spans with the set of spans that\n// existed in the history (so that deleting around a span and then\n// undoing brings back the span).\nfunction mergeOldSpans(doc, change) {\n  var old = getOldSpans(doc, change)\n  var stretched = stretchSpansOverChange(doc, change)\n  if (!old) { return stretched }\n  if (!stretched) { return old }\n\n  for (var i = 0; i < old.length; ++i) {\n    var oldCur = old[i], stretchCur = stretched[i]\n    if (oldCur && stretchCur) {\n      spans: for (var j = 0; j < stretchCur.length; ++j) {\n        var span = stretchCur[j]\n        for (var k = 0; k < oldCur.length; ++k)\n          { if (oldCur[k].marker == span.marker) { continue spans } }\n        oldCur.push(span)\n      }\n    } else if (stretchCur) {\n      old[i] = stretchCur\n    }\n  }\n  return old\n}\n\n// Used both to provide a JSON-safe object in .getHistory, and, when\n// detaching a document, to split the history in two\nfunction copyHistoryArray(events, newGroup, instantiateSel) {\n  var copy = []\n  for (var i = 0; i < events.length; ++i) {\n    var event = events[i]\n    if (event.ranges) {\n      copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event)\n      continue\n    }\n    var changes = event.changes, newChanges = []\n    copy.push({changes: newChanges})\n    for (var j = 0; j < changes.length; ++j) {\n      var change = changes[j], m = (void 0)\n      newChanges.push({from: change.from, to: change.to, text: change.text})\n      if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n        if (indexOf(newGroup, Number(m[1])) > -1) {\n          lst(newChanges)[prop] = change[prop]\n          delete change[prop]\n        }\n      } } }\n    }\n  }\n  return copy\n}\n\n// The 'scroll' parameter given to many of these indicated whether\n// the new cursor position should be scrolled into view after\n// modifying the selection.\n\n// If shift is held or the extend flag is set, extends a range to\n// include a given position (and optionally a second position).\n// Otherwise, simply returns the range between the given positions.\n// Used for cursor motion and such.\nfunction extendRange(doc, range, head, other) {\n  if (doc.cm && doc.cm.display.shift || doc.extend) {\n    var anchor = range.anchor\n    if (other) {\n      var posBefore = cmp(head, anchor) < 0\n      if (posBefore != (cmp(other, anchor) < 0)) {\n        anchor = head\n        head = other\n      } else if (posBefore != (cmp(head, other) < 0)) {\n        head = other\n      }\n    }\n    return new Range(anchor, head)\n  } else {\n    return new Range(other || head, head)\n  }\n}\n\n// Extend the primary selection range, discard the rest.\nfunction extendSelection(doc, head, other, options) {\n  setSelection(doc, new Selection([extendRange(doc, doc.sel.primary(), head, other)], 0), options)\n}\n\n// Extend all selections (pos is an array of selections with length\n// equal the number of selections)\nfunction extendSelections(doc, heads, options) {\n  var out = []\n  for (var i = 0; i < doc.sel.ranges.length; i++)\n    { out[i] = extendRange(doc, doc.sel.ranges[i], heads[i], null) }\n  var newSel = normalizeSelection(out, doc.sel.primIndex)\n  setSelection(doc, newSel, options)\n}\n\n// Updates a single range in the selection.\nfunction replaceOneSelection(doc, i, range, options) {\n  var ranges = doc.sel.ranges.slice(0)\n  ranges[i] = range\n  setSelection(doc, normalizeSelection(ranges, doc.sel.primIndex), options)\n}\n\n// Reset the selection to a single range.\nfunction setSimpleSelection(doc, anchor, head, options) {\n  setSelection(doc, simpleSelection(anchor, head), options)\n}\n\n// Give beforeSelectionChange handlers a change to influence a\n// selection update.\nfunction filterSelectionChange(doc, sel, options) {\n  var obj = {\n    ranges: sel.ranges,\n    update: function(ranges) {\n      var this$1 = this;\n\n      this.ranges = []\n      for (var i = 0; i < ranges.length; i++)\n        { this$1.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                   clipPos(doc, ranges[i].head)) }\n    },\n    origin: options && options.origin\n  }\n  signal(doc, \"beforeSelectionChange\", doc, obj)\n  if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj) }\n  if (obj.ranges != sel.ranges) { return normalizeSelection(obj.ranges, obj.ranges.length - 1) }\n  else { return sel }\n}\n\nfunction setSelectionReplaceHistory(doc, sel, options) {\n  var done = doc.history.done, last = lst(done)\n  if (last && last.ranges) {\n    done[done.length - 1] = sel\n    setSelectionNoUndo(doc, sel, options)\n  } else {\n    setSelection(doc, sel, options)\n  }\n}\n\n// Set a new selection.\nfunction setSelection(doc, sel, options) {\n  setSelectionNoUndo(doc, sel, options)\n  addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options)\n}\n\nfunction setSelectionNoUndo(doc, sel, options) {\n  if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n    { sel = filterSelectionChange(doc, sel, options) }\n\n  var bias = options && options.bias ||\n    (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1)\n  setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true))\n\n  if (!(options && options.scroll === false) && doc.cm)\n    { ensureCursorVisible(doc.cm) }\n}\n\nfunction setSelectionInner(doc, sel) {\n  if (sel.equals(doc.sel)) { return }\n\n  doc.sel = sel\n\n  if (doc.cm) {\n    doc.cm.curOp.updateInput = doc.cm.curOp.selectionChanged = true\n    signalCursorActivity(doc.cm)\n  }\n  signalLater(doc, \"cursorActivity\", doc)\n}\n\n// Verify that the selection does not partially select any atomic\n// marked ranges.\nfunction reCheckSelection(doc) {\n  setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false), sel_dontScroll)\n}\n\n// Return a selection that does not partially select any atomic\n// ranges.\nfunction skipAtomicInSelection(doc, sel, bias, mayClear) {\n  var out\n  for (var i = 0; i < sel.ranges.length; i++) {\n    var range = sel.ranges[i]\n    var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i]\n    var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear)\n    var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear)\n    if (out || newAnchor != range.anchor || newHead != range.head) {\n      if (!out) { out = sel.ranges.slice(0, i) }\n      out[i] = new Range(newAnchor, newHead)\n    }\n  }\n  return out ? normalizeSelection(out, sel.primIndex) : sel\n}\n\nfunction skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n  var line = getLine(doc, pos.line)\n  if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n    var sp = line.markedSpans[i], m = sp.marker\n    if ((sp.from == null || (m.inclusiveLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n        (sp.to == null || (m.inclusiveRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n      if (mayClear) {\n        signal(m, \"beforeCursorEnter\")\n        if (m.explicitlyCleared) {\n          if (!line.markedSpans) { break }\n          else {--i; continue}\n        }\n      }\n      if (!m.atomic) { continue }\n\n      if (oldPos) {\n        var near = m.find(dir < 0 ? 1 : -1), diff = (void 0)\n        if (dir < 0 ? m.inclusiveRight : m.inclusiveLeft)\n          { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null) }\n        if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n          { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n      }\n\n      var far = m.find(dir < 0 ? -1 : 1)\n      if (dir < 0 ? m.inclusiveLeft : m.inclusiveRight)\n        { far = movePos(doc, far, dir, far.line == pos.line ? line : null) }\n      return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n    }\n  } }\n  return pos\n}\n\n// Ensure a given position is not inside an atomic range.\nfunction skipAtomic(doc, pos, oldPos, bias, mayClear) {\n  var dir = bias || 1\n  var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n      (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n      skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n      (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true))\n  if (!found) {\n    doc.cantEdit = true\n    return Pos(doc.first, 0)\n  }\n  return found\n}\n\nfunction movePos(doc, pos, dir, line) {\n  if (dir < 0 && pos.ch == 0) {\n    if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n    else { return null }\n  } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n    if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n    else { return null }\n  } else {\n    return new Pos(pos.line, pos.ch + dir)\n  }\n}\n\nfunction selectAll(cm) {\n  cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll)\n}\n\n// UPDATING\n\n// Allow \"beforeChange\" event handlers to influence a change\nfunction filterChange(doc, change, update) {\n  var obj = {\n    canceled: false,\n    from: change.from,\n    to: change.to,\n    text: change.text,\n    origin: change.origin,\n    cancel: function () { return obj.canceled = true; }\n  }\n  if (update) { obj.update = function (from, to, text, origin) {\n    if (from) { obj.from = clipPos(doc, from) }\n    if (to) { obj.to = clipPos(doc, to) }\n    if (text) { obj.text = text }\n    if (origin !== undefined) { obj.origin = origin }\n  } }\n  signal(doc, \"beforeChange\", doc, obj)\n  if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj) }\n\n  if (obj.canceled) { return null }\n  return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n}\n\n// Apply a change to a document, and add it to the document's\n// history, and propagating it to all linked documents.\nfunction makeChange(doc, change, ignoreReadOnly) {\n  if (doc.cm) {\n    if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n    if (doc.cm.state.suppressEdits) { return }\n  }\n\n  if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n    change = filterChange(doc, change, true)\n    if (!change) { return }\n  }\n\n  // Possibly split or suppress the update based on the presence\n  // of read-only spans in its range.\n  var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to)\n  if (split) {\n    for (var i = split.length - 1; i >= 0; --i)\n      { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text}) }\n  } else {\n    makeChangeInner(doc, change)\n  }\n}\n\nfunction makeChangeInner(doc, change) {\n  if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n  var selAfter = computeSelAfterChange(doc, change)\n  addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN)\n\n  makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change))\n  var rebased = []\n\n  linkedDocs(doc, function (doc, sharedHist) {\n    if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n      rebaseHist(doc.history, change)\n      rebased.push(doc.history)\n    }\n    makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change))\n  })\n}\n\n// Revert a change stored in a document's history.\nfunction makeChangeFromHistory(doc, type, allowSelectionOnly) {\n  if (doc.cm && doc.cm.state.suppressEdits && !allowSelectionOnly) { return }\n\n  var hist = doc.history, event, selAfter = doc.sel\n  var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done\n\n  // Verify that there is a useable event (so that ctrl-z won't\n  // needlessly clear selection events)\n  var i = 0\n  for (; i < source.length; i++) {\n    event = source[i]\n    if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n      { break }\n  }\n  if (i == source.length) { return }\n  hist.lastOrigin = hist.lastSelOrigin = null\n\n  for (;;) {\n    event = source.pop()\n    if (event.ranges) {\n      pushSelectionToHistory(event, dest)\n      if (allowSelectionOnly && !event.equals(doc.sel)) {\n        setSelection(doc, event, {clearRedo: false})\n        return\n      }\n      selAfter = event\n    }\n    else { break }\n  }\n\n  // Build up a reverse change object to add to the opposite history\n  // stack (redo when undoing, and vice versa).\n  var antiChanges = []\n  pushSelectionToHistory(selAfter, dest)\n  dest.push({changes: antiChanges, generation: hist.generation})\n  hist.generation = event.generation || ++hist.maxGeneration\n\n  var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")\n\n  var loop = function ( i ) {\n    var change = event.changes[i]\n    change.origin = type\n    if (filter && !filterChange(doc, change, false)) {\n      source.length = 0\n      return {}\n    }\n\n    antiChanges.push(historyChangeFromChange(doc, change))\n\n    var after = i ? computeSelAfterChange(doc, change) : lst(source)\n    makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change))\n    if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}) }\n    var rebased = []\n\n    // Propagate to the linked documents\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change)\n        rebased.push(doc.history)\n      }\n      makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change))\n    })\n  };\n\n  for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n    var returned = loop( i$1 );\n\n    if ( returned ) return returned.v;\n  }\n}\n\n// Sub-views need their line numbers shifted when text is added\n// above or below them in the parent document.\nfunction shiftDoc(doc, distance) {\n  if (distance == 0) { return }\n  doc.first += distance\n  doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n    Pos(range.anchor.line + distance, range.anchor.ch),\n    Pos(range.head.line + distance, range.head.ch)\n  ); }), doc.sel.primIndex)\n  if (doc.cm) {\n    regChange(doc.cm, doc.first, doc.first - distance, distance)\n    for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n      { regLineChange(doc.cm, l, \"gutter\") }\n  }\n}\n\n// More lower-level change function, handling only a single document\n// (not linked ones).\nfunction makeChangeSingleDoc(doc, change, selAfter, spans) {\n  if (doc.cm && !doc.cm.curOp)\n    { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n  if (change.to.line < doc.first) {\n    shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line))\n    return\n  }\n  if (change.from.line > doc.lastLine()) { return }\n\n  // Clip the change to the size of this doc\n  if (change.from.line < doc.first) {\n    var shift = change.text.length - 1 - (doc.first - change.from.line)\n    shiftDoc(doc, shift)\n    change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n              text: [lst(change.text)], origin: change.origin}\n  }\n  var last = doc.lastLine()\n  if (change.to.line > last) {\n    change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n              text: [change.text[0]], origin: change.origin}\n  }\n\n  change.removed = getBetween(doc, change.from, change.to)\n\n  if (!selAfter) { selAfter = computeSelAfterChange(doc, change) }\n  if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans) }\n  else { updateDoc(doc, change, spans) }\n  setSelectionNoUndo(doc, selAfter, sel_dontScroll)\n}\n\n// Handle the interaction of a change to a document with the editor\n// that this document is part of.\nfunction makeChangeSingleDocInEditor(cm, change, spans) {\n  var doc = cm.doc, display = cm.display, from = change.from, to = change.to\n\n  var recomputeMaxLength = false, checkWidthStart = from.line\n  if (!cm.options.lineWrapping) {\n    checkWidthStart = lineNo(visualLine(getLine(doc, from.line)))\n    doc.iter(checkWidthStart, to.line + 1, function (line) {\n      if (line == display.maxLine) {\n        recomputeMaxLength = true\n        return true\n      }\n    })\n  }\n\n  if (doc.sel.contains(change.from, change.to) > -1)\n    { signalCursorActivity(cm) }\n\n  updateDoc(doc, change, spans, estimateHeight(cm))\n\n  if (!cm.options.lineWrapping) {\n    doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n      var len = lineLength(line)\n      if (len > display.maxLineLength) {\n        display.maxLine = line\n        display.maxLineLength = len\n        display.maxLineChanged = true\n        recomputeMaxLength = false\n      }\n    })\n    if (recomputeMaxLength) { cm.curOp.updateMaxLine = true }\n  }\n\n  // Adjust frontier, schedule worker\n  doc.frontier = Math.min(doc.frontier, from.line)\n  startWorker(cm, 400)\n\n  var lendiff = change.text.length - (to.line - from.line) - 1\n  // Remember that these lines changed, for updating the display\n  if (change.full)\n    { regChange(cm) }\n  else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n    { regLineChange(cm, from.line, \"text\") }\n  else\n    { regChange(cm, from.line, to.line + 1, lendiff) }\n\n  var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\")\n  if (changeHandler || changesHandler) {\n    var obj = {\n      from: from, to: to,\n      text: change.text,\n      removed: change.removed,\n      origin: change.origin\n    }\n    if (changeHandler) { signalLater(cm, \"change\", cm, obj) }\n    if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj) }\n  }\n  cm.display.selForContextMenu = null\n}\n\nfunction replaceRange(doc, code, from, to, origin) {\n  if (!to) { to = from }\n  if (cmp(to, from) < 0) { var tmp = to; to = from; from = tmp }\n  if (typeof code == \"string\") { code = doc.splitLines(code) }\n  makeChange(doc, {from: from, to: to, text: code, origin: origin})\n}\n\n// Rebasing/resetting history to deal with externally-sourced changes\n\nfunction rebaseHistSelSingle(pos, from, to, diff) {\n  if (to < pos.line) {\n    pos.line += diff\n  } else if (from < pos.line) {\n    pos.line = from\n    pos.ch = 0\n  }\n}\n\n// Tries to rebase an array of history events given a change in the\n// document. If the change touches the same lines as the event, the\n// event, and everything 'behind' it, is discarded. If the change is\n// before the event, the event's positions are updated. Uses a\n// copy-on-write scheme for the positions, to avoid having to\n// reallocate them all on every rebase, but also avoid problems with\n// shared position objects being unsafely updated.\nfunction rebaseHistArray(array, from, to, diff) {\n  for (var i = 0; i < array.length; ++i) {\n    var sub = array[i], ok = true\n    if (sub.ranges) {\n      if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true }\n      for (var j = 0; j < sub.ranges.length; j++) {\n        rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff)\n        rebaseHistSelSingle(sub.ranges[j].head, from, to, diff)\n      }\n      continue\n    }\n    for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n      var cur = sub.changes[j$1]\n      if (to < cur.from.line) {\n        cur.from = Pos(cur.from.line + diff, cur.from.ch)\n        cur.to = Pos(cur.to.line + diff, cur.to.ch)\n      } else if (from <= cur.to.line) {\n        ok = false\n        break\n      }\n    }\n    if (!ok) {\n      array.splice(0, i + 1)\n      i = 0\n    }\n  }\n}\n\nfunction rebaseHist(hist, change) {\n  var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1\n  rebaseHistArray(hist.done, from, to, diff)\n  rebaseHistArray(hist.undone, from, to, diff)\n}\n\n// Utility for applying a change to a line by handle or number,\n// returning the number and optionally registering the line as\n// changed.\nfunction changeLine(doc, handle, changeType, op) {\n  var no = handle, line = handle\n  if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)) }\n  else { no = lineNo(handle) }\n  if (no == null) { return null }\n  if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType) }\n  return line\n}\n\n// The document is represented as a BTree consisting of leaves, with\n// chunk of lines in them, and branches, with up to ten leaves or\n// other branch nodes below them. The top node is always a branch\n// node, and is the document object itself (meaning it has\n// additional methods and properties).\n//\n// All nodes have parent links. The tree is used both to go from\n// line numbers to line objects, and to go from objects to numbers.\n// It also indexes by height, and is used to convert between height\n// and line object, and to find the total height of the document.\n//\n// See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\nfunction LeafChunk(lines) {\n  var this$1 = this;\n\n  this.lines = lines\n  this.parent = null\n  var height = 0\n  for (var i = 0; i < lines.length; ++i) {\n    lines[i].parent = this$1\n    height += lines[i].height\n  }\n  this.height = height\n}\n\nLeafChunk.prototype = {\n  chunkSize: function() { return this.lines.length },\n  // Remove the n lines at offset 'at'.\n  removeInner: function(at, n) {\n    var this$1 = this;\n\n    for (var i = at, e = at + n; i < e; ++i) {\n      var line = this$1.lines[i]\n      this$1.height -= line.height\n      cleanUpLine(line)\n      signalLater(line, \"delete\")\n    }\n    this.lines.splice(at, n)\n  },\n  // Helper used to collapse a small branch into a single leaf.\n  collapse: function(lines) {\n    lines.push.apply(lines, this.lines)\n  },\n  // Insert the given array of lines at offset 'at', count them as\n  // having the given height.\n  insertInner: function(at, lines, height) {\n    var this$1 = this;\n\n    this.height += height\n    this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at))\n    for (var i = 0; i < lines.length; ++i) { lines[i].parent = this$1 }\n  },\n  // Used to iterate over a part of the tree.\n  iterN: function(at, n, op) {\n    var this$1 = this;\n\n    for (var e = at + n; at < e; ++at)\n      { if (op(this$1.lines[at])) { return true } }\n  }\n}\n\nfunction BranchChunk(children) {\n  var this$1 = this;\n\n  this.children = children\n  var size = 0, height = 0\n  for (var i = 0; i < children.length; ++i) {\n    var ch = children[i]\n    size += ch.chunkSize(); height += ch.height\n    ch.parent = this$1\n  }\n  this.size = size\n  this.height = height\n  this.parent = null\n}\n\nBranchChunk.prototype = {\n  chunkSize: function() { return this.size },\n  removeInner: function(at, n) {\n    var this$1 = this;\n\n    this.size -= n\n    for (var i = 0; i < this.children.length; ++i) {\n      var child = this$1.children[i], sz = child.chunkSize()\n      if (at < sz) {\n        var rm = Math.min(n, sz - at), oldHeight = child.height\n        child.removeInner(at, rm)\n        this$1.height -= oldHeight - child.height\n        if (sz == rm) { this$1.children.splice(i--, 1); child.parent = null }\n        if ((n -= rm) == 0) { break }\n        at = 0\n      } else { at -= sz }\n    }\n    // If the result is smaller than 25 lines, ensure that it is a\n    // single leaf node.\n    if (this.size - n < 25 &&\n        (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n      var lines = []\n      this.collapse(lines)\n      this.children = [new LeafChunk(lines)]\n      this.children[0].parent = this\n    }\n  },\n  collapse: function(lines) {\n    var this$1 = this;\n\n    for (var i = 0; i < this.children.length; ++i) { this$1.children[i].collapse(lines) }\n  },\n  insertInner: function(at, lines, height) {\n    var this$1 = this;\n\n    this.size += lines.length\n    this.height += height\n    for (var i = 0; i < this.children.length; ++i) {\n      var child = this$1.children[i], sz = child.chunkSize()\n      if (at <= sz) {\n        child.insertInner(at, lines, height)\n        if (child.lines && child.lines.length > 50) {\n          // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n          // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n          var remaining = child.lines.length % 25 + 25\n          for (var pos = remaining; pos < child.lines.length;) {\n            var leaf = new LeafChunk(child.lines.slice(pos, pos += 25))\n            child.height -= leaf.height\n            this$1.children.splice(++i, 0, leaf)\n            leaf.parent = this$1\n          }\n          child.lines = child.lines.slice(0, remaining)\n          this$1.maybeSpill()\n        }\n        break\n      }\n      at -= sz\n    }\n  },\n  // When a node has grown, check whether it should be split.\n  maybeSpill: function() {\n    if (this.children.length <= 10) { return }\n    var me = this\n    do {\n      var spilled = me.children.splice(me.children.length - 5, 5)\n      var sibling = new BranchChunk(spilled)\n      if (!me.parent) { // Become the parent node\n        var copy = new BranchChunk(me.children)\n        copy.parent = me\n        me.children = [copy, sibling]\n        me = copy\n     } else {\n        me.size -= sibling.size\n        me.height -= sibling.height\n        var myIndex = indexOf(me.parent.children, me)\n        me.parent.children.splice(myIndex + 1, 0, sibling)\n      }\n      sibling.parent = me.parent\n    } while (me.children.length > 10)\n    me.parent.maybeSpill()\n  },\n  iterN: function(at, n, op) {\n    var this$1 = this;\n\n    for (var i = 0; i < this.children.length; ++i) {\n      var child = this$1.children[i], sz = child.chunkSize()\n      if (at < sz) {\n        var used = Math.min(n, sz - at)\n        if (child.iterN(at, used, op)) { return true }\n        if ((n -= used) == 0) { break }\n        at = 0\n      } else { at -= sz }\n    }\n  }\n}\n\n// Line widgets are block elements displayed above or below a line.\n\nfunction LineWidget(doc, node, options) {\n  var this$1 = this;\n\n  if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n    { this$1[opt] = options[opt] } } }\n  this.doc = doc\n  this.node = node\n}\neventMixin(LineWidget)\n\nfunction adjustScrollWhenAboveVisible(cm, line, diff) {\n  if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n    { addToScrollPos(cm, null, diff) }\n}\n\nLineWidget.prototype.clear = function() {\n  var this$1 = this;\n\n  var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line)\n  if (no == null || !ws) { return }\n  for (var i = 0; i < ws.length; ++i) { if (ws[i] == this$1) { ws.splice(i--, 1) } }\n  if (!ws.length) { line.widgets = null }\n  var height = widgetHeight(this)\n  updateLineHeight(line, Math.max(0, line.height - height))\n  if (cm) { runInOp(cm, function () {\n    adjustScrollWhenAboveVisible(cm, line, -height)\n    regLineChange(cm, no, \"widget\")\n  }) }\n}\nLineWidget.prototype.changed = function() {\n  var oldH = this.height, cm = this.doc.cm, line = this.line\n  this.height = null\n  var diff = widgetHeight(this) - oldH\n  if (!diff) { return }\n  updateLineHeight(line, line.height + diff)\n  if (cm) { runInOp(cm, function () {\n    cm.curOp.forceUpdate = true\n    adjustScrollWhenAboveVisible(cm, line, diff)\n  }) }\n}\n\nfunction addLineWidget(doc, handle, node, options) {\n  var widget = new LineWidget(doc, node, options)\n  var cm = doc.cm\n  if (cm && widget.noHScroll) { cm.display.alignWidgets = true }\n  changeLine(doc, handle, \"widget\", function (line) {\n    var widgets = line.widgets || (line.widgets = [])\n    if (widget.insertAt == null) { widgets.push(widget) }\n    else { widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget) }\n    widget.line = line\n    if (cm && !lineIsHidden(doc, line)) {\n      var aboveVisible = heightAtLine(line) < doc.scrollTop\n      updateLineHeight(line, line.height + widgetHeight(widget))\n      if (aboveVisible) { addToScrollPos(cm, null, widget.height) }\n      cm.curOp.forceUpdate = true\n    }\n    return true\n  })\n  return widget\n}\n\n// TEXTMARKERS\n\n// Created with markText and setBookmark methods. A TextMarker is a\n// handle that can be used to clear or find a marked position in the\n// document. Line objects hold arrays (markedSpans) containing\n// {from, to, marker} object pointing to such marker objects, and\n// indicating that such a marker is present on that line. Multiple\n// lines may point to the same marker when it spans across lines.\n// The spans will have null for their from/to properties when the\n// marker continues beyond the start/end of the line. Markers have\n// links back to the lines they currently touch.\n\n// Collapsed markers have unique ids, in order to be able to order\n// them, which is needed for uniquely determining an outer marker\n// when they overlap (they may nest, but not partially overlap).\nvar nextMarkerId = 0\n\nfunction TextMarker(doc, type) {\n  this.lines = []\n  this.type = type\n  this.doc = doc\n  this.id = ++nextMarkerId\n}\neventMixin(TextMarker)\n\n// Clear the marker.\nTextMarker.prototype.clear = function() {\n  var this$1 = this;\n\n  if (this.explicitlyCleared) { return }\n  var cm = this.doc.cm, withOp = cm && !cm.curOp\n  if (withOp) { startOperation(cm) }\n  if (hasHandler(this, \"clear\")) {\n    var found = this.find()\n    if (found) { signalLater(this, \"clear\", found.from, found.to) }\n  }\n  var min = null, max = null\n  for (var i = 0; i < this.lines.length; ++i) {\n    var line = this$1.lines[i]\n    var span = getMarkedSpanFor(line.markedSpans, this$1)\n    if (cm && !this$1.collapsed) { regLineChange(cm, lineNo(line), \"text\") }\n    else if (cm) {\n      if (span.to != null) { max = lineNo(line) }\n      if (span.from != null) { min = lineNo(line) }\n    }\n    line.markedSpans = removeMarkedSpan(line.markedSpans, span)\n    if (span.from == null && this$1.collapsed && !lineIsHidden(this$1.doc, line) && cm)\n      { updateLineHeight(line, textHeight(cm.display)) }\n  }\n  if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n    var visual = visualLine(this$1.lines[i$1]), len = lineLength(visual)\n    if (len > cm.display.maxLineLength) {\n      cm.display.maxLine = visual\n      cm.display.maxLineLength = len\n      cm.display.maxLineChanged = true\n    }\n  } }\n\n  if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1) }\n  this.lines.length = 0\n  this.explicitlyCleared = true\n  if (this.atomic && this.doc.cantEdit) {\n    this.doc.cantEdit = false\n    if (cm) { reCheckSelection(cm.doc) }\n  }\n  if (cm) { signalLater(cm, \"markerCleared\", cm, this) }\n  if (withOp) { endOperation(cm) }\n  if (this.parent) { this.parent.clear() }\n}\n\n// Find the position of the marker in the document. Returns a {from,\n// to} object by default. Side can be passed to get a specific side\n// -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n// Pos objects returned contain a line object, rather than a line\n// number (used to prevent looking up the same line twice).\nTextMarker.prototype.find = function(side, lineObj) {\n  var this$1 = this;\n\n  if (side == null && this.type == \"bookmark\") { side = 1 }\n  var from, to\n  for (var i = 0; i < this.lines.length; ++i) {\n    var line = this$1.lines[i]\n    var span = getMarkedSpanFor(line.markedSpans, this$1)\n    if (span.from != null) {\n      from = Pos(lineObj ? line : lineNo(line), span.from)\n      if (side == -1) { return from }\n    }\n    if (span.to != null) {\n      to = Pos(lineObj ? line : lineNo(line), span.to)\n      if (side == 1) { return to }\n    }\n  }\n  return from && {from: from, to: to}\n}\n\n// Signals that the marker's widget changed, and surrounding layout\n// should be recomputed.\nTextMarker.prototype.changed = function() {\n  var pos = this.find(-1, true), widget = this, cm = this.doc.cm\n  if (!pos || !cm) { return }\n  runInOp(cm, function () {\n    var line = pos.line, lineN = lineNo(pos.line)\n    var view = findViewForLine(cm, lineN)\n    if (view) {\n      clearLineMeasurementCacheFor(view)\n      cm.curOp.selectionChanged = cm.curOp.forceUpdate = true\n    }\n    cm.curOp.updateMaxLine = true\n    if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n      var oldHeight = widget.height\n      widget.height = null\n      var dHeight = widgetHeight(widget) - oldHeight\n      if (dHeight)\n        { updateLineHeight(line, line.height + dHeight) }\n    }\n  })\n}\n\nTextMarker.prototype.attachLine = function(line) {\n  if (!this.lines.length && this.doc.cm) {\n    var op = this.doc.cm.curOp\n    if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n      { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this) }\n  }\n  this.lines.push(line)\n}\nTextMarker.prototype.detachLine = function(line) {\n  this.lines.splice(indexOf(this.lines, line), 1)\n  if (!this.lines.length && this.doc.cm) {\n    var op = this.doc.cm.curOp\n    ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this)\n  }\n}\n\n// Create a marker, wire it up to the right lines, and\nfunction markText(doc, from, to, options, type) {\n  // Shared markers (across linked documents) are handled separately\n  // (markTextShared will call out to this again, once per\n  // document).\n  if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n  // Ensure we are in an operation.\n  if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n  var marker = new TextMarker(doc, type), diff = cmp(from, to)\n  if (options) { copyObj(options, marker, false) }\n  // Don't connect empty markers unless clearWhenEmpty is false\n  if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n    { return marker }\n  if (marker.replacedWith) {\n    // Showing up as a widget implies collapsed (widget replaces text)\n    marker.collapsed = true\n    marker.widgetNode = elt(\"span\", [marker.replacedWith], \"CodeMirror-widget\")\n    marker.widgetNode.setAttribute(\"role\", \"presentation\") // hide from accessibility tree\n    if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\") }\n    if (options.insertLeft) { marker.widgetNode.insertLeft = true }\n  }\n  if (marker.collapsed) {\n    if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n        from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n      { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n    seeCollapsedSpans()\n  }\n\n  if (marker.addToHistory)\n    { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN) }\n\n  var curLine = from.line, cm = doc.cm, updateMaxLine\n  doc.iter(curLine, to.line + 1, function (line) {\n    if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n      { updateMaxLine = true }\n    if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0) }\n    addMarkedSpan(line, new MarkedSpan(marker,\n                                       curLine == from.line ? from.ch : null,\n                                       curLine == to.line ? to.ch : null))\n    ++curLine\n  })\n  // lineIsHidden depends on the presence of the spans, so needs a second pass\n  if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n    if (lineIsHidden(doc, line)) { updateLineHeight(line, 0) }\n  }) }\n\n  if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }) }\n\n  if (marker.readOnly) {\n    seeReadOnlySpans()\n    if (doc.history.done.length || doc.history.undone.length)\n      { doc.clearHistory() }\n  }\n  if (marker.collapsed) {\n    marker.id = ++nextMarkerId\n    marker.atomic = true\n  }\n  if (cm) {\n    // Sync editor state\n    if (updateMaxLine) { cm.curOp.updateMaxLine = true }\n    if (marker.collapsed)\n      { regChange(cm, from.line, to.line + 1) }\n    else if (marker.className || marker.title || marker.startStyle || marker.endStyle || marker.css)\n      { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\") } }\n    if (marker.atomic) { reCheckSelection(cm.doc) }\n    signalLater(cm, \"markerAdded\", cm, marker)\n  }\n  return marker\n}\n\n// SHARED TEXTMARKERS\n\n// A shared marker spans multiple linked documents. It is\n// implemented as a meta-marker-object controlling multiple normal\n// markers.\nfunction SharedTextMarker(markers, primary) {\n  var this$1 = this;\n\n  this.markers = markers\n  this.primary = primary\n  for (var i = 0; i < markers.length; ++i)\n    { markers[i].parent = this$1 }\n}\neventMixin(SharedTextMarker)\n\nSharedTextMarker.prototype.clear = function() {\n  var this$1 = this;\n\n  if (this.explicitlyCleared) { return }\n  this.explicitlyCleared = true\n  for (var i = 0; i < this.markers.length; ++i)\n    { this$1.markers[i].clear() }\n  signalLater(this, \"clear\")\n}\nSharedTextMarker.prototype.find = function(side, lineObj) {\n  return this.primary.find(side, lineObj)\n}\n\nfunction markTextShared(doc, from, to, options, type) {\n  options = copyObj(options)\n  options.shared = false\n  var markers = [markText(doc, from, to, options, type)], primary = markers[0]\n  var widget = options.widgetNode\n  linkedDocs(doc, function (doc) {\n    if (widget) { options.widgetNode = widget.cloneNode(true) }\n    markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type))\n    for (var i = 0; i < doc.linked.length; ++i)\n      { if (doc.linked[i].isParent) { return } }\n    primary = lst(markers)\n  })\n  return new SharedTextMarker(markers, primary)\n}\n\nfunction findSharedMarkers(doc) {\n  return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n}\n\nfunction copySharedMarkers(doc, markers) {\n  for (var i = 0; i < markers.length; i++) {\n    var marker = markers[i], pos = marker.find()\n    var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to)\n    if (cmp(mFrom, mTo)) {\n      var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type)\n      marker.markers.push(subMark)\n      subMark.parent = marker\n    }\n  }\n}\n\nfunction detachSharedMarkers(markers) {\n  var loop = function ( i ) {\n    var marker = markers[i], linked = [marker.primary.doc]\n    linkedDocs(marker.primary.doc, function (d) { return linked.push(d); })\n    for (var j = 0; j < marker.markers.length; j++) {\n      var subMarker = marker.markers[j]\n      if (indexOf(linked, subMarker.doc) == -1) {\n        subMarker.parent = null\n        marker.markers.splice(j--, 1)\n      }\n    }\n  };\n\n  for (var i = 0; i < markers.length; i++) loop( i );\n}\n\nvar nextDocId = 0\nvar Doc = function(text, mode, firstLine, lineSep) {\n  if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep) }\n  if (firstLine == null) { firstLine = 0 }\n\n  BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])])\n  this.first = firstLine\n  this.scrollTop = this.scrollLeft = 0\n  this.cantEdit = false\n  this.cleanGeneration = 1\n  this.frontier = firstLine\n  var start = Pos(firstLine, 0)\n  this.sel = simpleSelection(start)\n  this.history = new History(null)\n  this.id = ++nextDocId\n  this.modeOption = mode\n  this.lineSep = lineSep\n  this.extend = false\n\n  if (typeof text == \"string\") { text = this.splitLines(text) }\n  updateDoc(this, {from: start, to: start, text: text})\n  setSelection(this, simpleSelection(start), sel_dontScroll)\n}\n\nDoc.prototype = createObj(BranchChunk.prototype, {\n  constructor: Doc,\n  // Iterate over the document. Supports two forms -- with only one\n  // argument, it calls that for each line in the document. With\n  // three, it iterates over the range given by the first two (with\n  // the second being non-inclusive).\n  iter: function(from, to, op) {\n    if (op) { this.iterN(from - this.first, to - from, op) }\n    else { this.iterN(this.first, this.first + this.size, from) }\n  },\n\n  // Non-public interface for adding and removing lines.\n  insert: function(at, lines) {\n    var height = 0\n    for (var i = 0; i < lines.length; ++i) { height += lines[i].height }\n    this.insertInner(at - this.first, lines, height)\n  },\n  remove: function(at, n) { this.removeInner(at - this.first, n) },\n\n  // From here, the methods are part of the public interface. Most\n  // are also available from CodeMirror (editor) instances.\n\n  getValue: function(lineSep) {\n    var lines = getLines(this, this.first, this.first + this.size)\n    if (lineSep === false) { return lines }\n    return lines.join(lineSep || this.lineSeparator())\n  },\n  setValue: docMethodOp(function(code) {\n    var top = Pos(this.first, 0), last = this.first + this.size - 1\n    makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                      text: this.splitLines(code), origin: \"setValue\", full: true}, true)\n    setSelection(this, simpleSelection(top))\n  }),\n  replaceRange: function(code, from, to, origin) {\n    from = clipPos(this, from)\n    to = to ? clipPos(this, to) : from\n    replaceRange(this, code, from, to, origin)\n  },\n  getRange: function(from, to, lineSep) {\n    var lines = getBetween(this, clipPos(this, from), clipPos(this, to))\n    if (lineSep === false) { return lines }\n    return lines.join(lineSep || this.lineSeparator())\n  },\n\n  getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n  getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n  getLineNumber: function(line) {return lineNo(line)},\n\n  getLineHandleVisualStart: function(line) {\n    if (typeof line == \"number\") { line = getLine(this, line) }\n    return visualLine(line)\n  },\n\n  lineCount: function() {return this.size},\n  firstLine: function() {return this.first},\n  lastLine: function() {return this.first + this.size - 1},\n\n  clipPos: function(pos) {return clipPos(this, pos)},\n\n  getCursor: function(start) {\n    var range = this.sel.primary(), pos\n    if (start == null || start == \"head\") { pos = range.head }\n    else if (start == \"anchor\") { pos = range.anchor }\n    else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to() }\n    else { pos = range.from() }\n    return pos\n  },\n  listSelections: function() { return this.sel.ranges },\n  somethingSelected: function() {return this.sel.somethingSelected()},\n\n  setCursor: docMethodOp(function(line, ch, options) {\n    setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options)\n  }),\n  setSelection: docMethodOp(function(anchor, head, options) {\n    setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options)\n  }),\n  extendSelection: docMethodOp(function(head, other, options) {\n    extendSelection(this, clipPos(this, head), other && clipPos(this, other), options)\n  }),\n  extendSelections: docMethodOp(function(heads, options) {\n    extendSelections(this, clipPosArray(this, heads), options)\n  }),\n  extendSelectionsBy: docMethodOp(function(f, options) {\n    var heads = map(this.sel.ranges, f)\n    extendSelections(this, clipPosArray(this, heads), options)\n  }),\n  setSelections: docMethodOp(function(ranges, primary, options) {\n    var this$1 = this;\n\n    if (!ranges.length) { return }\n    var out = []\n    for (var i = 0; i < ranges.length; i++)\n      { out[i] = new Range(clipPos(this$1, ranges[i].anchor),\n                         clipPos(this$1, ranges[i].head)) }\n    if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex) }\n    setSelection(this, normalizeSelection(out, primary), options)\n  }),\n  addSelection: docMethodOp(function(anchor, head, options) {\n    var ranges = this.sel.ranges.slice(0)\n    ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)))\n    setSelection(this, normalizeSelection(ranges, ranges.length - 1), options)\n  }),\n\n  getSelection: function(lineSep) {\n    var this$1 = this;\n\n    var ranges = this.sel.ranges, lines\n    for (var i = 0; i < ranges.length; i++) {\n      var sel = getBetween(this$1, ranges[i].from(), ranges[i].to())\n      lines = lines ? lines.concat(sel) : sel\n    }\n    if (lineSep === false) { return lines }\n    else { return lines.join(lineSep || this.lineSeparator()) }\n  },\n  getSelections: function(lineSep) {\n    var this$1 = this;\n\n    var parts = [], ranges = this.sel.ranges\n    for (var i = 0; i < ranges.length; i++) {\n      var sel = getBetween(this$1, ranges[i].from(), ranges[i].to())\n      if (lineSep !== false) { sel = sel.join(lineSep || this$1.lineSeparator()) }\n      parts[i] = sel\n    }\n    return parts\n  },\n  replaceSelection: function(code, collapse, origin) {\n    var dup = []\n    for (var i = 0; i < this.sel.ranges.length; i++)\n      { dup[i] = code }\n    this.replaceSelections(dup, collapse, origin || \"+input\")\n  },\n  replaceSelections: docMethodOp(function(code, collapse, origin) {\n    var this$1 = this;\n\n    var changes = [], sel = this.sel\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i]\n      changes[i] = {from: range.from(), to: range.to(), text: this$1.splitLines(code[i]), origin: origin}\n    }\n    var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse)\n    for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n      { makeChange(this$1, changes[i$1]) }\n    if (newSel) { setSelectionReplaceHistory(this, newSel) }\n    else if (this.cm) { ensureCursorVisible(this.cm) }\n  }),\n  undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\")}),\n  redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\")}),\n  undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true)}),\n  redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true)}),\n\n  setExtending: function(val) {this.extend = val},\n  getExtending: function() {return this.extend},\n\n  historySize: function() {\n    var hist = this.history, done = 0, undone = 0\n    for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done } }\n    for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone } }\n    return {undo: done, redo: undone}\n  },\n  clearHistory: function() {this.history = new History(this.history.maxGeneration)},\n\n  markClean: function() {\n    this.cleanGeneration = this.changeGeneration(true)\n  },\n  changeGeneration: function(forceSplit) {\n    if (forceSplit)\n      { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null }\n    return this.history.generation\n  },\n  isClean: function (gen) {\n    return this.history.generation == (gen || this.cleanGeneration)\n  },\n\n  getHistory: function() {\n    return {done: copyHistoryArray(this.history.done),\n            undone: copyHistoryArray(this.history.undone)}\n  },\n  setHistory: function(histData) {\n    var hist = this.history = new History(this.history.maxGeneration)\n    hist.done = copyHistoryArray(histData.done.slice(0), null, true)\n    hist.undone = copyHistoryArray(histData.undone.slice(0), null, true)\n  },\n\n  setGutterMarker: docMethodOp(function(line, gutterID, value) {\n    return changeLine(this, line, \"gutter\", function (line) {\n      var markers = line.gutterMarkers || (line.gutterMarkers = {})\n      markers[gutterID] = value\n      if (!value && isEmpty(markers)) { line.gutterMarkers = null }\n      return true\n    })\n  }),\n\n  clearGutter: docMethodOp(function(gutterID) {\n    var this$1 = this;\n\n    this.iter(function (line) {\n      if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n        changeLine(this$1, line, \"gutter\", function () {\n          line.gutterMarkers[gutterID] = null\n          if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null }\n          return true\n        })\n      }\n    })\n  }),\n\n  lineInfo: function(line) {\n    var n\n    if (typeof line == \"number\") {\n      if (!isLine(this, line)) { return null }\n      n = line\n      line = getLine(this, line)\n      if (!line) { return null }\n    } else {\n      n = lineNo(line)\n      if (n == null) { return null }\n    }\n    return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n            textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n            widgets: line.widgets}\n  },\n\n  addLineClass: docMethodOp(function(handle, where, cls) {\n    return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n      var prop = where == \"text\" ? \"textClass\"\n               : where == \"background\" ? \"bgClass\"\n               : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\"\n      if (!line[prop]) { line[prop] = cls }\n      else if (classTest(cls).test(line[prop])) { return false }\n      else { line[prop] += \" \" + cls }\n      return true\n    })\n  }),\n  removeLineClass: docMethodOp(function(handle, where, cls) {\n    return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n      var prop = where == \"text\" ? \"textClass\"\n               : where == \"background\" ? \"bgClass\"\n               : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\"\n      var cur = line[prop]\n      if (!cur) { return false }\n      else if (cls == null) { line[prop] = null }\n      else {\n        var found = cur.match(classTest(cls))\n        if (!found) { return false }\n        var end = found.index + found[0].length\n        line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null\n      }\n      return true\n    })\n  }),\n\n  addLineWidget: docMethodOp(function(handle, node, options) {\n    return addLineWidget(this, handle, node, options)\n  }),\n  removeLineWidget: function(widget) { widget.clear() },\n\n  markText: function(from, to, options) {\n    return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n  },\n  setBookmark: function(pos, options) {\n    var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                    insertLeft: options && options.insertLeft,\n                    clearWhenEmpty: false, shared: options && options.shared,\n                    handleMouseEvents: options && options.handleMouseEvents}\n    pos = clipPos(this, pos)\n    return markText(this, pos, pos, realOpts, \"bookmark\")\n  },\n  findMarksAt: function(pos) {\n    pos = clipPos(this, pos)\n    var markers = [], spans = getLine(this, pos.line).markedSpans\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i]\n      if ((span.from == null || span.from <= pos.ch) &&\n          (span.to == null || span.to >= pos.ch))\n        { markers.push(span.marker.parent || span.marker) }\n    } }\n    return markers\n  },\n  findMarks: function(from, to, filter) {\n    from = clipPos(this, from); to = clipPos(this, to)\n    var found = [], lineNo = from.line\n    this.iter(from.line, to.line + 1, function (line) {\n      var spans = line.markedSpans\n      if (spans) { for (var i = 0; i < spans.length; i++) {\n        var span = spans[i]\n        if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n              span.from == null && lineNo != from.line ||\n              span.from != null && lineNo == to.line && span.from >= to.ch) &&\n            (!filter || filter(span.marker)))\n          { found.push(span.marker.parent || span.marker) }\n      } }\n      ++lineNo\n    })\n    return found\n  },\n  getAllMarks: function() {\n    var markers = []\n    this.iter(function (line) {\n      var sps = line.markedSpans\n      if (sps) { for (var i = 0; i < sps.length; ++i)\n        { if (sps[i].from != null) { markers.push(sps[i].marker) } } }\n    })\n    return markers\n  },\n\n  posFromIndex: function(off) {\n    var ch, lineNo = this.first, sepSize = this.lineSeparator().length\n    this.iter(function (line) {\n      var sz = line.text.length + sepSize\n      if (sz > off) { ch = off; return true }\n      off -= sz\n      ++lineNo\n    })\n    return clipPos(this, Pos(lineNo, ch))\n  },\n  indexFromPos: function (coords) {\n    coords = clipPos(this, coords)\n    var index = coords.ch\n    if (coords.line < this.first || coords.ch < 0) { return 0 }\n    var sepSize = this.lineSeparator().length\n    this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n      index += line.text.length + sepSize\n    })\n    return index\n  },\n\n  copy: function(copyHistory) {\n    var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                      this.modeOption, this.first, this.lineSep)\n    doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft\n    doc.sel = this.sel\n    doc.extend = false\n    if (copyHistory) {\n      doc.history.undoDepth = this.history.undoDepth\n      doc.setHistory(this.getHistory())\n    }\n    return doc\n  },\n\n  linkedDoc: function(options) {\n    if (!options) { options = {} }\n    var from = this.first, to = this.first + this.size\n    if (options.from != null && options.from > from) { from = options.from }\n    if (options.to != null && options.to < to) { to = options.to }\n    var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep)\n    if (options.sharedHist) { copy.history = this.history\n    ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist})\n    copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}]\n    copySharedMarkers(copy, findSharedMarkers(this))\n    return copy\n  },\n  unlinkDoc: function(other) {\n    var this$1 = this;\n\n    if (other instanceof CodeMirror) { other = other.doc }\n    if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n      var link = this$1.linked[i]\n      if (link.doc != other) { continue }\n      this$1.linked.splice(i, 1)\n      other.unlinkDoc(this$1)\n      detachSharedMarkers(findSharedMarkers(this$1))\n      break\n    } }\n    // If the histories were shared, split them again\n    if (other.history == this.history) {\n      var splitIds = [other.id]\n      linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true)\n      other.history = new History(null)\n      other.history.done = copyHistoryArray(this.history.done, splitIds)\n      other.history.undone = copyHistoryArray(this.history.undone, splitIds)\n    }\n  },\n  iterLinkedDocs: function(f) {linkedDocs(this, f)},\n\n  getMode: function() {return this.mode},\n  getEditor: function() {return this.cm},\n\n  splitLines: function(str) {\n    if (this.lineSep) { return str.split(this.lineSep) }\n    return splitLinesAuto(str)\n  },\n  lineSeparator: function() { return this.lineSep || \"\\n\" }\n})\n\n// Public alias.\nDoc.prototype.eachLine = Doc.prototype.iter\n\n// Kludge to work around strange IE behavior where it'll sometimes\n// re-fire a series of drag-related events right after the drop (#1551)\nvar lastDrop = 0\n\nfunction onDrop(e) {\n  var cm = this\n  clearDragCursor(cm)\n  if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n    { return }\n  e_preventDefault(e)\n  if (ie) { lastDrop = +new Date }\n  var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files\n  if (!pos || cm.isReadOnly()) { return }\n  // Might be a file drop, in which case we simply extract the text\n  // and insert it.\n  if (files && files.length && window.FileReader && window.File) {\n    var n = files.length, text = Array(n), read = 0\n    var loadFile = function (file, i) {\n      if (cm.options.allowDropFileTypes &&\n          indexOf(cm.options.allowDropFileTypes, file.type) == -1)\n        { return }\n\n      var reader = new FileReader\n      reader.onload = operation(cm, function () {\n        var content = reader.result\n        if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) { content = \"\" }\n        text[i] = content\n        if (++read == n) {\n          pos = clipPos(cm.doc, pos)\n          var change = {from: pos, to: pos,\n                        text: cm.doc.splitLines(text.join(cm.doc.lineSeparator())),\n                        origin: \"paste\"}\n          makeChange(cm.doc, change)\n          setSelectionReplaceHistory(cm.doc, simpleSelection(pos, changeEnd(change)))\n        }\n      })\n      reader.readAsText(file)\n    }\n    for (var i = 0; i < n; ++i) { loadFile(files[i], i) }\n  } else { // Normal drop\n    // Don't do a replace if the drop happened inside of the selected text.\n    if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n      cm.state.draggingText(e)\n      // Ensure the editor is re-focused\n      setTimeout(function () { return cm.display.input.focus(); }, 20)\n      return\n    }\n    try {\n      var text$1 = e.dataTransfer.getData(\"Text\")\n      if (text$1) {\n        var selected\n        if (cm.state.draggingText && !cm.state.draggingText.copy)\n          { selected = cm.listSelections() }\n        setSelectionNoUndo(cm.doc, simpleSelection(pos, pos))\n        if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n          { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\") } }\n        cm.replaceSelection(text$1, \"around\", \"paste\")\n        cm.display.input.focus()\n      }\n    }\n    catch(e){}\n  }\n}\n\nfunction onDragStart(cm, e) {\n  if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n  if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n  e.dataTransfer.setData(\"Text\", cm.getSelection())\n  e.dataTransfer.effectAllowed = \"copyMove\"\n\n  // Use dummy image instead of default browsers image.\n  // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n  if (e.dataTransfer.setDragImage && !safari) {\n    var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\")\n    img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\"\n    if (presto) {\n      img.width = img.height = 1\n      cm.display.wrapper.appendChild(img)\n      // Force a relayout, or Opera won't use our image for some obscure reason\n      img._top = img.offsetTop\n    }\n    e.dataTransfer.setDragImage(img, 0, 0)\n    if (presto) { img.parentNode.removeChild(img) }\n  }\n}\n\nfunction onDragOver(cm, e) {\n  var pos = posFromMouse(cm, e)\n  if (!pos) { return }\n  var frag = document.createDocumentFragment()\n  drawSelectionCursor(cm, pos, frag)\n  if (!cm.display.dragCursor) {\n    cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\")\n    cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv)\n  }\n  removeChildrenAndAdd(cm.display.dragCursor, frag)\n}\n\nfunction clearDragCursor(cm) {\n  if (cm.display.dragCursor) {\n    cm.display.lineSpace.removeChild(cm.display.dragCursor)\n    cm.display.dragCursor = null\n  }\n}\n\n// These must be handled carefully, because naively registering a\n// handler for each editor will cause the editors to never be\n// garbage collected.\n\nfunction forEachCodeMirror(f) {\n  if (!document.body.getElementsByClassName) { return }\n  var byClass = document.body.getElementsByClassName(\"CodeMirror\")\n  for (var i = 0; i < byClass.length; i++) {\n    var cm = byClass[i].CodeMirror\n    if (cm) { f(cm) }\n  }\n}\n\nvar globalsRegistered = false\nfunction ensureGlobalHandlers() {\n  if (globalsRegistered) { return }\n  registerGlobalHandlers()\n  globalsRegistered = true\n}\nfunction registerGlobalHandlers() {\n  // When the window resizes, we need to refresh active editors.\n  var resizeTimer\n  on(window, \"resize\", function () {\n    if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n      resizeTimer = null\n      forEachCodeMirror(onResize)\n    }, 100) }\n  })\n  // When the window loses focus, we want to show the editor as blurred\n  on(window, \"blur\", function () { return forEachCodeMirror(onBlur); })\n}\n// Called when the window resizes\nfunction onResize(cm) {\n  var d = cm.display\n  if (d.lastWrapHeight == d.wrapper.clientHeight && d.lastWrapWidth == d.wrapper.clientWidth)\n    { return }\n  // Might be a text scaling operation, clear size caches.\n  d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null\n  d.scrollbarsClipped = false\n  cm.setSize()\n}\n\nvar keyNames = {\n  3: \"Enter\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n  19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n  36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n  46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n  106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 127: \"Delete\",\n  173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n  221: \"]\", 222: \"'\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n  63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n}\n\n// Number keys\nfor (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i) }\n// Alphabetic keys\nfor (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1) }\n// Function keys\nfor (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2 }\n\nvar keyMap = {}\n\nkeyMap.basic = {\n  \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n  \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n  \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n  \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n  \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n  \"Esc\": \"singleSelection\"\n}\n// Note that the save and find-related commands aren't defined by\n// default. User code or addons can define them. Unknown commands\n// are simply ignored.\nkeyMap.pcDefault = {\n  \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n  \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n  \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n  \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n  \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n  \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n  \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n  fallthrough: \"basic\"\n}\n// Very basic readline/emacs-style bindings, which are standard on Mac.\nkeyMap.emacsy = {\n  \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n  \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\n  \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\n  \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\n  \"Ctrl-O\": \"openLine\"\n}\nkeyMap.macDefault = {\n  \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n  \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n  \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n  \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n  \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n  \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n  \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n  fallthrough: [\"basic\", \"emacsy\"]\n}\nkeyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault\n\n// KEYMAP DISPATCH\n\nfunction normalizeKeyName(name) {\n  var parts = name.split(/-(?!$)/)\n  name = parts[parts.length - 1]\n  var alt, ctrl, shift, cmd\n  for (var i = 0; i < parts.length - 1; i++) {\n    var mod = parts[i]\n    if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true }\n    else if (/^a(lt)?$/i.test(mod)) { alt = true }\n    else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true }\n    else if (/^s(hift)?$/i.test(mod)) { shift = true }\n    else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n  }\n  if (alt) { name = \"Alt-\" + name }\n  if (ctrl) { name = \"Ctrl-\" + name }\n  if (cmd) { name = \"Cmd-\" + name }\n  if (shift) { name = \"Shift-\" + name }\n  return name\n}\n\n// This is a kludge to keep keymaps mostly working as raw objects\n// (backwards compatibility) while at the same time support features\n// like normalization and multi-stroke key bindings. It compiles a\n// new normalized keymap, and then updates the old object to reflect\n// this.\nfunction normalizeKeyMap(keymap) {\n  var copy = {}\n  for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n    var value = keymap[keyname]\n    if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n    if (value == \"...\") { delete keymap[keyname]; continue }\n\n    var keys = map(keyname.split(\" \"), normalizeKeyName)\n    for (var i = 0; i < keys.length; i++) {\n      var val = (void 0), name = (void 0)\n      if (i == keys.length - 1) {\n        name = keys.join(\" \")\n        val = value\n      } else {\n        name = keys.slice(0, i + 1).join(\" \")\n        val = \"...\"\n      }\n      var prev = copy[name]\n      if (!prev) { copy[name] = val }\n      else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n    }\n    delete keymap[keyname]\n  } }\n  for (var prop in copy) { keymap[prop] = copy[prop] }\n  return keymap\n}\n\nfunction lookupKey(key, map, handle, context) {\n  map = getKeyMap(map)\n  var found = map.call ? map.call(key, context) : map[key]\n  if (found === false) { return \"nothing\" }\n  if (found === \"...\") { return \"multi\" }\n  if (found != null && handle(found)) { return \"handled\" }\n\n  if (map.fallthrough) {\n    if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n      { return lookupKey(key, map.fallthrough, handle, context) }\n    for (var i = 0; i < map.fallthrough.length; i++) {\n      var result = lookupKey(key, map.fallthrough[i], handle, context)\n      if (result) { return result }\n    }\n  }\n}\n\n// Modifier key presses don't count as 'real' key presses for the\n// purpose of keymap fallthrough.\nfunction isModifierKey(value) {\n  var name = typeof value == \"string\" ? value : keyNames[value.keyCode]\n  return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n}\n\n// Look up the name of a key as indicated by an event object.\nfunction keyName(event, noShift) {\n  if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n  var base = keyNames[event.keyCode], name = base\n  if (name == null || event.altGraphKey) { return false }\n  if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name }\n  if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name }\n  if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Cmd\") { name = \"Cmd-\" + name }\n  if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name }\n  return name\n}\n\nfunction getKeyMap(val) {\n  return typeof val == \"string\" ? keyMap[val] : val\n}\n\n// Helper for deleting text near the selection(s), used to implement\n// backspace, delete, and similar functionality.\nfunction deleteNearSelection(cm, compute) {\n  var ranges = cm.doc.sel.ranges, kill = []\n  // Build up a set of ranges to kill first, merging overlapping\n  // ranges.\n  for (var i = 0; i < ranges.length; i++) {\n    var toKill = compute(ranges[i])\n    while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n      var replaced = kill.pop()\n      if (cmp(replaced.from, toKill.from) < 0) {\n        toKill.from = replaced.from\n        break\n      }\n    }\n    kill.push(toKill)\n  }\n  // Next, remove those actual ranges.\n  runInOp(cm, function () {\n    for (var i = kill.length - 1; i >= 0; i--)\n      { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\") }\n    ensureCursorVisible(cm)\n  })\n}\n\n// Commands are parameter-less actions that can be performed on an\n// editor, mostly used for keybindings.\nvar commands = {\n  selectAll: selectAll,\n  singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n  killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n    if (range.empty()) {\n      var len = getLine(cm.doc, range.head.line).text.length\n      if (range.head.ch == len && range.head.line < cm.lastLine())\n        { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n      else\n        { return {from: range.head, to: Pos(range.head.line, len)} }\n    } else {\n      return {from: range.from(), to: range.to()}\n    }\n  }); },\n  deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n    from: Pos(range.from().line, 0),\n    to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n  }); }); },\n  delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n    from: Pos(range.from().line, 0), to: range.from()\n  }); }); },\n  delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n    var top = cm.charCoords(range.head, \"div\").top + 5\n    var leftPos = cm.coordsChar({left: 0, top: top}, \"div\")\n    return {from: leftPos, to: range.from()}\n  }); },\n  delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n    var top = cm.charCoords(range.head, \"div\").top + 5\n    var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    return {from: range.from(), to: rightPos }\n  }); },\n  undo: function (cm) { return cm.undo(); },\n  redo: function (cm) { return cm.redo(); },\n  undoSelection: function (cm) { return cm.undoSelection(); },\n  redoSelection: function (cm) { return cm.redoSelection(); },\n  goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n  goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n  goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n    {origin: \"+move\", bias: 1}\n  ); },\n  goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n    {origin: \"+move\", bias: 1}\n  ); },\n  goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n    {origin: \"+move\", bias: -1}\n  ); },\n  goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n    var top = cm.charCoords(range.head, \"div\").top + 5\n    return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n  }, sel_move); },\n  goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n    var top = cm.charCoords(range.head, \"div\").top + 5\n    return cm.coordsChar({left: 0, top: top}, \"div\")\n  }, sel_move); },\n  goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n    var top = cm.charCoords(range.head, \"div\").top + 5\n    var pos = cm.coordsChar({left: 0, top: top}, \"div\")\n    if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n    return pos\n  }, sel_move); },\n  goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n  goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n  goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n  goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n  goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n  goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n  goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n  goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n  goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n  goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n  goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n  goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n  delCharBefore: function (cm) { return cm.deleteH(-1, \"char\"); },\n  delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n  delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n  delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n  delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n  delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n  indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n  indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n  indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n  insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n  insertSoftTab: function (cm) {\n    var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize\n    for (var i = 0; i < ranges.length; i++) {\n      var pos = ranges[i].from()\n      var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize)\n      spaces.push(spaceStr(tabSize - col % tabSize))\n    }\n    cm.replaceSelections(spaces)\n  },\n  defaultTab: function (cm) {\n    if (cm.somethingSelected()) { cm.indentSelection(\"add\") }\n    else { cm.execCommand(\"insertTab\") }\n  },\n  // Swap the two chars left and right of each selection's head.\n  // Move cursor behind the two swapped characters afterwards.\n  //\n  // Doesn't consider line feeds a character.\n  // Doesn't scan more than one line above to find a character.\n  // Doesn't do anything on an empty line.\n  // Doesn't do anything with non-empty selections.\n  transposeChars: function (cm) { return runInOp(cm, function () {\n    var ranges = cm.listSelections(), newSel = []\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) { continue }\n      var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text\n      if (line) {\n        if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1) }\n        if (cur.ch > 0) {\n          cur = new Pos(cur.line, cur.ch + 1)\n          cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                          Pos(cur.line, cur.ch - 2), cur, \"+transpose\")\n        } else if (cur.line > cm.doc.first) {\n          var prev = getLine(cm.doc, cur.line - 1).text\n          if (prev) {\n            cur = new Pos(cur.line, 1)\n            cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                            prev.charAt(prev.length - 1),\n                            Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\")\n          }\n        }\n      }\n      newSel.push(new Range(cur, cur))\n    }\n    cm.setSelections(newSel)\n  }); },\n  newlineAndIndent: function (cm) { return runInOp(cm, function () {\n    var sels = cm.listSelections()\n    for (var i = sels.length - 1; i >= 0; i--)\n      { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\") }\n    sels = cm.listSelections()\n    for (var i$1 = 0; i$1 < sels.length; i$1++)\n      { cm.indentLine(sels[i$1].from().line, null, true) }\n    ensureCursorVisible(cm)\n  }); },\n  openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n  toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n}\n\n\nfunction lineStart(cm, lineN) {\n  var line = getLine(cm.doc, lineN)\n  var visual = visualLine(line)\n  if (visual != line) { lineN = lineNo(visual) }\n  var order = getOrder(visual)\n  var ch = !order ? 0 : order[0].level % 2 ? lineRight(visual) : lineLeft(visual)\n  return Pos(lineN, ch)\n}\nfunction lineEnd(cm, lineN) {\n  var merged, line = getLine(cm.doc, lineN)\n  while (merged = collapsedSpanAtEnd(line)) {\n    line = merged.find(1, true).line\n    lineN = null\n  }\n  var order = getOrder(line)\n  var ch = !order ? line.text.length : order[0].level % 2 ? lineLeft(line) : lineRight(line)\n  return Pos(lineN == null ? lineNo(line) : lineN, ch)\n}\nfunction lineStartSmart(cm, pos) {\n  var start = lineStart(cm, pos.line)\n  var line = getLine(cm.doc, start.line)\n  var order = getOrder(line)\n  if (!order || order[0].level == 0) {\n    var firstNonWS = Math.max(0, line.text.search(/\\S/))\n    var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch\n    return Pos(start.line, inWS ? 0 : firstNonWS)\n  }\n  return start\n}\n\n// Run a handler that was bound to a key.\nfunction doHandleBinding(cm, bound, dropShift) {\n  if (typeof bound == \"string\") {\n    bound = commands[bound]\n    if (!bound) { return false }\n  }\n  // Ensure previous input has been read, so that the handler sees a\n  // consistent view of the document\n  cm.display.input.ensurePolled()\n  var prevShift = cm.display.shift, done = false\n  try {\n    if (cm.isReadOnly()) { cm.state.suppressEdits = true }\n    if (dropShift) { cm.display.shift = false }\n    done = bound(cm) != Pass\n  } finally {\n    cm.display.shift = prevShift\n    cm.state.suppressEdits = false\n  }\n  return done\n}\n\nfunction lookupKeyForEditor(cm, name, handle) {\n  for (var i = 0; i < cm.state.keyMaps.length; i++) {\n    var result = lookupKey(name, cm.state.keyMaps[i], handle, cm)\n    if (result) { return result }\n  }\n  return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n    || lookupKey(name, cm.options.keyMap, handle, cm)\n}\n\nvar stopSeq = new Delayed\nfunction dispatchKey(cm, name, e, handle) {\n  var seq = cm.state.keySeq\n  if (seq) {\n    if (isModifierKey(name)) { return \"handled\" }\n    stopSeq.set(50, function () {\n      if (cm.state.keySeq == seq) {\n        cm.state.keySeq = null\n        cm.display.input.reset()\n      }\n    })\n    name = seq + \" \" + name\n  }\n  var result = lookupKeyForEditor(cm, name, handle)\n\n  if (result == \"multi\")\n    { cm.state.keySeq = name }\n  if (result == \"handled\")\n    { signalLater(cm, \"keyHandled\", cm, name, e) }\n\n  if (result == \"handled\" || result == \"multi\") {\n    e_preventDefault(e)\n    restartBlink(cm)\n  }\n\n  if (seq && !result && /\\'$/.test(name)) {\n    e_preventDefault(e)\n    return true\n  }\n  return !!result\n}\n\n// Handle a key from the keydown event.\nfunction handleKeyBinding(cm, e) {\n  var name = keyName(e, true)\n  if (!name) { return false }\n\n  if (e.shiftKey && !cm.state.keySeq) {\n    // First try to resolve full name (including 'Shift-'). Failing\n    // that, see if there is a cursor-motion command (starting with\n    // 'go') bound to the keyname without 'Shift-'.\n    return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n        || dispatchKey(cm, name, e, function (b) {\n             if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n               { return doHandleBinding(cm, b) }\n           })\n  } else {\n    return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n  }\n}\n\n// Handle a key from the keypress event\nfunction handleCharBinding(cm, e, ch) {\n  return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n}\n\nvar lastStoppedKey = null\nfunction onKeyDown(e) {\n  var cm = this\n  cm.curOp.focus = activeElt()\n  if (signalDOMEvent(cm, e)) { return }\n  // IE does strange things with escape.\n  if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false }\n  var code = e.keyCode\n  cm.display.shift = code == 16 || e.shiftKey\n  var handled = handleKeyBinding(cm, e)\n  if (presto) {\n    lastStoppedKey = handled ? code : null\n    // Opera has no cut event... we try to at least catch the key combo\n    if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n      { cm.replaceSelection(\"\", null, \"cut\") }\n  }\n\n  // Turn mouse into crosshair when Alt is held on Mac.\n  if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n    { showCrossHair(cm) }\n}\n\nfunction showCrossHair(cm) {\n  var lineDiv = cm.display.lineDiv\n  addClass(lineDiv, \"CodeMirror-crosshair\")\n\n  function up(e) {\n    if (e.keyCode == 18 || !e.altKey) {\n      rmClass(lineDiv, \"CodeMirror-crosshair\")\n      off(document, \"keyup\", up)\n      off(document, \"mouseover\", up)\n    }\n  }\n  on(document, \"keyup\", up)\n  on(document, \"mouseover\", up)\n}\n\nfunction onKeyUp(e) {\n  if (e.keyCode == 16) { this.doc.sel.shift = false }\n  signalDOMEvent(this, e)\n}\n\nfunction onKeyPress(e) {\n  var cm = this\n  if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n  var keyCode = e.keyCode, charCode = e.charCode\n  if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n  if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n  var ch = String.fromCharCode(charCode == null ? keyCode : charCode)\n  // Some browsers fire keypress events for backspace\n  if (ch == \"\\x08\") { return }\n  if (handleCharBinding(cm, e, ch)) { return }\n  cm.display.input.onKeyPress(e)\n}\n\n// A mouse down can be a single click, double click, triple click,\n// start of selection drag, start of text drag, new cursor\n// (ctrl-click), rectangle drag (alt-drag), or xwin\n// middle-click-paste. Or it might be a click on something we should\n// not interfere with, such as a scrollbar or widget.\nfunction onMouseDown(e) {\n  var cm = this, display = cm.display\n  if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n  display.input.ensurePolled()\n  display.shift = e.shiftKey\n\n  if (eventInWidget(display, e)) {\n    if (!webkit) {\n      // Briefly turn off draggability, to allow widgets to do\n      // normal dragging things.\n      display.scroller.draggable = false\n      setTimeout(function () { return display.scroller.draggable = true; }, 100)\n    }\n    return\n  }\n  if (clickInGutter(cm, e)) { return }\n  var start = posFromMouse(cm, e)\n  window.focus()\n\n  switch (e_button(e)) {\n  case 1:\n    // #3261: make sure, that we're not starting a second selection\n    if (cm.state.selectingText)\n      { cm.state.selectingText(e) }\n    else if (start)\n      { leftButtonDown(cm, e, start) }\n    else if (e_target(e) == display.scroller)\n      { e_preventDefault(e) }\n    break\n  case 2:\n    if (webkit) { cm.state.lastMiddleDown = +new Date }\n    if (start) { extendSelection(cm.doc, start) }\n    setTimeout(function () { return display.input.focus(); }, 20)\n    e_preventDefault(e)\n    break\n  case 3:\n    if (captureRightClick) { onContextMenu(cm, e) }\n    else { delayBlurEvent(cm) }\n    break\n  }\n}\n\nvar lastClick;\nvar lastDoubleClick;\nfunction leftButtonDown(cm, e, start) {\n  if (ie) { setTimeout(bind(ensureFocus, cm), 0) }\n  else { cm.curOp.focus = activeElt() }\n\n  var now = +new Date, type\n  if (lastDoubleClick && lastDoubleClick.time > now - 400 && cmp(lastDoubleClick.pos, start) == 0) {\n    type = \"triple\"\n  } else if (lastClick && lastClick.time > now - 400 && cmp(lastClick.pos, start) == 0) {\n    type = \"double\"\n    lastDoubleClick = {time: now, pos: start}\n  } else {\n    type = \"single\"\n    lastClick = {time: now, pos: start}\n  }\n\n  var sel = cm.doc.sel, modifier = mac ? e.metaKey : e.ctrlKey, contained\n  if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n      type == \"single\" && (contained = sel.contains(start)) > -1 &&\n      (cmp((contained = sel.ranges[contained]).from(), start) < 0 || start.xRel > 0) &&\n      (cmp(contained.to(), start) > 0 || start.xRel < 0))\n    { leftButtonStartDrag(cm, e, start, modifier) }\n  else\n    { leftButtonSelect(cm, e, start, type, modifier) }\n}\n\n// Start a text drag. When it ends, see if any dragging actually\n// happen, and treat as a click if it didn't.\nfunction leftButtonStartDrag(cm, e, start, modifier) {\n  var display = cm.display, startTime = +new Date\n  var dragEnd = operation(cm, function (e2) {\n    if (webkit) { display.scroller.draggable = false }\n    cm.state.draggingText = false\n    off(document, \"mouseup\", dragEnd)\n    off(display.scroller, \"drop\", dragEnd)\n    if (Math.abs(e.clientX - e2.clientX) + Math.abs(e.clientY - e2.clientY) < 10) {\n      e_preventDefault(e2)\n      if (!modifier && +new Date - 200 < startTime)\n        { extendSelection(cm.doc, start) }\n      // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n      if (webkit || ie && ie_version == 9)\n        { setTimeout(function () {document.body.focus(); display.input.focus()}, 20) }\n      else\n        { display.input.focus() }\n    }\n  })\n  // Let the drag handler handle this.\n  if (webkit) { display.scroller.draggable = true }\n  cm.state.draggingText = dragEnd\n  dragEnd.copy = mac ? e.altKey : e.ctrlKey\n  // IE's approach to draggable\n  if (display.scroller.dragDrop) { display.scroller.dragDrop() }\n  on(document, \"mouseup\", dragEnd)\n  on(display.scroller, \"drop\", dragEnd)\n}\n\n// Normal selection, as opposed to text dragging.\nfunction leftButtonSelect(cm, e, start, type, addNew) {\n  var display = cm.display, doc = cm.doc\n  e_preventDefault(e)\n\n  var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges\n  if (addNew && !e.shiftKey) {\n    ourIndex = doc.sel.contains(start)\n    if (ourIndex > -1)\n      { ourRange = ranges[ourIndex] }\n    else\n      { ourRange = new Range(start, start) }\n  } else {\n    ourRange = doc.sel.primary()\n    ourIndex = doc.sel.primIndex\n  }\n\n  if (chromeOS ? e.shiftKey && e.metaKey : e.altKey) {\n    type = \"rect\"\n    if (!addNew) { ourRange = new Range(start, start) }\n    start = posFromMouse(cm, e, true, true)\n    ourIndex = -1\n  } else if (type == \"double\") {\n    var word = cm.findWordAt(start)\n    if (cm.display.shift || doc.extend)\n      { ourRange = extendRange(doc, ourRange, word.anchor, word.head) }\n    else\n      { ourRange = word }\n  } else if (type == \"triple\") {\n    var line = new Range(Pos(start.line, 0), clipPos(doc, Pos(start.line + 1, 0)))\n    if (cm.display.shift || doc.extend)\n      { ourRange = extendRange(doc, ourRange, line.anchor, line.head) }\n    else\n      { ourRange = line }\n  } else {\n    ourRange = extendRange(doc, ourRange, start)\n  }\n\n  if (!addNew) {\n    ourIndex = 0\n    setSelection(doc, new Selection([ourRange], 0), sel_mouse)\n    startSel = doc.sel\n  } else if (ourIndex == -1) {\n    ourIndex = ranges.length\n    setSelection(doc, normalizeSelection(ranges.concat([ourRange]), ourIndex),\n                 {scroll: false, origin: \"*mouse\"})\n  } else if (ranges.length > 1 && ranges[ourIndex].empty() && type == \"single\" && !e.shiftKey) {\n    setSelection(doc, normalizeSelection(ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                 {scroll: false, origin: \"*mouse\"})\n    startSel = doc.sel\n  } else {\n    replaceOneSelection(doc, ourIndex, ourRange, sel_mouse)\n  }\n\n  var lastPos = start\n  function extendTo(pos) {\n    if (cmp(lastPos, pos) == 0) { return }\n    lastPos = pos\n\n    if (type == \"rect\") {\n      var ranges = [], tabSize = cm.options.tabSize\n      var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize)\n      var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize)\n      var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol)\n      for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n           line <= end; line++) {\n        var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize)\n        if (left == right)\n          { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))) }\n        else if (text.length > leftPos)\n          { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))) }\n      }\n      if (!ranges.length) { ranges.push(new Range(start, start)) }\n      setSelection(doc, normalizeSelection(startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                   {origin: \"*mouse\", scroll: false})\n      cm.scrollIntoView(pos)\n    } else {\n      var oldRange = ourRange\n      var anchor = oldRange.anchor, head = pos\n      if (type != \"single\") {\n        var range\n        if (type == \"double\")\n          { range = cm.findWordAt(pos) }\n        else\n          { range = new Range(Pos(pos.line, 0), clipPos(doc, Pos(pos.line + 1, 0))) }\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head\n          anchor = minPos(oldRange.from(), range.anchor)\n        } else {\n          head = range.anchor\n          anchor = maxPos(oldRange.to(), range.head)\n        }\n      }\n      var ranges$1 = startSel.ranges.slice(0)\n      ranges$1[ourIndex] = new Range(clipPos(doc, anchor), head)\n      setSelection(doc, normalizeSelection(ranges$1, ourIndex), sel_mouse)\n    }\n  }\n\n  var editorSize = display.wrapper.getBoundingClientRect()\n  // Used to ensure timeout re-tries don't fire when another extend\n  // happened in the meantime (clearTimeout isn't reliable -- at\n  // least on Chrome, the timeouts still happen even when cleared,\n  // if the clear happens after their scheduled firing time).\n  var counter = 0\n\n  function extend(e) {\n    var curCount = ++counter\n    var cur = posFromMouse(cm, e, true, type == \"rect\")\n    if (!cur) { return }\n    if (cmp(cur, lastPos) != 0) {\n      cm.curOp.focus = activeElt()\n      extendTo(cur)\n      var visible = visibleLines(display, doc)\n      if (cur.line >= visible.to || cur.line < visible.from)\n        { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e) }}), 150) }\n    } else {\n      var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0\n      if (outside) { setTimeout(operation(cm, function () {\n        if (counter != curCount) { return }\n        display.scroller.scrollTop += outside\n        extend(e)\n      }), 50) }\n    }\n  }\n\n  function done(e) {\n    cm.state.selectingText = false\n    counter = Infinity\n    e_preventDefault(e)\n    display.input.focus()\n    off(document, \"mousemove\", move)\n    off(document, \"mouseup\", up)\n    doc.history.lastSelOrigin = null\n  }\n\n  var move = operation(cm, function (e) {\n    if (!e_button(e)) { done(e) }\n    else { extend(e) }\n  })\n  var up = operation(cm, done)\n  cm.state.selectingText = up\n  on(document, \"mousemove\", move)\n  on(document, \"mouseup\", up)\n}\n\n\n// Determines whether an event happened in the gutter, and fires the\n// handlers for the corresponding event.\nfunction gutterEvent(cm, e, type, prevent) {\n  var mX, mY\n  try { mX = e.clientX; mY = e.clientY }\n  catch(e) { return false }\n  if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n  if (prevent) { e_preventDefault(e) }\n\n  var display = cm.display\n  var lineBox = display.lineDiv.getBoundingClientRect()\n\n  if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n  mY -= lineBox.top - display.viewOffset\n\n  for (var i = 0; i < cm.options.gutters.length; ++i) {\n    var g = display.gutters.childNodes[i]\n    if (g && g.getBoundingClientRect().right >= mX) {\n      var line = lineAtHeight(cm.doc, mY)\n      var gutter = cm.options.gutters[i]\n      signal(cm, type, cm, line, gutter, e)\n      return e_defaultPrevented(e)\n    }\n  }\n}\n\nfunction clickInGutter(cm, e) {\n  return gutterEvent(cm, e, \"gutterClick\", true)\n}\n\n// CONTEXT MENU HANDLING\n\n// To make the context menu work, we need to briefly unhide the\n// textarea (making it as unobtrusive as possible) to let the\n// right-click take effect on it.\nfunction onContextMenu(cm, e) {\n  if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n  if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n  cm.display.input.onContextMenu(e)\n}\n\nfunction contextMenuInGutter(cm, e) {\n  if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n  return gutterEvent(cm, e, \"gutterContextMenu\", false)\n}\n\nfunction themeChanged(cm) {\n  cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n    cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\")\n  clearCaches(cm)\n}\n\nvar Init = {toString: function(){return \"CodeMirror.Init\"}}\n\nvar defaults = {}\nvar optionHandlers = {}\n\nfunction defineOptions(CodeMirror) {\n  var optionHandlers = CodeMirror.optionHandlers\n\n  function option(name, deflt, handle, notOnInit) {\n    CodeMirror.defaults[name] = deflt\n    if (handle) { optionHandlers[name] =\n      notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old) }} : handle }\n  }\n\n  CodeMirror.defineOption = option\n\n  // Passed to option handlers when there is no old value.\n  CodeMirror.Init = Init\n\n  // These two are, on init, called from the constructor because they\n  // have to be initialized before the editor can start at all.\n  option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true)\n  option(\"mode\", null, function (cm, val) {\n    cm.doc.modeOption = val\n    loadMode(cm)\n  }, true)\n\n  option(\"indentUnit\", 2, loadMode, true)\n  option(\"indentWithTabs\", false)\n  option(\"smartIndent\", true)\n  option(\"tabSize\", 4, function (cm) {\n    resetModeState(cm)\n    clearCaches(cm)\n    regChange(cm)\n  }, true)\n  option(\"lineSeparator\", null, function (cm, val) {\n    cm.doc.lineSep = val\n    if (!val) { return }\n    var newBreaks = [], lineNo = cm.doc.first\n    cm.doc.iter(function (line) {\n      for (var pos = 0;;) {\n        var found = line.text.indexOf(val, pos)\n        if (found == -1) { break }\n        pos = found + val.length\n        newBreaks.push(Pos(lineNo, found))\n      }\n      lineNo++\n    })\n    for (var i = newBreaks.length - 1; i >= 0; i--)\n      { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)) }\n  })\n  option(\"specialChars\", /[\\u0000-\\u001f\\u007f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g, function (cm, val, old) {\n    cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\")\n    if (old != Init) { cm.refresh() }\n  })\n  option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true)\n  option(\"electricChars\", true)\n  option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n    throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n  }, true)\n  option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true)\n  option(\"rtlMoveVisually\", !windows)\n  option(\"wholeLineUpdateBefore\", true)\n\n  option(\"theme\", \"default\", function (cm) {\n    themeChanged(cm)\n    guttersChanged(cm)\n  }, true)\n  option(\"keyMap\", \"default\", function (cm, val, old) {\n    var next = getKeyMap(val)\n    var prev = old != Init && getKeyMap(old)\n    if (prev && prev.detach) { prev.detach(cm, next) }\n    if (next.attach) { next.attach(cm, prev || null) }\n  })\n  option(\"extraKeys\", null)\n\n  option(\"lineWrapping\", false, wrappingChanged, true)\n  option(\"gutters\", [], function (cm) {\n    setGuttersForLineNumbers(cm.options)\n    guttersChanged(cm)\n  }, true)\n  option(\"fixedGutter\", true, function (cm, val) {\n    cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\"\n    cm.refresh()\n  }, true)\n  option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true)\n  option(\"scrollbarStyle\", \"native\", function (cm) {\n    initScrollbars(cm)\n    updateScrollbars(cm)\n    cm.display.scrollbars.setScrollTop(cm.doc.scrollTop)\n    cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft)\n  }, true)\n  option(\"lineNumbers\", false, function (cm) {\n    setGuttersForLineNumbers(cm.options)\n    guttersChanged(cm)\n  }, true)\n  option(\"firstLineNumber\", 1, guttersChanged, true)\n  option(\"lineNumberFormatter\", function (integer) { return integer; }, guttersChanged, true)\n  option(\"showCursorWhenSelecting\", false, updateSelection, true)\n\n  option(\"resetSelectionOnContextMenu\", true)\n  option(\"lineWiseCopyCut\", true)\n\n  option(\"readOnly\", false, function (cm, val) {\n    if (val == \"nocursor\") {\n      onBlur(cm)\n      cm.display.input.blur()\n      cm.display.disabled = true\n    } else {\n      cm.display.disabled = false\n    }\n    cm.display.input.readOnlyChanged(val)\n  })\n  option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset() }}, true)\n  option(\"dragDrop\", true, dragDropChanged)\n  option(\"allowDropFileTypes\", null)\n\n  option(\"cursorBlinkRate\", 530)\n  option(\"cursorScrollMargin\", 0)\n  option(\"cursorHeight\", 1, updateSelection, true)\n  option(\"singleCursorHeightPerLine\", true, updateSelection, true)\n  option(\"workTime\", 100)\n  option(\"workDelay\", 100)\n  option(\"flattenSpans\", true, resetModeState, true)\n  option(\"addModeClass\", false, resetModeState, true)\n  option(\"pollInterval\", 100)\n  option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; })\n  option(\"historyEventDelay\", 1250)\n  option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true)\n  option(\"maxHighlightLength\", 10000, resetModeState, true)\n  option(\"moveInputWithCursor\", true, function (cm, val) {\n    if (!val) { cm.display.input.resetPosition() }\n  })\n\n  option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; })\n  option(\"autofocus\", null)\n}\n\nfunction guttersChanged(cm) {\n  updateGutters(cm)\n  regChange(cm)\n  alignHorizontally(cm)\n}\n\nfunction dragDropChanged(cm, value, old) {\n  var wasOn = old && old != Init\n  if (!value != !wasOn) {\n    var funcs = cm.display.dragFunctions\n    var toggle = value ? on : off\n    toggle(cm.display.scroller, \"dragstart\", funcs.start)\n    toggle(cm.display.scroller, \"dragenter\", funcs.enter)\n    toggle(cm.display.scroller, \"dragover\", funcs.over)\n    toggle(cm.display.scroller, \"dragleave\", funcs.leave)\n    toggle(cm.display.scroller, \"drop\", funcs.drop)\n  }\n}\n\nfunction wrappingChanged(cm) {\n  if (cm.options.lineWrapping) {\n    addClass(cm.display.wrapper, \"CodeMirror-wrap\")\n    cm.display.sizer.style.minWidth = \"\"\n    cm.display.sizerWidth = null\n  } else {\n    rmClass(cm.display.wrapper, \"CodeMirror-wrap\")\n    findMaxLine(cm)\n  }\n  estimateLineHeights(cm)\n  regChange(cm)\n  clearCaches(cm)\n  setTimeout(function () { return updateScrollbars(cm); }, 100)\n}\n\n// A CodeMirror instance represents an editor. This is the object\n// that user code is usually dealing with.\n\nfunction CodeMirror(place, options) {\n  var this$1 = this;\n\n  if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n  this.options = options = options ? copyObj(options) : {}\n  // Determine effective options based on given values and defaults.\n  copyObj(defaults, options, false)\n  setGuttersForLineNumbers(options)\n\n  var doc = options.value\n  if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator) }\n  this.doc = doc\n\n  var input = new CodeMirror.inputStyles[options.inputStyle](this)\n  var display = this.display = new Display(place, doc, input)\n  display.wrapper.CodeMirror = this\n  updateGutters(this)\n  themeChanged(this)\n  if (options.lineWrapping)\n    { this.display.wrapper.className += \" CodeMirror-wrap\" }\n  initScrollbars(this)\n\n  this.state = {\n    keyMaps: [],  // stores maps added by addKeyMap\n    overlays: [], // highlighting overlays, as added by addOverlay\n    modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n    overwrite: false,\n    delayingBlurEvent: false,\n    focused: false,\n    suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n    pasteIncoming: false, cutIncoming: false, // help recognize paste/cut edits in input.poll\n    selectingText: false,\n    draggingText: false,\n    highlight: new Delayed(), // stores highlight worker timeout\n    keySeq: null,  // Unfinished key sequence\n    specialChars: null\n  }\n\n  if (options.autofocus && !mobile) { display.input.focus() }\n\n  // Override magic textarea content restore that IE sometimes does\n  // on our hidden textarea on reload\n  if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20) }\n\n  registerEventHandlers(this)\n  ensureGlobalHandlers()\n\n  startOperation(this)\n  this.curOp.forceUpdate = true\n  attachDoc(this, doc)\n\n  if ((options.autofocus && !mobile) || this.hasFocus())\n    { setTimeout(bind(onFocus, this), 20) }\n  else\n    { onBlur(this) }\n\n  for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n    { optionHandlers[opt](this$1, options[opt], Init) } }\n  maybeUpdateLineNumberWidth(this)\n  if (options.finishInit) { options.finishInit(this) }\n  for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this$1) }\n  endOperation(this)\n  // Suppress optimizelegibility in Webkit, since it breaks text\n  // measuring on line wrapping boundaries.\n  if (webkit && options.lineWrapping &&\n      getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n    { display.lineDiv.style.textRendering = \"auto\" }\n}\n\n// The default configuration options.\nCodeMirror.defaults = defaults\n// Functions to run when options are changed.\nCodeMirror.optionHandlers = optionHandlers\n\n// Attach the necessary event handlers when initializing the editor\nfunction registerEventHandlers(cm) {\n  var d = cm.display\n  on(d.scroller, \"mousedown\", operation(cm, onMouseDown))\n  // Older IE's will not fire a second mousedown for a double click\n  if (ie && ie_version < 11)\n    { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n      if (signalDOMEvent(cm, e)) { return }\n      var pos = posFromMouse(cm, e)\n      if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n      e_preventDefault(e)\n      var word = cm.findWordAt(pos)\n      extendSelection(cm.doc, word.anchor, word.head)\n    })) }\n  else\n    { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }) }\n  // Some browsers fire contextmenu *after* opening the menu, at\n  // which point we can't mess with it anymore. Context menu is\n  // handled in onMouseDown for these browsers.\n  if (!captureRightClick) { on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); }) }\n\n  // Used to suppress mouse event handling when a touch happens\n  var touchFinished, prevTouch = {end: 0}\n  function finishTouch() {\n    if (d.activeTouch) {\n      touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000)\n      prevTouch = d.activeTouch\n      prevTouch.end = +new Date\n    }\n  }\n  function isMouseLikeTouchEvent(e) {\n    if (e.touches.length != 1) { return false }\n    var touch = e.touches[0]\n    return touch.radiusX <= 1 && touch.radiusY <= 1\n  }\n  function farAway(touch, other) {\n    if (other.left == null) { return true }\n    var dx = other.left - touch.left, dy = other.top - touch.top\n    return dx * dx + dy * dy > 20 * 20\n  }\n  on(d.scroller, \"touchstart\", function (e) {\n    if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e)) {\n      d.input.ensurePolled()\n      clearTimeout(touchFinished)\n      var now = +new Date\n      d.activeTouch = {start: now, moved: false,\n                       prev: now - prevTouch.end <= 300 ? prevTouch : null}\n      if (e.touches.length == 1) {\n        d.activeTouch.left = e.touches[0].pageX\n        d.activeTouch.top = e.touches[0].pageY\n      }\n    }\n  })\n  on(d.scroller, \"touchmove\", function () {\n    if (d.activeTouch) { d.activeTouch.moved = true }\n  })\n  on(d.scroller, \"touchend\", function (e) {\n    var touch = d.activeTouch\n    if (touch && !eventInWidget(d, e) && touch.left != null &&\n        !touch.moved && new Date - touch.start < 300) {\n      var pos = cm.coordsChar(d.activeTouch, \"page\"), range\n      if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n        { range = new Range(pos, pos) }\n      else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n        { range = cm.findWordAt(pos) }\n      else // Triple tap\n        { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n      cm.setSelection(range.anchor, range.head)\n      cm.focus()\n      e_preventDefault(e)\n    }\n    finishTouch()\n  })\n  on(d.scroller, \"touchcancel\", finishTouch)\n\n  // Sync scrolling between fake scrollbars and real scrollable\n  // area, ensure viewport is updated when scrolling.\n  on(d.scroller, \"scroll\", function () {\n    if (d.scroller.clientHeight) {\n      setScrollTop(cm, d.scroller.scrollTop)\n      setScrollLeft(cm, d.scroller.scrollLeft, true)\n      signal(cm, \"scroll\", cm)\n    }\n  })\n\n  // Listen to wheel events in order to try and update the viewport on time.\n  on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); })\n  on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); })\n\n  // Prevent wrapper from ever scrolling\n  on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; })\n\n  d.dragFunctions = {\n    enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e) }},\n    over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e) }},\n    start: function (e) { return onDragStart(cm, e); },\n    drop: operation(cm, onDrop),\n    leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm) }}\n  }\n\n  var inp = d.input.getField()\n  on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); })\n  on(inp, \"keydown\", operation(cm, onKeyDown))\n  on(inp, \"keypress\", operation(cm, onKeyPress))\n  on(inp, \"focus\", function (e) { return onFocus(cm, e); })\n  on(inp, \"blur\", function (e) { return onBlur(cm, e); })\n}\n\nvar initHooks = []\nCodeMirror.defineInitHook = function (f) { return initHooks.push(f); }\n\n// Indent the given line. The how parameter can be \"smart\",\n// \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n// (typically set to true for forced single-line indents), empty\n// lines are not indented, and places where the mode returns Pass\n// are left alone.\nfunction indentLine(cm, n, how, aggressive) {\n  var doc = cm.doc, state\n  if (how == null) { how = \"add\" }\n  if (how == \"smart\") {\n    // Fall back to \"prev\" when the mode doesn't have an indentation\n    // method.\n    if (!doc.mode.indent) { how = \"prev\" }\n    else { state = getStateBefore(cm, n) }\n  }\n\n  var tabSize = cm.options.tabSize\n  var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize)\n  if (line.stateAfter) { line.stateAfter = null }\n  var curSpaceString = line.text.match(/^\\s*/)[0], indentation\n  if (!aggressive && !/\\S/.test(line.text)) {\n    indentation = 0\n    how = \"not\"\n  } else if (how == \"smart\") {\n    indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text)\n    if (indentation == Pass || indentation > 150) {\n      if (!aggressive) { return }\n      how = \"prev\"\n    }\n  }\n  if (how == \"prev\") {\n    if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize) }\n    else { indentation = 0 }\n  } else if (how == \"add\") {\n    indentation = curSpace + cm.options.indentUnit\n  } else if (how == \"subtract\") {\n    indentation = curSpace - cm.options.indentUnit\n  } else if (typeof how == \"number\") {\n    indentation = curSpace + how\n  }\n  indentation = Math.max(0, indentation)\n\n  var indentString = \"\", pos = 0\n  if (cm.options.indentWithTabs)\n    { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\"} }\n  if (pos < indentation) { indentString += spaceStr(indentation - pos) }\n\n  if (indentString != curSpaceString) {\n    replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\")\n    line.stateAfter = null\n    return true\n  } else {\n    // Ensure that, if the cursor was in the whitespace at the start\n    // of the line, it is moved to the end of that space.\n    for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n      var range = doc.sel.ranges[i$1]\n      if (range.head.line == n && range.head.ch < curSpaceString.length) {\n        var pos$1 = Pos(n, curSpaceString.length)\n        replaceOneSelection(doc, i$1, new Range(pos$1, pos$1))\n        break\n      }\n    }\n  }\n}\n\n// This will be set to a {lineWise: bool, text: [string]} object, so\n// that, when pasting, we know what kind of selections the copied\n// text was made out of.\nvar lastCopied = null\n\nfunction setLastCopied(newLastCopied) {\n  lastCopied = newLastCopied\n}\n\nfunction applyTextInput(cm, inserted, deleted, sel, origin) {\n  var doc = cm.doc\n  cm.display.shift = false\n  if (!sel) { sel = doc.sel }\n\n  var paste = cm.state.pasteIncoming || origin == \"paste\"\n  var textLines = splitLinesAuto(inserted), multiPaste = null\n  // When pasing N lines into N selections, insert one line per selection\n  if (paste && sel.ranges.length > 1) {\n    if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n      if (sel.ranges.length % lastCopied.text.length == 0) {\n        multiPaste = []\n        for (var i = 0; i < lastCopied.text.length; i++)\n          { multiPaste.push(doc.splitLines(lastCopied.text[i])) }\n      }\n    } else if (textLines.length == sel.ranges.length) {\n      multiPaste = map(textLines, function (l) { return [l]; })\n    }\n  }\n\n  var updateInput\n  // Normal behavior is to insert the new text into every selection\n  for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n    var range = sel.ranges[i$1]\n    var from = range.from(), to = range.to()\n    if (range.empty()) {\n      if (deleted && deleted > 0) // Handle deletion\n        { from = Pos(from.line, from.ch - deleted) }\n      else if (cm.state.overwrite && !paste) // Handle overwrite\n        { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)) }\n      else if (lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == inserted)\n        { from = to = Pos(from.line, 0) }\n    }\n    updateInput = cm.curOp.updateInput\n    var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                       origin: origin || (paste ? \"paste\" : cm.state.cutIncoming ? \"cut\" : \"+input\")}\n    makeChange(cm.doc, changeEvent)\n    signalLater(cm, \"inputRead\", cm, changeEvent)\n  }\n  if (inserted && !paste)\n    { triggerElectric(cm, inserted) }\n\n  ensureCursorVisible(cm)\n  cm.curOp.updateInput = updateInput\n  cm.curOp.typing = true\n  cm.state.pasteIncoming = cm.state.cutIncoming = false\n}\n\nfunction handlePaste(e, cm) {\n  var pasted = e.clipboardData && e.clipboardData.getData(\"Text\")\n  if (pasted) {\n    e.preventDefault()\n    if (!cm.isReadOnly() && !cm.options.disableInput)\n      { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }) }\n    return true\n  }\n}\n\nfunction triggerElectric(cm, inserted) {\n  // When an 'electric' character is inserted, immediately trigger a reindent\n  if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n  var sel = cm.doc.sel\n\n  for (var i = sel.ranges.length - 1; i >= 0; i--) {\n    var range = sel.ranges[i]\n    if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\n    var mode = cm.getModeAt(range.head)\n    var indented = false\n    if (mode.electricChars) {\n      for (var j = 0; j < mode.electricChars.length; j++)\n        { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n          indented = indentLine(cm, range.head.line, \"smart\")\n          break\n        } }\n    } else if (mode.electricInput) {\n      if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n        { indented = indentLine(cm, range.head.line, \"smart\") }\n    }\n    if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line) }\n  }\n}\n\nfunction copyableRanges(cm) {\n  var text = [], ranges = []\n  for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n    var line = cm.doc.sel.ranges[i].head.line\n    var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)}\n    ranges.push(lineRange)\n    text.push(cm.getRange(lineRange.anchor, lineRange.head))\n  }\n  return {text: text, ranges: ranges}\n}\n\nfunction disableBrowserMagic(field, spellcheck) {\n  field.setAttribute(\"autocorrect\", \"off\")\n  field.setAttribute(\"autocapitalize\", \"off\")\n  field.setAttribute(\"spellcheck\", !!spellcheck)\n}\n\nfunction hiddenTextarea() {\n  var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\")\n  var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\")\n  // The textarea is kept positioned near the cursor to prevent the\n  // fact that it'll be scrolled into view on input from scrolling\n  // our fake cursor out of view. On webkit, when wrap=off, paste is\n  // very slow. So make the area wide instead.\n  if (webkit) { te.style.width = \"1000px\" }\n  else { te.setAttribute(\"wrap\", \"off\") }\n  // If border: 0; -- iOS fails to open keyboard (issue #1287)\n  if (ios) { te.style.border = \"1px solid black\" }\n  disableBrowserMagic(te)\n  return div\n}\n\n// The publicly visible API. Note that methodOp(f) means\n// 'wrap f in an operation, performed on its `this` parameter'.\n\n// This is not the complete set of editor methods. Most of the\n// methods defined on the Doc type are also injected into\n// CodeMirror.prototype, for backwards compatibility and\n// convenience.\n\nfunction addEditorMethods(CodeMirror) {\n  var optionHandlers = CodeMirror.optionHandlers\n\n  var helpers = CodeMirror.helpers = {}\n\n  CodeMirror.prototype = {\n    constructor: CodeMirror,\n    focus: function(){window.focus(); this.display.input.focus()},\n\n    setOption: function(option, value) {\n      var options = this.options, old = options[option]\n      if (options[option] == value && option != \"mode\") { return }\n      options[option] = value\n      if (optionHandlers.hasOwnProperty(option))\n        { operation(this, optionHandlers[option])(this, value, old) }\n      signal(this, \"optionChange\", this, option)\n    },\n\n    getOption: function(option) {return this.options[option]},\n    getDoc: function() {return this.doc},\n\n    addKeyMap: function(map, bottom) {\n      this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map))\n    },\n    removeKeyMap: function(map) {\n      var maps = this.state.keyMaps\n      for (var i = 0; i < maps.length; ++i)\n        { if (maps[i] == map || maps[i].name == map) {\n          maps.splice(i, 1)\n          return true\n        } }\n    },\n\n    addOverlay: methodOp(function(spec, options) {\n      var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec)\n      if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n      insertSorted(this.state.overlays,\n                   {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                    priority: (options && options.priority) || 0},\n                   function (overlay) { return overlay.priority; })\n      this.state.modeGen++\n      regChange(this)\n    }),\n    removeOverlay: methodOp(function(spec) {\n      var this$1 = this;\n\n      var overlays = this.state.overlays\n      for (var i = 0; i < overlays.length; ++i) {\n        var cur = overlays[i].modeSpec\n        if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n          overlays.splice(i, 1)\n          this$1.state.modeGen++\n          regChange(this$1)\n          return\n        }\n      }\n    }),\n\n    indentLine: methodOp(function(n, dir, aggressive) {\n      if (typeof dir != \"string\" && typeof dir != \"number\") {\n        if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\" }\n        else { dir = dir ? \"add\" : \"subtract\" }\n      }\n      if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive) }\n    }),\n    indentSelection: methodOp(function(how) {\n      var this$1 = this;\n\n      var ranges = this.doc.sel.ranges, end = -1\n      for (var i = 0; i < ranges.length; i++) {\n        var range = ranges[i]\n        if (!range.empty()) {\n          var from = range.from(), to = range.to()\n          var start = Math.max(end, from.line)\n          end = Math.min(this$1.lastLine(), to.line - (to.ch ? 0 : 1)) + 1\n          for (var j = start; j < end; ++j)\n            { indentLine(this$1, j, how) }\n          var newRanges = this$1.doc.sel.ranges\n          if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n            { replaceOneSelection(this$1.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll) }\n        } else if (range.head.line > end) {\n          indentLine(this$1, range.head.line, how, true)\n          end = range.head.line\n          if (i == this$1.doc.sel.primIndex) { ensureCursorVisible(this$1) }\n        }\n      }\n    }),\n\n    // Fetch the parser token for a given character. Useful for hacks\n    // that want to inspect the mode state (say, for completion).\n    getTokenAt: function(pos, precise) {\n      return takeToken(this, pos, precise)\n    },\n\n    getLineTokens: function(line, precise) {\n      return takeToken(this, Pos(line), precise, true)\n    },\n\n    getTokenTypeAt: function(pos) {\n      pos = clipPos(this.doc, pos)\n      var styles = getLineStyles(this, getLine(this.doc, pos.line))\n      var before = 0, after = (styles.length - 1) / 2, ch = pos.ch\n      var type\n      if (ch == 0) { type = styles[2] }\n      else { for (;;) {\n        var mid = (before + after) >> 1\n        if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid }\n        else if (styles[mid * 2 + 1] < ch) { before = mid + 1 }\n        else { type = styles[mid * 2 + 2]; break }\n      } }\n      var cut = type ? type.indexOf(\"overlay \") : -1\n      return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n    },\n\n    getModeAt: function(pos) {\n      var mode = this.doc.mode\n      if (!mode.innerMode) { return mode }\n      return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n    },\n\n    getHelper: function(pos, type) {\n      return this.getHelpers(pos, type)[0]\n    },\n\n    getHelpers: function(pos, type) {\n      var this$1 = this;\n\n      var found = []\n      if (!helpers.hasOwnProperty(type)) { return found }\n      var help = helpers[type], mode = this.getModeAt(pos)\n      if (typeof mode[type] == \"string\") {\n        if (help[mode[type]]) { found.push(help[mode[type]]) }\n      } else if (mode[type]) {\n        for (var i = 0; i < mode[type].length; i++) {\n          var val = help[mode[type][i]]\n          if (val) { found.push(val) }\n        }\n      } else if (mode.helperType && help[mode.helperType]) {\n        found.push(help[mode.helperType])\n      } else if (help[mode.name]) {\n        found.push(help[mode.name])\n      }\n      for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n        var cur = help._global[i$1]\n        if (cur.pred(mode, this$1) && indexOf(found, cur.val) == -1)\n          { found.push(cur.val) }\n      }\n      return found\n    },\n\n    getStateAfter: function(line, precise) {\n      var doc = this.doc\n      line = clipLine(doc, line == null ? doc.first + doc.size - 1: line)\n      return getStateBefore(this, line + 1, precise)\n    },\n\n    cursorCoords: function(start, mode) {\n      var pos, range = this.doc.sel.primary()\n      if (start == null) { pos = range.head }\n      else if (typeof start == \"object\") { pos = clipPos(this.doc, start) }\n      else { pos = start ? range.from() : range.to() }\n      return cursorCoords(this, pos, mode || \"page\")\n    },\n\n    charCoords: function(pos, mode) {\n      return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n    },\n\n    coordsChar: function(coords, mode) {\n      coords = fromCoordSystem(this, coords, mode || \"page\")\n      return coordsChar(this, coords.left, coords.top)\n    },\n\n    lineAtHeight: function(height, mode) {\n      height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top\n      return lineAtHeight(this.doc, height + this.display.viewOffset)\n    },\n    heightAtLine: function(line, mode, includeWidgets) {\n      var end = false, lineObj\n      if (typeof line == \"number\") {\n        var last = this.doc.first + this.doc.size - 1\n        if (line < this.doc.first) { line = this.doc.first }\n        else if (line > last) { line = last; end = true }\n        lineObj = getLine(this.doc, line)\n      } else {\n        lineObj = line\n      }\n      return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets).top +\n        (end ? this.doc.height - heightAtLine(lineObj) : 0)\n    },\n\n    defaultTextHeight: function() { return textHeight(this.display) },\n    defaultCharWidth: function() { return charWidth(this.display) },\n\n    getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n    addWidget: function(pos, node, scroll, vert, horiz) {\n      var display = this.display\n      pos = cursorCoords(this, clipPos(this.doc, pos))\n      var top = pos.bottom, left = pos.left\n      node.style.position = \"absolute\"\n      node.setAttribute(\"cm-ignore-events\", \"true\")\n      this.display.input.setUneditable(node)\n      display.sizer.appendChild(node)\n      if (vert == \"over\") {\n        top = pos.top\n      } else if (vert == \"above\" || vert == \"near\") {\n        var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n        hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth)\n        // Default to positioning above (if specified and possible); otherwise default to positioning below\n        if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n          { top = pos.top - node.offsetHeight }\n        else if (pos.bottom + node.offsetHeight <= vspace)\n          { top = pos.bottom }\n        if (left + node.offsetWidth > hspace)\n          { left = hspace - node.offsetWidth }\n      }\n      node.style.top = top + \"px\"\n      node.style.left = node.style.right = \"\"\n      if (horiz == \"right\") {\n        left = display.sizer.clientWidth - node.offsetWidth\n        node.style.right = \"0px\"\n      } else {\n        if (horiz == \"left\") { left = 0 }\n        else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2 }\n        node.style.left = left + \"px\"\n      }\n      if (scroll)\n        { scrollIntoView(this, left, top, left + node.offsetWidth, top + node.offsetHeight) }\n    },\n\n    triggerOnKeyDown: methodOp(onKeyDown),\n    triggerOnKeyPress: methodOp(onKeyPress),\n    triggerOnKeyUp: onKeyUp,\n\n    execCommand: function(cmd) {\n      if (commands.hasOwnProperty(cmd))\n        { return commands[cmd].call(null, this) }\n    },\n\n    triggerElectric: methodOp(function(text) { triggerElectric(this, text) }),\n\n    findPosH: function(from, amount, unit, visually) {\n      var this$1 = this;\n\n      var dir = 1\n      if (amount < 0) { dir = -1; amount = -amount }\n      var cur = clipPos(this.doc, from)\n      for (var i = 0; i < amount; ++i) {\n        cur = findPosH(this$1.doc, cur, dir, unit, visually)\n        if (cur.hitSide) { break }\n      }\n      return cur\n    },\n\n    moveH: methodOp(function(dir, unit) {\n      var this$1 = this;\n\n      this.extendSelectionsBy(function (range) {\n        if (this$1.display.shift || this$1.doc.extend || range.empty())\n          { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\n        else\n          { return dir < 0 ? range.from() : range.to() }\n      }, sel_move)\n    }),\n\n    deleteH: methodOp(function(dir, unit) {\n      var sel = this.doc.sel, doc = this.doc\n      if (sel.somethingSelected())\n        { doc.replaceSelection(\"\", null, \"+delete\") }\n      else\n        { deleteNearSelection(this, function (range) {\n          var other = findPosH(doc, range.head, dir, unit, false)\n          return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\n        }) }\n    }),\n\n    findPosV: function(from, amount, unit, goalColumn) {\n      var this$1 = this;\n\n      var dir = 1, x = goalColumn\n      if (amount < 0) { dir = -1; amount = -amount }\n      var cur = clipPos(this.doc, from)\n      for (var i = 0; i < amount; ++i) {\n        var coords = cursorCoords(this$1, cur, \"div\")\n        if (x == null) { x = coords.left }\n        else { coords.left = x }\n        cur = findPosV(this$1, coords, dir, unit)\n        if (cur.hitSide) { break }\n      }\n      return cur\n    },\n\n    moveV: methodOp(function(dir, unit) {\n      var this$1 = this;\n\n      var doc = this.doc, goals = []\n      var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected()\n      doc.extendSelectionsBy(function (range) {\n        if (collapse)\n          { return dir < 0 ? range.from() : range.to() }\n        var headPos = cursorCoords(this$1, range.head, \"div\")\n        if (range.goalColumn != null) { headPos.left = range.goalColumn }\n        goals.push(headPos.left)\n        var pos = findPosV(this$1, headPos, dir, unit)\n        if (unit == \"page\" && range == doc.sel.primary())\n          { addToScrollPos(this$1, null, charCoords(this$1, pos, \"div\").top - headPos.top) }\n        return pos\n      }, sel_move)\n      if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n        { doc.sel.ranges[i].goalColumn = goals[i] } }\n    }),\n\n    // Find the word at the given position (as returned by coordsChar).\n    findWordAt: function(pos) {\n      var doc = this.doc, line = getLine(doc, pos.line).text\n      var start = pos.ch, end = pos.ch\n      if (line) {\n        var helper = this.getHelper(pos, \"wordChars\")\n        if ((pos.xRel < 0 || end == line.length) && start) { --start; } else { ++end }\n        var startChar = line.charAt(start)\n        var check = isWordChar(startChar, helper)\n          ? function (ch) { return isWordChar(ch, helper); }\n          : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n          : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); }\n        while (start > 0 && check(line.charAt(start - 1))) { --start }\n        while (end < line.length && check(line.charAt(end))) { ++end }\n      }\n      return new Range(Pos(pos.line, start), Pos(pos.line, end))\n    },\n\n    toggleOverwrite: function(value) {\n      if (value != null && value == this.state.overwrite) { return }\n      if (this.state.overwrite = !this.state.overwrite)\n        { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\") }\n      else\n        { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\") }\n\n      signal(this, \"overwriteToggle\", this, this.state.overwrite)\n    },\n    hasFocus: function() { return this.display.input.getField() == activeElt() },\n    isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n    scrollTo: methodOp(function(x, y) {\n      if (x != null || y != null) { resolveScrollToPos(this) }\n      if (x != null) { this.curOp.scrollLeft = x }\n      if (y != null) { this.curOp.scrollTop = y }\n    }),\n    getScrollInfo: function() {\n      var scroller = this.display.scroller\n      return {left: scroller.scrollLeft, top: scroller.scrollTop,\n              height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n              width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n              clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n    },\n\n    scrollIntoView: methodOp(function(range, margin) {\n      if (range == null) {\n        range = {from: this.doc.sel.primary().head, to: null}\n        if (margin == null) { margin = this.options.cursorScrollMargin }\n      } else if (typeof range == \"number\") {\n        range = {from: Pos(range, 0), to: null}\n      } else if (range.from == null) {\n        range = {from: range, to: null}\n      }\n      if (!range.to) { range.to = range.from }\n      range.margin = margin || 0\n\n      if (range.from.line != null) {\n        resolveScrollToPos(this)\n        this.curOp.scrollToPos = range\n      } else {\n        var sPos = calculateScrollPos(this, Math.min(range.from.left, range.to.left),\n                                      Math.min(range.from.top, range.to.top) - range.margin,\n                                      Math.max(range.from.right, range.to.right),\n                                      Math.max(range.from.bottom, range.to.bottom) + range.margin)\n        this.scrollTo(sPos.scrollLeft, sPos.scrollTop)\n      }\n    }),\n\n    setSize: methodOp(function(width, height) {\n      var this$1 = this;\n\n      var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; }\n      if (width != null) { this.display.wrapper.style.width = interpret(width) }\n      if (height != null) { this.display.wrapper.style.height = interpret(height) }\n      if (this.options.lineWrapping) { clearLineMeasurementCache(this) }\n      var lineNo = this.display.viewFrom\n      this.doc.iter(lineNo, this.display.viewTo, function (line) {\n        if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n          { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\n        ++lineNo\n      })\n      this.curOp.forceUpdate = true\n      signal(this, \"refresh\", this)\n    }),\n\n    operation: function(f){return runInOp(this, f)},\n\n    refresh: methodOp(function() {\n      var oldHeight = this.display.cachedTextHeight\n      regChange(this)\n      this.curOp.forceUpdate = true\n      clearCaches(this)\n      this.scrollTo(this.doc.scrollLeft, this.doc.scrollTop)\n      updateGutterSpace(this)\n      if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5)\n        { estimateLineHeights(this) }\n      signal(this, \"refresh\", this)\n    }),\n\n    swapDoc: methodOp(function(doc) {\n      var old = this.doc\n      old.cm = null\n      attachDoc(this, doc)\n      clearCaches(this)\n      this.display.input.reset()\n      this.scrollTo(doc.scrollLeft, doc.scrollTop)\n      this.curOp.forceScroll = true\n      signalLater(this, \"swapDoc\", this, old)\n      return old\n    }),\n\n    getInputField: function(){return this.display.input.getField()},\n    getWrapperElement: function(){return this.display.wrapper},\n    getScrollerElement: function(){return this.display.scroller},\n    getGutterElement: function(){return this.display.gutters}\n  }\n  eventMixin(CodeMirror)\n\n  CodeMirror.registerHelper = function(type, name, value) {\n    if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []} }\n    helpers[type][name] = value\n  }\n  CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n    CodeMirror.registerHelper(type, name, value)\n    helpers[type]._global.push({pred: predicate, val: value})\n  }\n}\n\n// Used for horizontal relative motion. Dir is -1 or 1 (left or\n// right), unit can be \"char\", \"column\" (like char, but doesn't\n// cross line boundaries), \"word\" (across next word), or \"group\" (to\n// the start of next group of word or non-word-non-whitespace\n// chars). The visually param controls whether, in right-to-left\n// text, direction 1 means to move towards the next index in the\n// string, or towards the character to the right of the current\n// position. The resulting position will have a hitSide=true\n// property if it reached the end of the document.\nfunction findPosH(doc, pos, dir, unit, visually) {\n  var line = pos.line, ch = pos.ch, origDir = dir\n  var lineObj = getLine(doc, line)\n  function findNextLine() {\n    var l = line + dir\n    if (l < doc.first || l >= doc.first + doc.size) { return false }\n    line = l\n    return lineObj = getLine(doc, l)\n  }\n  function moveOnce(boundToLine) {\n    var next = (visually ? moveVisually : moveLogically)(lineObj, ch, dir, true)\n    if (next == null) {\n      if (!boundToLine && findNextLine()) {\n        if (visually) { ch = (dir < 0 ? lineRight : lineLeft)(lineObj) }\n        else { ch = dir < 0 ? lineObj.text.length : 0 }\n      } else { return false }\n    } else { ch = next }\n    return true\n  }\n\n  if (unit == \"char\") {\n    moveOnce()\n  } else if (unit == \"column\") {\n    moveOnce(true)\n  } else if (unit == \"word\" || unit == \"group\") {\n    var sawType = null, group = unit == \"group\"\n    var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\")\n    for (var first = true;; first = false) {\n      if (dir < 0 && !moveOnce(!first)) { break }\n      var cur = lineObj.text.charAt(ch) || \"\\n\"\n      var type = isWordChar(cur, helper) ? \"w\"\n        : group && cur == \"\\n\" ? \"n\"\n        : !group || /\\s/.test(cur) ? null\n        : \"p\"\n      if (group && !first && !type) { type = \"s\" }\n      if (sawType && sawType != type) {\n        if (dir < 0) {dir = 1; moveOnce()}\n        break\n      }\n\n      if (type) { sawType = type }\n      if (dir > 0 && !moveOnce(!first)) { break }\n    }\n  }\n  var result = skipAtomic(doc, Pos(line, ch), pos, origDir, true)\n  if (!cmp(pos, result)) { result.hitSide = true }\n  return result\n}\n\n// For relative vertical movement. Dir may be -1 or 1. Unit can be\n// \"page\" or \"line\". The resulting position will have a hitSide=true\n// property if it reached the end of the document.\nfunction findPosV(cm, pos, dir, unit) {\n  var doc = cm.doc, x = pos.left, y\n  if (unit == \"page\") {\n    var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight)\n    var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3)\n    y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount\n\n  } else if (unit == \"line\") {\n    y = dir > 0 ? pos.bottom + 3 : pos.top - 3\n  }\n  var target\n  for (;;) {\n    target = coordsChar(cm, x, y)\n    if (!target.outside) { break }\n    if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n    y += dir * 5\n  }\n  return target\n}\n\n// CONTENTEDITABLE INPUT STYLE\n\nvar ContentEditableInput = function(cm) {\n  this.cm = cm\n  this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null\n  this.polling = new Delayed()\n  this.composing = null\n  this.gracePeriod = false\n  this.readDOMTimeout = null\n};\n\nContentEditableInput.prototype.init = function (display) {\n    var this$1 = this;\n\n  var input = this, cm = input.cm\n  var div = input.div = display.lineDiv\n  disableBrowserMagic(div, cm.options.spellcheck)\n\n  on(div, \"paste\", function (e) {\n    if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n    // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n    if (ie_version <= 11) { setTimeout(operation(cm, function () {\n      if (!input.pollContent()) { regChange(cm) }\n    }), 20) }\n  })\n\n  on(div, \"compositionstart\", function (e) {\n    this$1.composing = {data: e.data, done: false}\n  })\n  on(div, \"compositionupdate\", function (e) {\n    if (!this$1.composing) { this$1.composing = {data: e.data, done: false} }\n  })\n  on(div, \"compositionend\", function (e) {\n    if (this$1.composing) {\n      if (e.data != this$1.composing.data) { this$1.readFromDOMSoon() }\n      this$1.composing.done = true\n    }\n  })\n\n  on(div, \"touchstart\", function () { return input.forceCompositionEnd(); })\n\n  on(div, \"input\", function () {\n    if (!this$1.composing) { this$1.readFromDOMSoon() }\n  })\n\n  function onCopyCut(e) {\n    if (signalDOMEvent(cm, e)) { return }\n    if (cm.somethingSelected()) {\n      setLastCopied({lineWise: false, text: cm.getSelections()})\n      if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\") }\n    } else if (!cm.options.lineWiseCopyCut) {\n      return\n    } else {\n      var ranges = copyableRanges(cm)\n      setLastCopied({lineWise: true, text: ranges.text})\n      if (e.type == \"cut\") {\n        cm.operation(function () {\n          cm.setSelections(ranges.ranges, 0, sel_dontScroll)\n          cm.replaceSelection(\"\", null, \"cut\")\n        })\n      }\n    }\n    if (e.clipboardData) {\n      e.clipboardData.clearData()\n      var content = lastCopied.text.join(\"\\n\")\n      // iOS exposes the clipboard API, but seems to discard content inserted into it\n      e.clipboardData.setData(\"Text\", content)\n      if (e.clipboardData.getData(\"Text\") == content) {\n        e.preventDefault()\n        return\n      }\n    }\n    // Old-fashioned briefly-focus-a-textarea hack\n    var kludge = hiddenTextarea(), te = kludge.firstChild\n    cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild)\n    te.value = lastCopied.text.join(\"\\n\")\n    var hadFocus = document.activeElement\n    selectInput(te)\n    setTimeout(function () {\n      cm.display.lineSpace.removeChild(kludge)\n      hadFocus.focus()\n      if (hadFocus == div) { input.showPrimarySelection() }\n    }, 50)\n  }\n  on(div, \"copy\", onCopyCut)\n  on(div, \"cut\", onCopyCut)\n};\n\nContentEditableInput.prototype.prepareSelection = function () {\n  var result = prepareSelection(this.cm, false)\n  result.focus = this.cm.state.focused\n  return result\n};\n\nContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n  if (!info || !this.cm.display.view.length) { return }\n  if (info.focus || takeFocus) { this.showPrimarySelection() }\n  this.showMultipleSelections(info)\n};\n\nContentEditableInput.prototype.showPrimarySelection = function () {\n  var sel = window.getSelection(), prim = this.cm.doc.sel.primary()\n  var curAnchor = domToPos(this.cm, sel.anchorNode, sel.anchorOffset)\n  var curFocus = domToPos(this.cm, sel.focusNode, sel.focusOffset)\n  if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n      cmp(minPos(curAnchor, curFocus), prim.from()) == 0 &&\n      cmp(maxPos(curAnchor, curFocus), prim.to()) == 0)\n    { return }\n\n  var start = posToDOM(this.cm, prim.from())\n  var end = posToDOM(this.cm, prim.to())\n  if (!start && !end) { return }\n\n  var view = this.cm.display.view\n  var old = sel.rangeCount && sel.getRangeAt(0)\n  if (!start) {\n    start = {node: view[0].measure.map[2], offset: 0}\n  } else if (!end) { // FIXME dangerously hacky\n    var measure = view[view.length - 1].measure\n    var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map\n    end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]}\n  }\n\n  var rng\n  try { rng = range(start.node, start.offset, end.offset, end.node) }\n  catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n  if (rng) {\n    if (!gecko && this.cm.state.focused) {\n      sel.collapse(start.node, start.offset)\n      if (!rng.collapsed) {\n        sel.removeAllRanges()\n        sel.addRange(rng)\n      }\n    } else {\n      sel.removeAllRanges()\n      sel.addRange(rng)\n    }\n    if (old && sel.anchorNode == null) { sel.addRange(old) }\n    else if (gecko) { this.startGracePeriod() }\n  }\n  this.rememberSelection()\n};\n\nContentEditableInput.prototype.startGracePeriod = function () {\n    var this$1 = this;\n\n  clearTimeout(this.gracePeriod)\n  this.gracePeriod = setTimeout(function () {\n    this$1.gracePeriod = false\n    if (this$1.selectionChanged())\n      { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }) }\n  }, 20)\n};\n\nContentEditableInput.prototype.showMultipleSelections = function (info) {\n  removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors)\n  removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection)\n};\n\nContentEditableInput.prototype.rememberSelection = function () {\n  var sel = window.getSelection()\n  this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset\n  this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset\n};\n\nContentEditableInput.prototype.selectionInEditor = function () {\n  var sel = window.getSelection()\n  if (!sel.rangeCount) { return false }\n  var node = sel.getRangeAt(0).commonAncestorContainer\n  return contains(this.div, node)\n};\n\nContentEditableInput.prototype.focus = function () {\n  if (this.cm.options.readOnly != \"nocursor\") {\n    if (!this.selectionInEditor())\n      { this.showSelection(this.prepareSelection(), true) }\n    this.div.focus()\n  }\n};\nContentEditableInput.prototype.blur = function () { this.div.blur() };\nContentEditableInput.prototype.getField = function () { return this.div };\n\nContentEditableInput.prototype.supportsTouch = function () { return true };\n\nContentEditableInput.prototype.receivedFocus = function () {\n  var input = this\n  if (this.selectionInEditor())\n    { this.pollSelection() }\n  else\n    { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }) }\n\n  function poll() {\n    if (input.cm.state.focused) {\n      input.pollSelection()\n      input.polling.set(input.cm.options.pollInterval, poll)\n    }\n  }\n  this.polling.set(this.cm.options.pollInterval, poll)\n};\n\nContentEditableInput.prototype.selectionChanged = function () {\n  var sel = window.getSelection()\n  return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n    sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n};\n\nContentEditableInput.prototype.pollSelection = function () {\n  if (!this.composing && this.readDOMTimeout == null && !this.gracePeriod && this.selectionChanged()) {\n    var sel = window.getSelection(), cm = this.cm\n    this.rememberSelection()\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset)\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset)\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll)\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true }\n    }) }\n  }\n};\n\nContentEditableInput.prototype.pollContent = function () {\n  if (this.readDOMTimeout != null) {\n    clearTimeout(this.readDOMTimeout)\n    this.readDOMTimeout = null\n  }\n\n  var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary()\n  var from = sel.from(), to = sel.to()\n  if (from.ch == 0 && from.line > cm.firstLine())\n    { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length) }\n  if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n    { to = Pos(to.line + 1, 0) }\n  if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n  var fromIndex, fromLine, fromNode\n  if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n    fromLine = lineNo(display.view[0].line)\n    fromNode = display.view[0].node\n  } else {\n    fromLine = lineNo(display.view[fromIndex].line)\n    fromNode = display.view[fromIndex - 1].node.nextSibling\n  }\n  var toIndex = findViewIndex(cm, to.line)\n  var toLine, toNode\n  if (toIndex == display.view.length - 1) {\n    toLine = display.viewTo - 1\n    toNode = display.lineDiv.lastChild\n  } else {\n    toLine = lineNo(display.view[toIndex + 1].line) - 1\n    toNode = display.view[toIndex + 1].node.previousSibling\n  }\n\n  if (!fromNode) { return false }\n  var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine))\n  var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length))\n  while (newText.length > 1 && oldText.length > 1) {\n    if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine-- }\n    else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++ }\n    else { break }\n  }\n\n  var cutFront = 0, cutEnd = 0\n  var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length)\n  while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n    { ++cutFront }\n  var newBot = lst(newText), oldBot = lst(oldText)\n  var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                           oldBot.length - (oldText.length == 1 ? cutFront : 0))\n  while (cutEnd < maxCutEnd &&\n         newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n    { ++cutEnd }\n\n  newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\")\n  newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\")\n\n  var chFrom = Pos(fromLine, cutFront)\n  var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0)\n  if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n    replaceRange(cm.doc, newText, chFrom, chTo, \"+input\")\n    return true\n  }\n};\n\nContentEditableInput.prototype.ensurePolled = function () {\n  this.forceCompositionEnd()\n};\nContentEditableInput.prototype.reset = function () {\n  this.forceCompositionEnd()\n};\nContentEditableInput.prototype.forceCompositionEnd = function () {\n  if (!this.composing) { return }\n  clearTimeout(this.readDOMTimeout)\n  this.composing = null\n  if (!this.pollContent()) { regChange(this.cm) }\n  this.div.blur()\n  this.div.focus()\n};\nContentEditableInput.prototype.readFromDOMSoon = function () {\n    var this$1 = this;\n\n  if (this.readDOMTimeout != null) { return }\n  this.readDOMTimeout = setTimeout(function () {\n    this$1.readDOMTimeout = null\n    if (this$1.composing) {\n      if (this$1.composing.done) { this$1.composing = null }\n      else { return }\n    }\n    if (this$1.cm.isReadOnly() || !this$1.pollContent())\n      { runInOp(this$1.cm, function () { return regChange(this$1.cm); }) }\n  }, 80)\n};\n\nContentEditableInput.prototype.setUneditable = function (node) {\n  node.contentEditable = \"false\"\n};\n\nContentEditableInput.prototype.onKeyPress = function (e) {\n  e.preventDefault()\n  if (!this.cm.isReadOnly())\n    { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0) }\n};\n\nContentEditableInput.prototype.readOnlyChanged = function (val) {\n  this.div.contentEditable = String(val != \"nocursor\")\n};\n\nContentEditableInput.prototype.onContextMenu = function () {};\nContentEditableInput.prototype.resetPosition = function () {};\n\nContentEditableInput.prototype.needsContentAttribute = true\n\nfunction posToDOM(cm, pos) {\n  var view = findViewForLine(cm, pos.line)\n  if (!view || view.hidden) { return null }\n  var line = getLine(cm.doc, pos.line)\n  var info = mapFromLineView(view, line, pos.line)\n\n  var order = getOrder(line), side = \"left\"\n  if (order) {\n    var partPos = getBidiPartAt(order, pos.ch)\n    side = partPos % 2 ? \"right\" : \"left\"\n  }\n  var result = nodeAndOffsetInLineMap(info.map, pos.ch, side)\n  result.offset = result.collapse == \"right\" ? result.end : result.start\n  return result\n}\n\nfunction badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\nfunction domTextBetween(cm, from, to, fromLine, toLine) {\n  var text = \"\", closing = false, lineSep = cm.doc.lineSeparator()\n  function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n  function walk(node) {\n    if (node.nodeType == 1) {\n      var cmText = node.getAttribute(\"cm-text\")\n      if (cmText != null) {\n        if (cmText == \"\") { text += node.textContent.replace(/\\u200b/g, \"\") }\n        else { text += cmText }\n        return\n      }\n      var markerID = node.getAttribute(\"cm-marker\"), range\n      if (markerID) {\n        var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID))\n        if (found.length && (range = found[0].find()))\n          { text += getBetween(cm.doc, range.from, range.to).join(lineSep) }\n        return\n      }\n      if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n      for (var i = 0; i < node.childNodes.length; i++)\n        { walk(node.childNodes[i]) }\n      if (/^(pre|div|p)$/i.test(node.nodeName))\n        { closing = true }\n    } else if (node.nodeType == 3) {\n      var val = node.nodeValue\n      if (!val) { return }\n      if (closing) {\n        text += lineSep\n        closing = false\n      }\n      text += val\n    }\n  }\n  for (;;) {\n    walk(from)\n    if (from == to) { break }\n    from = from.nextSibling\n  }\n  return text\n}\n\nfunction domToPos(cm, node, offset) {\n  var lineNode\n  if (node == cm.display.lineDiv) {\n    lineNode = cm.display.lineDiv.childNodes[offset]\n    if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n    node = null; offset = 0\n  } else {\n    for (lineNode = node;; lineNode = lineNode.parentNode) {\n      if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n      if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n    }\n  }\n  for (var i = 0; i < cm.display.view.length; i++) {\n    var lineView = cm.display.view[i]\n    if (lineView.node == lineNode)\n      { return locateNodeInLineView(lineView, node, offset) }\n  }\n}\n\nfunction locateNodeInLineView(lineView, node, offset) {\n  var wrapper = lineView.text.firstChild, bad = false\n  if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n  if (node == wrapper) {\n    bad = true\n    node = wrapper.childNodes[offset]\n    offset = 0\n    if (!node) {\n      var line = lineView.rest ? lst(lineView.rest) : lineView.line\n      return badPos(Pos(lineNo(line), line.text.length), bad)\n    }\n  }\n\n  var textNode = node.nodeType == 3 ? node : null, topNode = node\n  if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n    textNode = node.firstChild\n    if (offset) { offset = textNode.nodeValue.length }\n  }\n  while (topNode.parentNode != wrapper) { topNode = topNode.parentNode }\n  var measure = lineView.measure, maps = measure.maps\n\n  function find(textNode, topNode, offset) {\n    for (var i = -1; i < (maps ? maps.length : 0); i++) {\n      var map = i < 0 ? measure.map : maps[i]\n      for (var j = 0; j < map.length; j += 3) {\n        var curNode = map[j + 2]\n        if (curNode == textNode || curNode == topNode) {\n          var line = lineNo(i < 0 ? lineView.line : lineView.rest[i])\n          var ch = map[j] + offset\n          if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)] }\n          return Pos(line, ch)\n        }\n      }\n    }\n  }\n  var found = find(textNode, topNode, offset)\n  if (found) { return badPos(found, bad) }\n\n  // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n  for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n    found = find(after, after.firstChild, 0)\n    if (found)\n      { return badPos(Pos(found.line, found.ch - dist), bad) }\n    else\n      { dist += after.textContent.length }\n  }\n  for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n    found = find(before, before.firstChild, -1)\n    if (found)\n      { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n    else\n      { dist$1 += before.textContent.length }\n  }\n}\n\n// TEXTAREA INPUT STYLE\n\nvar TextareaInput = function(cm) {\n  this.cm = cm\n  // See input.poll and input.reset\n  this.prevInput = \"\"\n\n  // Flag that indicates whether we expect input to appear real soon\n  // now (after some event like 'keypress' or 'input') and are\n  // polling intensively.\n  this.pollingFast = false\n  // Self-resetting timeout for the poller\n  this.polling = new Delayed()\n  // Tracks when input.reset has punted to just putting a short\n  // string into the textarea instead of the full selection.\n  this.inaccurateSelection = false\n  // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n  this.hasSelection = false\n  this.composing = null\n};\n\nTextareaInput.prototype.init = function (display) {\n    var this$1 = this;\n\n  var input = this, cm = this.cm\n\n  // Wraps and hides input textarea\n  var div = this.wrapper = hiddenTextarea()\n  // The semihidden textarea that is focused when the editor is\n  // focused, and receives input.\n  var te = this.textarea = div.firstChild\n  display.wrapper.insertBefore(div, display.wrapper.firstChild)\n\n  // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n  if (ios) { te.style.width = \"0px\" }\n\n  on(te, \"input\", function () {\n    if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null }\n    input.poll()\n  })\n\n  on(te, \"paste\", function (e) {\n    if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n    cm.state.pasteIncoming = true\n    input.fastPoll()\n  })\n\n  function prepareCopyCut(e) {\n    if (signalDOMEvent(cm, e)) { return }\n    if (cm.somethingSelected()) {\n      setLastCopied({lineWise: false, text: cm.getSelections()})\n      if (input.inaccurateSelection) {\n        input.prevInput = \"\"\n        input.inaccurateSelection = false\n        te.value = lastCopied.text.join(\"\\n\")\n        selectInput(te)\n      }\n    } else if (!cm.options.lineWiseCopyCut) {\n      return\n    } else {\n      var ranges = copyableRanges(cm)\n      setLastCopied({lineWise: true, text: ranges.text})\n      if (e.type == \"cut\") {\n        cm.setSelections(ranges.ranges, null, sel_dontScroll)\n      } else {\n        input.prevInput = \"\"\n        te.value = ranges.text.join(\"\\n\")\n        selectInput(te)\n      }\n    }\n    if (e.type == \"cut\") { cm.state.cutIncoming = true }\n  }\n  on(te, \"cut\", prepareCopyCut)\n  on(te, \"copy\", prepareCopyCut)\n\n  on(display.scroller, \"paste\", function (e) {\n    if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n    cm.state.pasteIncoming = true\n    input.focus()\n  })\n\n  // Prevent normal selection in the editor (we handle our own)\n  on(display.lineSpace, \"selectstart\", function (e) {\n    if (!eventInWidget(display, e)) { e_preventDefault(e) }\n  })\n\n  on(te, \"compositionstart\", function () {\n    var start = cm.getCursor(\"from\")\n    if (input.composing) { input.composing.range.clear() }\n    input.composing = {\n      start: start,\n      range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n    }\n  })\n  on(te, \"compositionend\", function () {\n    if (input.composing) {\n      input.poll()\n      input.composing.range.clear()\n      input.composing = null\n    }\n  })\n};\n\nTextareaInput.prototype.prepareSelection = function () {\n  // Redraw the selection and/or cursor\n  var cm = this.cm, display = cm.display, doc = cm.doc\n  var result = prepareSelection(cm)\n\n  // Move the hidden textarea near the cursor to prevent scrolling artifacts\n  if (cm.options.moveInputWithCursor) {\n    var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\")\n    var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect()\n    result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                        headPos.top + lineOff.top - wrapOff.top))\n    result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                         headPos.left + lineOff.left - wrapOff.left))\n  }\n\n  return result\n};\n\nTextareaInput.prototype.showSelection = function (drawn) {\n  var cm = this.cm, display = cm.display\n  removeChildrenAndAdd(display.cursorDiv, drawn.cursors)\n  removeChildrenAndAdd(display.selectionDiv, drawn.selection)\n  if (drawn.teTop != null) {\n    this.wrapper.style.top = drawn.teTop + \"px\"\n    this.wrapper.style.left = drawn.teLeft + \"px\"\n  }\n};\n\n// Reset the input to correspond to the selection (or to be empty,\n// when not typing and nothing is selected)\nTextareaInput.prototype.reset = function (typing) {\n  if (this.contextMenuPending) { return }\n  var minimal, selected, cm = this.cm, doc = cm.doc\n  if (cm.somethingSelected()) {\n    this.prevInput = \"\"\n    var range = doc.sel.primary()\n    minimal = hasCopyEvent &&\n      (range.to().line - range.from().line > 100 || (selected = cm.getSelection()).length > 1000)\n    var content = minimal ? \"-\" : selected || cm.getSelection()\n    this.textarea.value = content\n    if (cm.state.focused) { selectInput(this.textarea) }\n    if (ie && ie_version >= 9) { this.hasSelection = content }\n  } else if (!typing) {\n    this.prevInput = this.textarea.value = \"\"\n    if (ie && ie_version >= 9) { this.hasSelection = null }\n  }\n  this.inaccurateSelection = minimal\n};\n\nTextareaInput.prototype.getField = function () { return this.textarea };\n\nTextareaInput.prototype.supportsTouch = function () { return false };\n\nTextareaInput.prototype.focus = function () {\n  if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n    try { this.textarea.focus() }\n    catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n  }\n};\n\nTextareaInput.prototype.blur = function () { this.textarea.blur() };\n\nTextareaInput.prototype.resetPosition = function () {\n  this.wrapper.style.top = this.wrapper.style.left = 0\n};\n\nTextareaInput.prototype.receivedFocus = function () { this.slowPoll() };\n\n// Poll for input changes, using the normal rate of polling. This\n// runs as long as the editor is focused.\nTextareaInput.prototype.slowPoll = function () {\n    var this$1 = this;\n\n  if (this.pollingFast) { return }\n  this.polling.set(this.cm.options.pollInterval, function () {\n    this$1.poll()\n    if (this$1.cm.state.focused) { this$1.slowPoll() }\n  })\n};\n\n// When an event has just come in that is likely to add or change\n// something in the input textarea, we poll faster, to ensure that\n// the change appears on the screen quickly.\nTextareaInput.prototype.fastPoll = function () {\n  var missed = false, input = this\n  input.pollingFast = true\n  function p() {\n    var changed = input.poll()\n    if (!changed && !missed) {missed = true; input.polling.set(60, p)}\n    else {input.pollingFast = false; input.slowPoll()}\n  }\n  input.polling.set(20, p)\n};\n\n// Read input from the textarea, and update the document to match.\n// When something is selected, it is present in the textarea, and\n// selected (unless it is huge, in which case a placeholder is\n// used). When nothing is selected, the cursor sits after previously\n// seen text (can be empty), which is stored in prevInput (we must\n// not reset the textarea when typing, because that breaks IME).\nTextareaInput.prototype.poll = function () {\n    var this$1 = this;\n\n  var cm = this.cm, input = this.textarea, prevInput = this.prevInput\n  // Since this is called a *lot*, try to bail out as cheaply as\n  // possible when it is clear that nothing happened. hasSelection\n  // will be the case when there is a lot of text in the textarea,\n  // in which case reading its value would be expensive.\n  if (this.contextMenuPending || !cm.state.focused ||\n      (hasSelection(input) && !prevInput && !this.composing) ||\n      cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n    { return false }\n\n  var text = input.value\n  // If nothing changed, bail.\n  if (text == prevInput && !cm.somethingSelected()) { return false }\n  // Work around nonsensical selection resetting in IE9/10, and\n  // inexplicable appearance of private area unicode characters on\n  // some key combos in Mac (#2689).\n  if (ie && ie_version >= 9 && this.hasSelection === text ||\n      mac && /[\\uf700-\\uf7ff]/.test(text)) {\n    cm.display.input.reset()\n    return false\n  }\n\n  if (cm.doc.sel == cm.display.selForContextMenu) {\n    var first = text.charCodeAt(0)\n    if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\" }\n    if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n  }\n  // Find the part of the input that is actually new\n  var same = 0, l = Math.min(prevInput.length, text.length)\n  while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same }\n\n  runInOp(cm, function () {\n    applyTextInput(cm, text.slice(same), prevInput.length - same,\n                   null, this$1.composing ? \"*compose\" : null)\n\n    // Don't leave long text in the textarea, since it makes further polling slow\n    if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\" }\n    else { this$1.prevInput = text }\n\n    if (this$1.composing) {\n      this$1.composing.range.clear()\n      this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                         {className: \"CodeMirror-composing\"})\n    }\n  })\n  return true\n};\n\nTextareaInput.prototype.ensurePolled = function () {\n  if (this.pollingFast && this.poll()) { this.pollingFast = false }\n};\n\nTextareaInput.prototype.onKeyPress = function () {\n  if (ie && ie_version >= 9) { this.hasSelection = null }\n  this.fastPoll()\n};\n\nTextareaInput.prototype.onContextMenu = function (e) {\n  var input = this, cm = input.cm, display = cm.display, te = input.textarea\n  var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop\n  if (!pos || presto) { return } // Opera is difficult.\n\n  // Reset the current text selection only if the click is done outside of the selection\n  // and 'resetSelectionOnContextMenu' option is true.\n  var reset = cm.options.resetSelectionOnContextMenu\n  if (reset && cm.doc.sel.contains(pos) == -1)\n    { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll) }\n\n  var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText\n  input.wrapper.style.cssText = \"position: absolute\"\n  var wrapperBox = input.wrapper.getBoundingClientRect()\n  te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\"\n  var oldScrollY\n  if (webkit) { oldScrollY = window.scrollY } // Work around Chrome issue (#2712)\n  display.input.focus()\n  if (webkit) { window.scrollTo(null, oldScrollY) }\n  display.input.reset()\n  // Adds \"Select all\" to context menu in FF\n  if (!cm.somethingSelected()) { te.value = input.prevInput = \" \" }\n  input.contextMenuPending = true\n  display.selForContextMenu = cm.doc.sel\n  clearTimeout(display.detectingSelectAll)\n\n  // Select-all will be greyed out if there's nothing to select, so\n  // this adds a zero-width space so that we can later check whether\n  // it got selected.\n  function prepareSelectAllHack() {\n    if (te.selectionStart != null) {\n      var selected = cm.somethingSelected()\n      var extval = \"\\u200b\" + (selected ? te.value : \"\")\n      te.value = \"\\u21da\" // Used to catch context-menu undo\n      te.value = extval\n      input.prevInput = selected ? \"\" : \"\\u200b\"\n      te.selectionStart = 1; te.selectionEnd = extval.length\n      // Re-set this, in case some other handler touched the\n      // selection in the meantime.\n      display.selForContextMenu = cm.doc.sel\n    }\n  }\n  function rehide() {\n    input.contextMenuPending = false\n    input.wrapper.style.cssText = oldWrapperCSS\n    te.style.cssText = oldCSS\n    if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos) }\n\n    // Try to detect the user choosing select-all\n    if (te.selectionStart != null) {\n      if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack() }\n      var i = 0, poll = function () {\n        if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n            te.selectionEnd > 0 && input.prevInput == \"\\u200b\")\n          { operation(cm, selectAll)(cm) }\n        else if (i++ < 10) { display.detectingSelectAll = setTimeout(poll, 500) }\n        else { display.input.reset() }\n      }\n      display.detectingSelectAll = setTimeout(poll, 200)\n    }\n  }\n\n  if (ie && ie_version >= 9) { prepareSelectAllHack() }\n  if (captureRightClick) {\n    e_stop(e)\n    var mouseup = function () {\n      off(window, \"mouseup\", mouseup)\n      setTimeout(rehide, 20)\n    }\n    on(window, \"mouseup\", mouseup)\n  } else {\n    setTimeout(rehide, 50)\n  }\n};\n\nTextareaInput.prototype.readOnlyChanged = function (val) {\n  if (!val) { this.reset() }\n};\n\nTextareaInput.prototype.setUneditable = function () {};\n\nTextareaInput.prototype.needsContentAttribute = false\n\nfunction fromTextArea(textarea, options) {\n  options = options ? copyObj(options) : {}\n  options.value = textarea.value\n  if (!options.tabindex && textarea.tabIndex)\n    { options.tabindex = textarea.tabIndex }\n  if (!options.placeholder && textarea.placeholder)\n    { options.placeholder = textarea.placeholder }\n  // Set autofocus to true if this textarea is focused, or if it has\n  // autofocus and no other element is focused.\n  if (options.autofocus == null) {\n    var hasFocus = activeElt()\n    options.autofocus = hasFocus == textarea ||\n      textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body\n  }\n\n  function save() {textarea.value = cm.getValue()}\n\n  var realSubmit\n  if (textarea.form) {\n    on(textarea.form, \"submit\", save)\n    // Deplorable hack to make the submit method do the right thing.\n    if (!options.leaveSubmitMethodAlone) {\n      var form = textarea.form\n      realSubmit = form.submit\n      try {\n        var wrappedSubmit = form.submit = function () {\n          save()\n          form.submit = realSubmit\n          form.submit()\n          form.submit = wrappedSubmit\n        }\n      } catch(e) {}\n    }\n  }\n\n  options.finishInit = function (cm) {\n    cm.save = save\n    cm.getTextArea = function () { return textarea; }\n    cm.toTextArea = function () {\n      cm.toTextArea = isNaN // Prevent this from being ran twice\n      save()\n      textarea.parentNode.removeChild(cm.getWrapperElement())\n      textarea.style.display = \"\"\n      if (textarea.form) {\n        off(textarea.form, \"submit\", save)\n        if (typeof textarea.form.submit == \"function\")\n          { textarea.form.submit = realSubmit }\n      }\n    }\n  }\n\n  textarea.style.display = \"none\"\n  var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n    options)\n  return cm\n}\n\nfunction addLegacyProps(CodeMirror) {\n  CodeMirror.off = off\n  CodeMirror.on = on\n  CodeMirror.wheelEventPixels = wheelEventPixels\n  CodeMirror.Doc = Doc\n  CodeMirror.splitLines = splitLinesAuto\n  CodeMirror.countColumn = countColumn\n  CodeMirror.findColumn = findColumn\n  CodeMirror.isWordChar = isWordCharBasic\n  CodeMirror.Pass = Pass\n  CodeMirror.signal = signal\n  CodeMirror.Line = Line\n  CodeMirror.changeEnd = changeEnd\n  CodeMirror.scrollbarModel = scrollbarModel\n  CodeMirror.Pos = Pos\n  CodeMirror.cmpPos = cmp\n  CodeMirror.modes = modes\n  CodeMirror.mimeModes = mimeModes\n  CodeMirror.resolveMode = resolveMode\n  CodeMirror.getMode = getMode\n  CodeMirror.modeExtensions = modeExtensions\n  CodeMirror.extendMode = extendMode\n  CodeMirror.copyState = copyState\n  CodeMirror.startState = startState\n  CodeMirror.innerMode = innerMode\n  CodeMirror.commands = commands\n  CodeMirror.keyMap = keyMap\n  CodeMirror.keyName = keyName\n  CodeMirror.isModifierKey = isModifierKey\n  CodeMirror.lookupKey = lookupKey\n  CodeMirror.normalizeKeyMap = normalizeKeyMap\n  CodeMirror.StringStream = StringStream\n  CodeMirror.SharedTextMarker = SharedTextMarker\n  CodeMirror.TextMarker = TextMarker\n  CodeMirror.LineWidget = LineWidget\n  CodeMirror.e_preventDefault = e_preventDefault\n  CodeMirror.e_stopPropagation = e_stopPropagation\n  CodeMirror.e_stop = e_stop\n  CodeMirror.addClass = addClass\n  CodeMirror.contains = contains\n  CodeMirror.rmClass = rmClass\n  CodeMirror.keyNames = keyNames\n}\n\n// EDITOR CONSTRUCTOR\n\ndefineOptions(CodeMirror)\n\naddEditorMethods(CodeMirror)\n\n// Set up methods on CodeMirror's prototype to redirect to the editor's document.\nvar dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \")\nfor (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n  { CodeMirror.prototype[prop] = (function(method) {\n    return function() {return method.apply(this.doc, arguments)}\n  })(Doc.prototype[prop]) } }\n\neventMixin(Doc)\n\n// INPUT HANDLING\n\nCodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput}\n\n// MODE DEFINITION AND QUERYING\n\n// Extra arguments are stored as the mode's dependencies, which is\n// used by (legacy) mechanisms like loadmode.js to automatically\n// load a mode. (Preferred mechanism is the require/define calls.)\nCodeMirror.defineMode = function(name/*, mode, …*/) {\n  if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name }\n  defineMode.apply(this, arguments)\n}\n\nCodeMirror.defineMIME = defineMIME\n\n// Minimal default mode.\nCodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); })\nCodeMirror.defineMIME(\"text/plain\", \"null\")\n\n// EXTENSIONS\n\nCodeMirror.defineExtension = function (name, func) {\n  CodeMirror.prototype[name] = func\n}\nCodeMirror.defineDocExtension = function (name, func) {\n  Doc.prototype[name] = func\n}\n\nCodeMirror.fromTextArea = fromTextArea\n\naddLegacyProps(CodeMirror)\n\nCodeMirror.version = \"5.23.0\"\n\nreturn CodeMirror;\n\n})));\n\n\n// WEBPACK FOOTER //\n// ./~/CodeMirror/lib/codemirror.js"],"sourceRoot":""}